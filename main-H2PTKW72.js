var GD=Object.create;var Ph=Object.defineProperty,zD=Object.defineProperties,WD=Object.getOwnPropertyDescriptor,YD=Object.getOwnPropertyDescriptors,qD=Object.getOwnPropertyNames,Ll=Object.getOwnPropertySymbols,XD=Object.getPrototypeOf,Vh=Object.prototype.hasOwnProperty,x_=Object.prototype.propertyIsEnumerable;var Lh=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e);var b_=(e,t,n)=>t in e?Ph(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_e=(e,t)=>{for(var n in t||={})Vh.call(t,n)&&b_(e,n,t[n]);if(Ll)for(var n of Ll(t))x_.call(t,n)&&b_(e,n,t[n]);return e},et=(e,t)=>zD(e,YD(t));var jo=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var w_=(e,t)=>{var n={};for(var i in e)Vh.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&Ll)for(var i of Ll(e))t.indexOf(i)<0&&x_.call(e,i)&&(n[i]=e[i]);return n};var C_=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var QD=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of qD(t))!Vh.call(e,r)&&r!==n&&Ph(e,r,{get:()=>t[r],enumerable:!(i=WD(t,r))||i.enumerable});return e};var Bh=(e,t,n)=>(n=e!=null?GD(XD(e)):{},QD(t||!e||!e.__esModule?Ph(n,"default",{value:e,enumerable:!0}):n,e));var ZD=function(e,t){this[0]=e,this[1]=t};var xs=e=>{var t=e[Lh("asyncIterator")],n=!1,i,r={};return t==null?(t=e[Lh("iterator")](),i=s=>r[s]=o=>t[s](o)):(t=t.call(e),i=s=>r[s]=o=>{if(n){if(n=!1,s==="throw")throw o;return o}return n=!0,{done:!1,value:new ZD(new Promise(a=>{var l=t[s](o);if(!(l instanceof Object))throw TypeError("Object expected");a(l)}),1)}}),r[Lh("iterator")]=()=>r,i("next"),"throw"in t?i("throw"):r.throw=s=>{throw s},"return"in t&&i("return"),r};var Im=C_((Kw,Am)=>{"use strict";(function(e){if(typeof Kw=="object"&&typeof Am<"u")Am.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var t;typeof window<"u"?t=window:typeof global<"u"?t=global:typeof self<"u"?t=self:t=this,t.mqtt=e()}})(function(){var e,t,n;return function(){function i(r,s,o){function a(d,h){if(!s[d]){if(!r[d]){var f=typeof jo=="function"&&jo;if(!h&&f)return f(d,!0);if(l)return l(d,!0);var u=new Error("Cannot find module '"+d+"'");throw u.code="MODULE_NOT_FOUND",u}var p=s[d]={exports:{}};r[d][0].call(p.exports,function(g){var m=r[d][1][g];return a(m||g)},p,p.exports,i,r,s,o)}return s[d].exports}for(var l=typeof jo=="function"&&jo,c=0;c<o.length;c++)a(o[c]);return a}return i}()({1:[function(i,r,s){"use strict";s.byteLength=u,s.toByteArray=g,s.fromByteArray=w;for(var o=[],a=[],l=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,h=c.length;d<h;++d)o[d]=c[d],a[c.charCodeAt(d)]=d;a[45]=62,a[95]=63;function f(C){var x=C.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=C.indexOf("=");T===-1&&(T=x);var A=T===x?0:4-T%4;return[T,A]}function u(C){var x=f(C),T=x[0],A=x[1];return(T+A)*3/4-A}function p(C,x,T){return(x+T)*3/4-T}function g(C){var x,T=f(C),A=T[0],O=T[1],B=new l(p(C,A,O)),$=0,k=O>0?A-4:A,N;for(N=0;N<k;N+=4)x=a[C.charCodeAt(N)]<<18|a[C.charCodeAt(N+1)]<<12|a[C.charCodeAt(N+2)]<<6|a[C.charCodeAt(N+3)],B[$++]=x>>16&255,B[$++]=x>>8&255,B[$++]=x&255;return O===2&&(x=a[C.charCodeAt(N)]<<2|a[C.charCodeAt(N+1)]>>4,B[$++]=x&255),O===1&&(x=a[C.charCodeAt(N)]<<10|a[C.charCodeAt(N+1)]<<4|a[C.charCodeAt(N+2)]>>2,B[$++]=x>>8&255,B[$++]=x&255),B}function m(C){return o[C>>18&63]+o[C>>12&63]+o[C>>6&63]+o[C&63]}function b(C,x,T){for(var A,O=[],B=x;B<T;B+=3)A=(C[B]<<16&16711680)+(C[B+1]<<8&65280)+(C[B+2]&255),O.push(m(A));return O.join("")}function w(C){for(var x,T=C.length,A=T%3,O=[],B=16383,$=0,k=T-A;$<k;$+=B)O.push(b(C,$,$+B>k?k:$+B));return A===1?(x=C[T-1],O.push(o[x>>2]+o[x<<4&63]+"==")):A===2&&(x=(C[T-2]<<8)+C[T-1],O.push(o[x>>10]+o[x>>4&63]+o[x<<2&63]+"=")),O.join("")}},{}],2:[function(i,r,s){},{}],3:[function(i,r,s){(function(o){(function(){"use strict";var a=i("base64-js"),l=i("ieee754");s.Buffer=f,s.SlowBuffer=A,s.INSPECT_MAX_BYTES=50;var c=2147483647;s.kMaxLength=c,f.TYPED_ARRAY_SUPPORT=d(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{var y=new Uint8Array(1);return y.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},y.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function h(y){if(y>c)throw new RangeError('The value "'+y+'" is invalid for option "size"');var _=new Uint8Array(y);return _.__proto__=f.prototype,_}function f(y,_,v){if(typeof y=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(y)}return u(y,_,v)}typeof Symbol<"u"&&Symbol.species!=null&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),f.poolSize=8192;function u(y,_,v){if(typeof y=="string")return b(y,_);if(ArrayBuffer.isView(y))return w(y);if(y==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y);if(se(y,ArrayBuffer)||y&&se(y.buffer,ArrayBuffer))return C(y,_,v);if(typeof y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var I=y.valueOf&&y.valueOf();if(I!=null&&I!==y)return f.from(I,_,v);var j=x(y);if(j)return j;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof y[Symbol.toPrimitive]=="function")return f.from(y[Symbol.toPrimitive]("string"),_,v);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y)}f.from=function(y,_,v){return u(y,_,v)},f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array;function p(y){if(typeof y!="number")throw new TypeError('"size" argument must be of type number');if(y<0)throw new RangeError('The value "'+y+'" is invalid for option "size"')}function g(y,_,v){return p(y),y<=0?h(y):_!==void 0?typeof v=="string"?h(y).fill(_,v):h(y).fill(_):h(y)}f.alloc=function(y,_,v){return g(y,_,v)};function m(y){return p(y),h(y<0?0:T(y)|0)}f.allocUnsafe=function(y){return m(y)},f.allocUnsafeSlow=function(y){return m(y)};function b(y,_){if((typeof _!="string"||_==="")&&(_="utf8"),!f.isEncoding(_))throw new TypeError("Unknown encoding: "+_);var v=O(y,_)|0,I=h(v),j=I.write(y,_);return j!==v&&(I=I.slice(0,j)),I}function w(y){for(var _=y.length<0?0:T(y.length)|0,v=h(_),I=0;I<_;I+=1)v[I]=y[I]&255;return v}function C(y,_,v){if(_<0||y.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(y.byteLength<_+(v||0))throw new RangeError('"length" is outside of buffer bounds');var I;return _===void 0&&v===void 0?I=new Uint8Array(y):v===void 0?I=new Uint8Array(y,_):I=new Uint8Array(y,_,v),I.__proto__=f.prototype,I}function x(y){if(f.isBuffer(y)){var _=T(y.length)|0,v=h(_);return v.length===0||y.copy(v,0,0,_),v}if(y.length!==void 0)return typeof y.length!="number"||D(y.length)?h(0):w(y);if(y.type==="Buffer"&&Array.isArray(y.data))return w(y.data)}function T(y){if(y>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return y|0}function A(y){return+y!=y&&(y=0),f.alloc(+y)}f.isBuffer=function(_){return _!=null&&_._isBuffer===!0&&_!==f.prototype},f.compare=function(_,v){if(se(_,Uint8Array)&&(_=f.from(_,_.offset,_.byteLength)),se(v,Uint8Array)&&(v=f.from(v,v.offset,v.byteLength)),!f.isBuffer(_)||!f.isBuffer(v))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===v)return 0;for(var I=_.length,j=v.length,ne=0,le=Math.min(I,j);ne<le;++ne)if(_[ne]!==v[ne]){I=_[ne],j=v[ne];break}return I<j?-1:j<I?1:0},f.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(_,v){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return f.alloc(0);var I;if(v===void 0)for(v=0,I=0;I<_.length;++I)v+=_[I].length;var j=f.allocUnsafe(v),ne=0;for(I=0;I<_.length;++I){var le=_[I];if(se(le,Uint8Array)&&(le=f.from(le)),!f.isBuffer(le))throw new TypeError('"list" argument must be an Array of Buffers');le.copy(j,ne),ne+=le.length}return j};function O(y,_){if(f.isBuffer(y))return y.length;if(ArrayBuffer.isView(y)||se(y,ArrayBuffer))return y.byteLength;if(typeof y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof y);var v=y.length,I=arguments.length>2&&arguments[2]===!0;if(!I&&v===0)return 0;for(var j=!1;;)switch(_){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":return oe(y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v*2;case"hex":return v>>>1;case"base64":return L(y).length;default:if(j)return I?-1:oe(y).length;_=(""+_).toLowerCase(),j=!0}}f.byteLength=O;function B(y,_,v){var I=!1;if((_===void 0||_<0)&&(_=0),_>this.length||((v===void 0||v>this.length)&&(v=this.length),v<=0)||(v>>>=0,_>>>=0,v<=_))return"";for(y||(y="utf8");;)switch(y){case"hex":return re(this,_,v);case"utf8":case"utf-8":return S(this,_,v);case"ascii":return z(this,_,v);case"latin1":case"binary":return ce(this,_,v);case"base64":return W(this,_,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,_,v);default:if(I)throw new TypeError("Unknown encoding: "+y);y=(y+"").toLowerCase(),I=!0}}f.prototype._isBuffer=!0;function $(y,_,v){var I=y[_];y[_]=y[v],y[v]=I}f.prototype.swap16=function(){var _=this.length;if(_%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var v=0;v<_;v+=2)$(this,v,v+1);return this},f.prototype.swap32=function(){var _=this.length;if(_%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var v=0;v<_;v+=4)$(this,v,v+3),$(this,v+1,v+2);return this},f.prototype.swap64=function(){var _=this.length;if(_%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var v=0;v<_;v+=8)$(this,v,v+7),$(this,v+1,v+6),$(this,v+2,v+5),$(this,v+3,v+4);return this},f.prototype.toString=function(){var _=this.length;return _===0?"":arguments.length===0?S(this,0,_):B.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(_){if(!f.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_?!0:f.compare(this,_)===0},f.prototype.inspect=function(){var _="",v=s.INSPECT_MAX_BYTES;return _=this.toString("hex",0,v).replace(/(.{2})/g,"$1 ").trim(),this.length>v&&(_+=" ... "),"<Buffer "+_+">"},f.prototype.compare=function(_,v,I,j,ne){if(se(_,Uint8Array)&&(_=f.from(_,_.offset,_.byteLength)),!f.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(v===void 0&&(v=0),I===void 0&&(I=_?_.length:0),j===void 0&&(j=0),ne===void 0&&(ne=this.length),v<0||I>_.length||j<0||ne>this.length)throw new RangeError("out of range index");if(j>=ne&&v>=I)return 0;if(j>=ne)return-1;if(v>=I)return 1;if(v>>>=0,I>>>=0,j>>>=0,ne>>>=0,this===_)return 0;for(var le=ne-j,Ee=I-v,ze=Math.min(le,Ee),at=this.slice(j,ne),Dt=_.slice(v,I),lt=0;lt<ze;++lt)if(at[lt]!==Dt[lt]){le=at[lt],Ee=Dt[lt];break}return le<Ee?-1:Ee<le?1:0};function k(y,_,v,I,j){if(y.length===0)return-1;if(typeof v=="string"?(I=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),v=+v,D(v)&&(v=j?0:y.length-1),v<0&&(v=y.length+v),v>=y.length){if(j)return-1;v=y.length-1}else if(v<0)if(j)v=0;else return-1;if(typeof _=="string"&&(_=f.from(_,I)),f.isBuffer(_))return _.length===0?-1:N(y,_,v,I,j);if(typeof _=="number")return _=_&255,typeof Uint8Array.prototype.indexOf=="function"?j?Uint8Array.prototype.indexOf.call(y,_,v):Uint8Array.prototype.lastIndexOf.call(y,_,v):N(y,[_],v,I,j);throw new TypeError("val must be string, number or Buffer")}function N(y,_,v,I,j){var ne=1,le=y.length,Ee=_.length;if(I!==void 0&&(I=String(I).toLowerCase(),I==="ucs2"||I==="ucs-2"||I==="utf16le"||I==="utf-16le")){if(y.length<2||_.length<2)return-1;ne=2,le/=2,Ee/=2,v/=2}function ze(vs,Pi){return ne===1?vs[Pi]:vs.readUInt16BE(Pi*ne)}var at;if(j){var Dt=-1;for(at=v;at<le;at++)if(ze(y,at)===ze(_,Dt===-1?0:at-Dt)){if(Dt===-1&&(Dt=at),at-Dt+1===Ee)return Dt*ne}else Dt!==-1&&(at-=at-Dt),Dt=-1}else for(v+Ee>le&&(v=le-Ee),at=v;at>=0;at--){for(var lt=!0,Li=0;Li<Ee;Li++)if(ze(y,at+Li)!==ze(_,Li)){lt=!1;break}if(lt)return at}return-1}f.prototype.includes=function(_,v,I){return this.indexOf(_,v,I)!==-1},f.prototype.indexOf=function(_,v,I){return k(this,_,v,I,!0)},f.prototype.lastIndexOf=function(_,v,I){return k(this,_,v,I,!1)};function M(y,_,v,I){v=Number(v)||0;var j=y.length-v;I?(I=Number(I),I>j&&(I=j)):I=j;var ne=_.length;I>ne/2&&(I=ne/2);for(var le=0;le<I;++le){var Ee=parseInt(_.substr(le*2,2),16);if(D(Ee))return le;y[v+le]=Ee}return le}function G(y,_,v,I){return Z(oe(_,y.length-v),y,v,I)}function P(y,_,v,I){return Z(V(_),y,v,I)}function ue(y,_,v,I){return P(y,_,v,I)}function X(y,_,v,I){return Z(L(_),y,v,I)}function Q(y,_,v,I){return Z(F(_,y.length-v),y,v,I)}f.prototype.write=function(_,v,I,j){if(v===void 0)j="utf8",I=this.length,v=0;else if(I===void 0&&typeof v=="string")j=v,I=this.length,v=0;else if(isFinite(v))v=v>>>0,isFinite(I)?(I=I>>>0,j===void 0&&(j="utf8")):(j=I,I=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ne=this.length-v;if((I===void 0||I>ne)&&(I=ne),_.length>0&&(I<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");for(var le=!1;;)switch(j){case"hex":return M(this,_,v,I);case"utf8":case"utf-8":return G(this,_,v,I);case"ascii":return P(this,_,v,I);case"latin1":case"binary":return ue(this,_,v,I);case"base64":return X(this,_,v,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,_,v,I);default:if(le)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),le=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function W(y,_,v){return _===0&&v===y.length?a.fromByteArray(y):a.fromByteArray(y.slice(_,v))}function S(y,_,v){v=Math.min(y.length,v);for(var I=[],j=_;j<v;){var ne=y[j],le=null,Ee=ne>239?4:ne>223?3:ne>191?2:1;if(j+Ee<=v){var ze,at,Dt,lt;switch(Ee){case 1:ne<128&&(le=ne);break;case 2:ze=y[j+1],(ze&192)===128&&(lt=(ne&31)<<6|ze&63,lt>127&&(le=lt));break;case 3:ze=y[j+1],at=y[j+2],(ze&192)===128&&(at&192)===128&&(lt=(ne&15)<<12|(ze&63)<<6|at&63,lt>2047&&(lt<55296||lt>57343)&&(le=lt));break;case 4:ze=y[j+1],at=y[j+2],Dt=y[j+3],(ze&192)===128&&(at&192)===128&&(Dt&192)===128&&(lt=(ne&15)<<18|(ze&63)<<12|(at&63)<<6|Dt&63,lt>65535&&lt<1114112&&(le=lt))}}le===null?(le=65533,Ee=1):le>65535&&(le-=65536,I.push(le>>>10&1023|55296),le=56320|le&1023),I.push(le),j+=Ee}return U(I)}var R=4096;function U(y){var _=y.length;if(_<=R)return String.fromCharCode.apply(String,y);for(var v="",I=0;I<_;)v+=String.fromCharCode.apply(String,y.slice(I,I+=R));return v}function z(y,_,v){var I="";v=Math.min(y.length,v);for(var j=_;j<v;++j)I+=String.fromCharCode(y[j]&127);return I}function ce(y,_,v){var I="";v=Math.min(y.length,v);for(var j=_;j<v;++j)I+=String.fromCharCode(y[j]);return I}function re(y,_,v){var I=y.length;(!_||_<0)&&(_=0),(!v||v<0||v>I)&&(v=I);for(var j="",ne=_;ne<v;++ne)j+=K(y[ne]);return j}function q(y,_,v){for(var I=y.slice(_,v),j="",ne=0;ne<I.length;ne+=2)j+=String.fromCharCode(I[ne]+I[ne+1]*256);return j}f.prototype.slice=function(_,v){var I=this.length;_=~~_,v=v===void 0?I:~~v,_<0?(_+=I,_<0&&(_=0)):_>I&&(_=I),v<0?(v+=I,v<0&&(v=0)):v>I&&(v=I),v<_&&(v=_);var j=this.subarray(_,v);return j.__proto__=f.prototype,j};function Y(y,_,v){if(y%1!==0||y<0)throw new RangeError("offset is not uint");if(y+_>v)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUIntLE=function(_,v,I){_=_>>>0,v=v>>>0,I||Y(_,v,this.length);for(var j=this[_],ne=1,le=0;++le<v&&(ne*=256);)j+=this[_+le]*ne;return j},f.prototype.readUIntBE=function(_,v,I){_=_>>>0,v=v>>>0,I||Y(_,v,this.length);for(var j=this[_+--v],ne=1;v>0&&(ne*=256);)j+=this[_+--v]*ne;return j},f.prototype.readUInt8=function(_,v){return _=_>>>0,v||Y(_,1,this.length),this[_]},f.prototype.readUInt16LE=function(_,v){return _=_>>>0,v||Y(_,2,this.length),this[_]|this[_+1]<<8},f.prototype.readUInt16BE=function(_,v){return _=_>>>0,v||Y(_,2,this.length),this[_]<<8|this[_+1]},f.prototype.readUInt32LE=function(_,v){return _=_>>>0,v||Y(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+this[_+3]*16777216},f.prototype.readUInt32BE=function(_,v){return _=_>>>0,v||Y(_,4,this.length),this[_]*16777216+(this[_+1]<<16|this[_+2]<<8|this[_+3])},f.prototype.readIntLE=function(_,v,I){_=_>>>0,v=v>>>0,I||Y(_,v,this.length);for(var j=this[_],ne=1,le=0;++le<v&&(ne*=256);)j+=this[_+le]*ne;return ne*=128,j>=ne&&(j-=Math.pow(2,8*v)),j},f.prototype.readIntBE=function(_,v,I){_=_>>>0,v=v>>>0,I||Y(_,v,this.length);for(var j=v,ne=1,le=this[_+--j];j>0&&(ne*=256);)le+=this[_+--j]*ne;return ne*=128,le>=ne&&(le-=Math.pow(2,8*v)),le},f.prototype.readInt8=function(_,v){return _=_>>>0,v||Y(_,1,this.length),this[_]&128?(255-this[_]+1)*-1:this[_]},f.prototype.readInt16LE=function(_,v){_=_>>>0,v||Y(_,2,this.length);var I=this[_]|this[_+1]<<8;return I&32768?I|4294901760:I},f.prototype.readInt16BE=function(_,v){_=_>>>0,v||Y(_,2,this.length);var I=this[_+1]|this[_]<<8;return I&32768?I|4294901760:I},f.prototype.readInt32LE=function(_,v){return _=_>>>0,v||Y(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},f.prototype.readInt32BE=function(_,v){return _=_>>>0,v||Y(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},f.prototype.readFloatLE=function(_,v){return _=_>>>0,v||Y(_,4,this.length),l.read(this,_,!0,23,4)},f.prototype.readFloatBE=function(_,v){return _=_>>>0,v||Y(_,4,this.length),l.read(this,_,!1,23,4)},f.prototype.readDoubleLE=function(_,v){return _=_>>>0,v||Y(_,8,this.length),l.read(this,_,!0,52,8)},f.prototype.readDoubleBE=function(_,v){return _=_>>>0,v||Y(_,8,this.length),l.read(this,_,!1,52,8)};function te(y,_,v,I,j,ne){if(!f.isBuffer(y))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>j||_<ne)throw new RangeError('"value" argument is out of bounds');if(v+I>y.length)throw new RangeError("Index out of range")}f.prototype.writeUIntLE=function(_,v,I,j){if(_=+_,v=v>>>0,I=I>>>0,!j){var ne=Math.pow(2,8*I)-1;te(this,_,v,I,ne,0)}var le=1,Ee=0;for(this[v]=_&255;++Ee<I&&(le*=256);)this[v+Ee]=_/le&255;return v+I},f.prototype.writeUIntBE=function(_,v,I,j){if(_=+_,v=v>>>0,I=I>>>0,!j){var ne=Math.pow(2,8*I)-1;te(this,_,v,I,ne,0)}var le=I-1,Ee=1;for(this[v+le]=_&255;--le>=0&&(Ee*=256);)this[v+le]=_/Ee&255;return v+I},f.prototype.writeUInt8=function(_,v,I){return _=+_,v=v>>>0,I||te(this,_,v,1,255,0),this[v]=_&255,v+1},f.prototype.writeUInt16LE=function(_,v,I){return _=+_,v=v>>>0,I||te(this,_,v,2,65535,0),this[v]=_&255,this[v+1]=_>>>8,v+2},f.prototype.writeUInt16BE=function(_,v,I){return _=+_,v=v>>>0,I||te(this,_,v,2,65535,0),this[v]=_>>>8,this[v+1]=_&255,v+2},f.prototype.writeUInt32LE=function(_,v,I){return _=+_,v=v>>>0,I||te(this,_,v,4,4294967295,0),this[v+3]=_>>>24,this[v+2]=_>>>16,this[v+1]=_>>>8,this[v]=_&255,v+4},f.prototype.writeUInt32BE=function(_,v,I){return _=+_,v=v>>>0,I||te(this,_,v,4,4294967295,0),this[v]=_>>>24,this[v+1]=_>>>16,this[v+2]=_>>>8,this[v+3]=_&255,v+4},f.prototype.writeIntLE=function(_,v,I,j){if(_=+_,v=v>>>0,!j){var ne=Math.pow(2,8*I-1);te(this,_,v,I,ne-1,-ne)}var le=0,Ee=1,ze=0;for(this[v]=_&255;++le<I&&(Ee*=256);)_<0&&ze===0&&this[v+le-1]!==0&&(ze=1),this[v+le]=(_/Ee>>0)-ze&255;return v+I},f.prototype.writeIntBE=function(_,v,I,j){if(_=+_,v=v>>>0,!j){var ne=Math.pow(2,8*I-1);te(this,_,v,I,ne-1,-ne)}var le=I-1,Ee=1,ze=0;for(this[v+le]=_&255;--le>=0&&(Ee*=256);)_<0&&ze===0&&this[v+le+1]!==0&&(ze=1),this[v+le]=(_/Ee>>0)-ze&255;return v+I},f.prototype.writeInt8=function(_,v,I){return _=+_,v=v>>>0,I||te(this,_,v,1,127,-128),_<0&&(_=255+_+1),this[v]=_&255,v+1},f.prototype.writeInt16LE=function(_,v,I){return _=+_,v=v>>>0,I||te(this,_,v,2,32767,-32768),this[v]=_&255,this[v+1]=_>>>8,v+2},f.prototype.writeInt16BE=function(_,v,I){return _=+_,v=v>>>0,I||te(this,_,v,2,32767,-32768),this[v]=_>>>8,this[v+1]=_&255,v+2},f.prototype.writeInt32LE=function(_,v,I){return _=+_,v=v>>>0,I||te(this,_,v,4,2147483647,-2147483648),this[v]=_&255,this[v+1]=_>>>8,this[v+2]=_>>>16,this[v+3]=_>>>24,v+4},f.prototype.writeInt32BE=function(_,v,I){return _=+_,v=v>>>0,I||te(this,_,v,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[v]=_>>>24,this[v+1]=_>>>16,this[v+2]=_>>>8,this[v+3]=_&255,v+4};function ie(y,_,v,I,j,ne){if(v+I>y.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}function ee(y,_,v,I,j){return _=+_,v=v>>>0,j||ie(y,_,v,4,34028234663852886e22,-34028234663852886e22),l.write(y,_,v,I,23,4),v+4}f.prototype.writeFloatLE=function(_,v,I){return ee(this,_,v,!0,I)},f.prototype.writeFloatBE=function(_,v,I){return ee(this,_,v,!1,I)};function J(y,_,v,I,j){return _=+_,v=v>>>0,j||ie(y,_,v,8,17976931348623157e292,-17976931348623157e292),l.write(y,_,v,I,52,8),v+8}f.prototype.writeDoubleLE=function(_,v,I){return J(this,_,v,!0,I)},f.prototype.writeDoubleBE=function(_,v,I){return J(this,_,v,!1,I)},f.prototype.copy=function(_,v,I,j){if(!f.isBuffer(_))throw new TypeError("argument should be a Buffer");if(I||(I=0),!j&&j!==0&&(j=this.length),v>=_.length&&(v=_.length),v||(v=0),j>0&&j<I&&(j=I),j===I||_.length===0||this.length===0)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),_.length-v<j-I&&(j=_.length-v+I);var ne=j-I;if(this===_&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(v,I,j);else if(this===_&&I<v&&v<j)for(var le=ne-1;le>=0;--le)_[le+v]=this[le+I];else Uint8Array.prototype.set.call(_,this.subarray(I,j),v);return ne},f.prototype.fill=function(_,v,I,j){if(typeof _=="string"){if(typeof v=="string"?(j=v,v=0,I=this.length):typeof I=="string"&&(j=I,I=this.length),j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!f.isEncoding(j))throw new TypeError("Unknown encoding: "+j);if(_.length===1){var ne=_.charCodeAt(0);(j==="utf8"&&ne<128||j==="latin1")&&(_=ne)}}else typeof _=="number"&&(_=_&255);if(v<0||this.length<v||this.length<I)throw new RangeError("Out of range index");if(I<=v)return this;v=v>>>0,I=I===void 0?this.length:I>>>0,_||(_=0);var le;if(typeof _=="number")for(le=v;le<I;++le)this[le]=_;else{var Ee=f.isBuffer(_)?_:f.from(_,j),ze=Ee.length;if(ze===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(le=0;le<I-v;++le)this[le+v]=Ee[le%ze]}return this};var H=/[^+/0-9A-Za-z-_]/g;function E(y){if(y=y.split("=")[0],y=y.trim().replace(H,""),y.length<2)return"";for(;y.length%4!==0;)y=y+"=";return y}function K(y){return y<16?"0"+y.toString(16):y.toString(16)}function oe(y,_){_=_||1/0;for(var v,I=y.length,j=null,ne=[],le=0;le<I;++le){if(v=y.charCodeAt(le),v>55295&&v<57344){if(!j){if(v>56319){(_-=3)>-1&&ne.push(239,191,189);continue}else if(le+1===I){(_-=3)>-1&&ne.push(239,191,189);continue}j=v;continue}if(v<56320){(_-=3)>-1&&ne.push(239,191,189),j=v;continue}v=(j-55296<<10|v-56320)+65536}else j&&(_-=3)>-1&&ne.push(239,191,189);if(j=null,v<128){if((_-=1)<0)break;ne.push(v)}else if(v<2048){if((_-=2)<0)break;ne.push(v>>6|192,v&63|128)}else if(v<65536){if((_-=3)<0)break;ne.push(v>>12|224,v>>6&63|128,v&63|128)}else if(v<1114112){if((_-=4)<0)break;ne.push(v>>18|240,v>>12&63|128,v>>6&63|128,v&63|128)}else throw new Error("Invalid code point")}return ne}function V(y){for(var _=[],v=0;v<y.length;++v)_.push(y.charCodeAt(v)&255);return _}function F(y,_){for(var v,I,j,ne=[],le=0;le<y.length&&!((_-=2)<0);++le)v=y.charCodeAt(le),I=v>>8,j=v%256,ne.push(j),ne.push(I);return ne}function L(y){return a.toByteArray(E(y))}function Z(y,_,v,I){for(var j=0;j<I&&!(j+v>=_.length||j>=y.length);++j)_[j+v]=y[j];return j}function se(y,_){return y instanceof _||y!=null&&y.constructor!=null&&y.constructor.name!=null&&y.constructor.name===_.name}function D(y){return y!==y}}).call(this)}).call(this,i("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:5}],4:[function(i,r,s){"use strict";var o=typeof Reflect=="object"?Reflect:null,a=o&&typeof o.apply=="function"?o.apply:function(N,M,G){return Function.prototype.apply.call(N,M,G)},l;o&&typeof o.ownKeys=="function"?l=o.ownKeys:Object.getOwnPropertySymbols?l=function(N){return Object.getOwnPropertyNames(N).concat(Object.getOwnPropertySymbols(N))}:l=function(N){return Object.getOwnPropertyNames(N)};function c(k){console&&console.warn&&console.warn(k)}var d=Number.isNaN||function(N){return N!==N};function h(){h.init.call(this)}r.exports=h,r.exports.once=O,h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var f=10;function u(k){if(typeof k!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof k)}Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(k){if(typeof k!="number"||k<0||d(k))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+k+".");f=k}}),h.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(N){if(typeof N!="number"||N<0||d(N))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+N+".");return this._maxListeners=N,this};function p(k){return k._maxListeners===void 0?h.defaultMaxListeners:k._maxListeners}h.prototype.getMaxListeners=function(){return p(this)},h.prototype.emit=function(N){for(var M=[],G=1;G<arguments.length;G++)M.push(arguments[G]);var P=N==="error",ue=this._events;if(ue!==void 0)P=P&&ue.error===void 0;else if(!P)return!1;if(P){var X;if(M.length>0&&(X=M[0]),X instanceof Error)throw X;var Q=new Error("Unhandled error."+(X?" ("+X.message+")":""));throw Q.context=X,Q}var W=ue[N];if(W===void 0)return!1;if(typeof W=="function")a(W,this,M);else for(var S=W.length,R=x(W,S),G=0;G<S;++G)a(R[G],this,M);return!0};function g(k,N,M,G){var P,ue,X;if(u(M),ue=k._events,ue===void 0?(ue=k._events=Object.create(null),k._eventsCount=0):(ue.newListener!==void 0&&(k.emit("newListener",N,M.listener?M.listener:M),ue=k._events),X=ue[N]),X===void 0)X=ue[N]=M,++k._eventsCount;else if(typeof X=="function"?X=ue[N]=G?[M,X]:[X,M]:G?X.unshift(M):X.push(M),P=p(k),P>0&&X.length>P&&!X.warned){X.warned=!0;var Q=new Error("Possible EventEmitter memory leak detected. "+X.length+" "+String(N)+" listeners added. Use emitter.setMaxListeners() to increase limit");Q.name="MaxListenersExceededWarning",Q.emitter=k,Q.type=N,Q.count=X.length,c(Q)}return k}h.prototype.addListener=function(N,M){return g(this,N,M,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(N,M){return g(this,N,M,!0)};function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(k,N,M){var G={fired:!1,wrapFn:void 0,target:k,type:N,listener:M},P=m.bind(G);return P.listener=M,G.wrapFn=P,P}h.prototype.once=function(N,M){return u(M),this.on(N,b(this,N,M)),this},h.prototype.prependOnceListener=function(N,M){return u(M),this.prependListener(N,b(this,N,M)),this},h.prototype.removeListener=function(N,M){var G,P,ue,X,Q;if(u(M),P=this._events,P===void 0)return this;if(G=P[N],G===void 0)return this;if(G===M||G.listener===M)--this._eventsCount===0?this._events=Object.create(null):(delete P[N],P.removeListener&&this.emit("removeListener",N,G.listener||M));else if(typeof G!="function"){for(ue=-1,X=G.length-1;X>=0;X--)if(G[X]===M||G[X].listener===M){Q=G[X].listener,ue=X;break}if(ue<0)return this;ue===0?G.shift():T(G,ue),G.length===1&&(P[N]=G[0]),P.removeListener!==void 0&&this.emit("removeListener",N,Q||M)}return this},h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=function(N){var M,G,P;if(G=this._events,G===void 0)return this;if(G.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):G[N]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete G[N]),this;if(arguments.length===0){var ue=Object.keys(G),X;for(P=0;P<ue.length;++P)X=ue[P],X!=="removeListener"&&this.removeAllListeners(X);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(M=G[N],typeof M=="function")this.removeListener(N,M);else if(M!==void 0)for(P=M.length-1;P>=0;P--)this.removeListener(N,M[P]);return this};function w(k,N,M){var G=k._events;if(G===void 0)return[];var P=G[N];return P===void 0?[]:typeof P=="function"?M?[P.listener||P]:[P]:M?A(P):x(P,P.length)}h.prototype.listeners=function(N){return w(this,N,!0)},h.prototype.rawListeners=function(N){return w(this,N,!1)},h.listenerCount=function(k,N){return typeof k.listenerCount=="function"?k.listenerCount(N):C.call(k,N)},h.prototype.listenerCount=C;function C(k){var N=this._events;if(N!==void 0){var M=N[k];if(typeof M=="function")return 1;if(M!==void 0)return M.length}return 0}h.prototype.eventNames=function(){return this._eventsCount>0?l(this._events):[]};function x(k,N){for(var M=new Array(N),G=0;G<N;++G)M[G]=k[G];return M}function T(k,N){for(;N+1<k.length;N++)k[N]=k[N+1];k.pop()}function A(k){for(var N=new Array(k.length),M=0;M<N.length;++M)N[M]=k[M].listener||k[M];return N}function O(k,N){return new Promise(function(M,G){function P(X){k.removeListener(N,ue),G(X)}function ue(){typeof k.removeListener=="function"&&k.removeListener("error",P),M([].slice.call(arguments))}$(k,N,ue,{once:!0}),N!=="error"&&B(k,P,{once:!0})})}function B(k,N,M){typeof k.on=="function"&&$(k,"error",N,M)}function $(k,N,M,G){if(typeof k.on=="function")G.once?k.once(N,M):k.on(N,M);else if(typeof k.addEventListener=="function")k.addEventListener(N,function P(ue){G.once&&k.removeEventListener(N,P),M(ue)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof k)}},{}],5:[function(i,r,s){s.read=function(o,a,l,c,d){var h,f,u=d*8-c-1,p=(1<<u)-1,g=p>>1,m=-7,b=l?d-1:0,w=l?-1:1,C=o[a+b];for(b+=w,h=C&(1<<-m)-1,C>>=-m,m+=u;m>0;h=h*256+o[a+b],b+=w,m-=8);for(f=h&(1<<-m)-1,h>>=-m,m+=c;m>0;f=f*256+o[a+b],b+=w,m-=8);if(h===0)h=1-g;else{if(h===p)return f?NaN:(C?-1:1)*(1/0);f=f+Math.pow(2,c),h=h-g}return(C?-1:1)*f*Math.pow(2,h-c)},s.write=function(o,a,l,c,d,h){var f,u,p,g=h*8-d-1,m=(1<<g)-1,b=m>>1,w=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=c?0:h-1,x=c?1:-1,T=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(u=isNaN(a)?1:0,f=m):(f=Math.floor(Math.log(a)/Math.LN2),a*(p=Math.pow(2,-f))<1&&(f--,p*=2),f+b>=1?a+=w/p:a+=w*Math.pow(2,1-b),a*p>=2&&(f++,p/=2),f+b>=m?(u=0,f=m):f+b>=1?(u=(a*p-1)*Math.pow(2,d),f=f+b):(u=a*Math.pow(2,b-1)*Math.pow(2,d),f=0));d>=8;o[l+C]=u&255,C+=x,u/=256,d-=8);for(f=f<<d|u,g+=d;g>0;o[l+C]=f&255,C+=x,f/=256,g-=8);o[l+C-x]|=T*128}},{}],6:[function(i,r,s){(function(o,a){(function(){"use strict";let l=i("events").EventEmitter,c=i("./store"),d=i("./topic-alias-recv"),h=i("./topic-alias-send"),f=i("mqtt-packet"),u=i("./default-message-id-provider"),p=i("readable-stream").Writable,g=i("inherits"),m=i("reinterval"),b=i("rfdc/default"),w=i("./validations"),C=i("xtend"),x=i("debug")("mqttjs:client"),T=o?o.nextTick:function(S){setTimeout(S,0)},A=a.setImmediate||function(S){T(S)},O={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0},B=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND"],$={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function k(){return"mqttjs_"+Math.random().toString(16).substr(2,8)}function N(S,R){if(S.options.protocolVersion===5&&R.cmd==="publish"){let U;R.properties&&(U=R.properties.topicAlias);let z=R.topic.toString();if(S.topicAliasSend)if(U){if(z.length!==0&&(x("applyTopicAlias :: register topic: %s - alias: %d",z,U),!S.topicAliasSend.put(z,U)))return x("applyTopicAlias :: error out of range. topic: %s - alias: %d",z,U),new Error("Sending Topic Alias out of range")}else z.length!==0&&(S.options.autoAssignTopicAlias?(U=S.topicAliasSend.getAliasByTopic(z),U?(R.topic="",R.properties=et(_e({},R.properties),{topicAlias:U}),x("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",z,U)):(U=S.topicAliasSend.getLruAlias(),S.topicAliasSend.put(z,U),R.properties=et(_e({},R.properties),{topicAlias:U}),x("applyTopicAlias :: auto assign topic: %s - alias: %d",z,U))):S.options.autoUseTopicAlias&&(U=S.topicAliasSend.getAliasByTopic(z),U&&(R.topic="",R.properties=et(_e({},R.properties),{topicAlias:U}),x("applyTopicAlias :: auto use topic: %s - alias: %d",z,U))));else if(U)return x("applyTopicAlias :: error out of range. topic: %s - alias: %d",z,U),new Error("Sending Topic Alias out of range")}}function M(S,R){let U;R.properties&&(U=R.properties.topicAlias);let z=R.topic.toString();if(z.length===0){if(typeof U>"u")return new Error("Unregistered Topic Alias");if(z=S.topicAliasSend.getTopicByAlias(U),typeof z>"u")return new Error("Unregistered Topic Alias");R.topic=z}U&&delete R.properties.topicAlias}function G(S,R,U){x("sendPacket :: packet: %O",R),x("sendPacket :: emitting `packetsend`"),S.emit("packetsend",R),x("sendPacket :: writing to stream");let z=f.writeToStream(R,S.stream,S.options);x("sendPacket :: writeToStream result %s",z),!z&&U&&U!==Q?(x("sendPacket :: handle events on `drain` once through callback."),S.stream.once("drain",U)):U&&(x("sendPacket :: invoking cb"),U())}function P(S){S&&(x("flush: queue exists? %b",!!S),Object.keys(S).forEach(function(R){typeof S[R].cb=="function"&&(S[R].cb(new Error("Connection closed")),delete S[R])}))}function ue(S){S&&(x("flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(S).forEach(function(R){S[R].volatile&&typeof S[R].cb=="function"&&(S[R].cb(new Error("Connection closed")),delete S[R])}))}function X(S,R,U,z){x("storeAndSend :: store packet with cmd %s to outgoingStore",R.cmd);let ce=R,re;if(ce.cmd==="publish"&&(ce=b(R),re=M(S,ce),re))return U&&U(re);S.outgoingStore.put(ce,function(Y){if(Y)return U&&U(Y);z(),G(S,R,U)})}function Q(S){x("nop ::",S)}function W(S,R){let U,z=this;if(!(this instanceof W))return new W(S,R);this.options=R||{};for(U in O)typeof this.options[U]>"u"?this.options[U]=O[U]:this.options[U]=R[U];x("MqttClient :: options.protocol",R.protocol),x("MqttClient :: options.protocolVersion",R.protocolVersion),x("MqttClient :: options.username",R.username),x("MqttClient :: options.keepalive",R.keepalive),x("MqttClient :: options.reconnectPeriod",R.reconnectPeriod),x("MqttClient :: options.rejectUnauthorized",R.rejectUnauthorized),x("MqttClient :: options.topicAliasMaximum",R.topicAliasMaximum),this.options.clientId=typeof R.clientId=="string"?R.clientId:k(),x("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=R.protocolVersion===5&&R.customHandleAcks?R.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=S,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new u:this.options.messageIdProvider,this.outgoingStore=R.outgoingStore||new c,this.incomingStore=R.incomingStore||new c,this.queueQoSZero=R.queueQoSZero===void 0?!0:R.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,R.topicAliasMaximum>0&&(R.topicAliasMaximum>65535?x("MqttClient :: options.topicAliasMaximum is out of range"):this.topicAliasRecv=new d(R.topicAliasMaximum)),this.on("connect",function(){let ce=this.queue;function re(){let q=ce.shift();x("deliver :: entry %o",q);let Y=null;if(!q){z._resubscribe();return}Y=q.packet,x("deliver :: call _sendPacket for %o",Y);let te=!0;Y.messageId&&Y.messageId!==0&&(z.messageIdProvider.register(Y.messageId)||(te=!1)),te?z._sendPacket(Y,function(ie){q.cb&&q.cb(ie),re()}):(x("messageId: %d has already used. The message is skipped and removed.",Y.messageId),re())}x("connect :: sending queued packets"),re()}),this.on("close",function(){x("close :: connected set to `false`"),this.connected=!1,x("close :: clearing connackTimer"),clearTimeout(this.connackTimer),x("close :: clearing ping timer"),z.pingTimer!==null&&(z.pingTimer.clear(),z.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),x("close :: calling _setupReconnect"),this._setupReconnect()}),l.call(this),x("MqttClient :: setting up stream"),this._setupStream()}g(W,l),W.prototype._setupStream=function(){let S=this,R=new p,U=f.parser(this.options),z=null,ce=[];x("_setupStream :: calling method to clear reconnect"),this._clearReconnect(),x("_setupStream :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),U.on("packet",function(ie){x("parser :: on packet push to packets array."),ce.push(ie)});function re(){if(ce.length)T(q);else{let ie=z;z=null,ie()}}function q(){x("work :: getting next packet in queue");let ie=ce.shift();if(ie)x("work :: packet pulled from queue"),S._handlePacket(ie,re);else{x("work :: no packets in queue");let ee=z;z=null,x("work :: done flag is %s",!!ee),ee&&ee()}}R._write=function(ie,ee,J){z=J,x("writable stream :: parsing buffer"),U.parse(ie),q()};function Y(ie){x("streamErrorHandler :: error",ie.message),B.includes(ie.code)?(x("streamErrorHandler :: emitting error"),S.emit("error",ie)):Q(ie)}x("_setupStream :: pipe stream to writable stream"),this.stream.pipe(R),this.stream.on("error",Y),this.stream.on("close",function(){x("(%s)stream :: on close",S.options.clientId),ue(S.outgoing),x("stream: emit close to MqttClient"),S.emit("close")}),x("_setupStream: sending packet `connect`");let te=Object.create(this.options);if(te.cmd="connect",this.topicAliasRecv&&(te.properties||(te.properties={}),this.topicAliasRecv&&(te.properties.topicAliasMaximum=this.topicAliasRecv.max)),G(this,te),U.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return S.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let ie=C({cmd:"auth",reasonCode:0},this.options.authPacket);G(this,ie)}}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(function(){x("!!connectTimeout hit!! Calling _cleanUp with force `true`"),S._cleanUp(!0)},this.options.connectTimeout)},W.prototype._handlePacket=function(S,R){let U=this.options;if(U.protocolVersion===5&&U.properties&&U.properties.maximumPacketSize&&U.properties.maximumPacketSize<S.length)return this.emit("error",new Error("exceeding packets size "+S.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(x("_handlePacket :: emitting packetreceive"),this.emit("packetreceive",S),S.cmd){case"publish":this._handlePublish(S,R);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(S),R();break;case"pubrel":this._handlePubrel(S,R);break;case"connack":this._handleConnack(S),R();break;case"auth":this._handleAuth(S),R();break;case"pingresp":this._handlePingresp(S),R();break;case"disconnect":this._handleDisconnect(S),R();break;default:break}},W.prototype._checkDisconnecting=function(S){return this.disconnecting&&(S&&S!==Q?S(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},W.prototype.publish=function(S,R,U,z){x("publish :: message `%s` to topic `%s`",R,S);let ce=this.options;if(typeof U=="function"&&(z=U,U=null),U=C({qos:0,retain:!1,dup:!1},U),this._checkDisconnecting(z))return this;let q=this,Y=function(){let te=0;if((U.qos===1||U.qos===2)&&(te=q._nextId(),te===null))return x("No messageId left"),!1;let ie={cmd:"publish",topic:S,payload:R,qos:U.qos,retain:U.retain,messageId:te,dup:U.dup};switch(ce.protocolVersion===5&&(ie.properties=U.properties),x("publish :: qos",U.qos),U.qos){case 1:case 2:q.outgoing[ie.messageId]={volatile:!1,cb:z||Q},x("MqttClient:publish: packet cmd: %s",ie.cmd),q._sendPacket(ie,void 0,U.cbStorePut);break;default:x("MqttClient:publish: packet cmd: %s",ie.cmd),q._sendPacket(ie,z,U.cbStorePut);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!Y())&&this._storeProcessingQueue.push({invoke:Y,cbStorePut:U.cbStorePut,callback:z}),this},W.prototype.subscribe=function(){let S=this,R=new Array(arguments.length);for(let J=0;J<arguments.length;J++)R[J]=arguments[J];let U=[],z=R.shift(),ce=z.resubscribe,re=R.pop()||Q,q=R.pop(),Y=this.options.protocolVersion;delete z.resubscribe,typeof z=="string"&&(z=[z]),typeof re!="function"&&(q=re,re=Q);let te=w.validateTopics(z);if(te!==null)return A(re,new Error("Invalid topic "+te)),this;if(this._checkDisconnecting(re))return x("subscribe: discconecting true"),this;let ie={qos:0};if(Y===5&&(ie.nl=!1,ie.rap=!1,ie.rh=0),q=C(ie,q),Array.isArray(z)?z.forEach(function(J){if(x("subscribe: array topic %s",J),!Object.prototype.hasOwnProperty.call(S._resubscribeTopics,J)||S._resubscribeTopics[J].qos<q.qos||ce){let H={topic:J,qos:q.qos};Y===5&&(H.nl=q.nl,H.rap=q.rap,H.rh=q.rh,H.properties=q.properties),x("subscribe: pushing topic `%s` and qos `%s` to subs list",H.topic,H.qos),U.push(H)}}):Object.keys(z).forEach(function(J){if(x("subscribe: object topic %s",J),!Object.prototype.hasOwnProperty.call(S._resubscribeTopics,J)||S._resubscribeTopics[J].qos<z[J].qos||ce){let H={topic:J,qos:z[J].qos};Y===5&&(H.nl=z[J].nl,H.rap=z[J].rap,H.rh=z[J].rh,H.properties=q.properties),x("subscribe: pushing `%s` to subs list",H),U.push(H)}}),!U.length)return re(null,[]),this;let ee=function(){let J=S._nextId();if(J===null)return x("No messageId left"),!1;let H={cmd:"subscribe",subscriptions:U,qos:1,retain:!1,dup:!1,messageId:J};if(q.properties&&(H.properties=q.properties),S.options.resubscribe){x("subscribe :: resubscribe true");let E=[];U.forEach(function(K){if(S.options.reconnectPeriod>0){let oe={qos:K.qos};Y===5&&(oe.nl=K.nl||!1,oe.rap=K.rap||!1,oe.rh=K.rh||0,oe.properties=K.properties),S._resubscribeTopics[K.topic]=oe,E.push(K.topic)}}),S.messageIdToTopic[H.messageId]=E}return S.outgoing[H.messageId]={volatile:!0,cb:function(E,K){if(!E){let oe=K.granted;for(let V=0;V<oe.length;V+=1)U[V].qos=oe[V]}re(E,U)}},x("subscribe :: call _sendPacket"),S._sendPacket(H),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ee())&&this._storeProcessingQueue.push({invoke:ee,callback:re}),this},W.prototype.unsubscribe=function(){let S=this,R=new Array(arguments.length);for(let Y=0;Y<arguments.length;Y++)R[Y]=arguments[Y];let U=R.shift(),z=R.pop()||Q,ce=R.pop();typeof U=="string"&&(U=[U]),typeof z!="function"&&(ce=z,z=Q);let re=w.validateTopics(U);if(re!==null)return A(z,new Error("Invalid topic "+re)),this;if(S._checkDisconnecting(z))return this;let q=function(){let Y=S._nextId();if(Y===null)return x("No messageId left"),!1;let te={cmd:"unsubscribe",qos:1,messageId:Y};return typeof U=="string"?te.unsubscriptions=[U]:Array.isArray(U)&&(te.unsubscriptions=U),S.options.resubscribe&&te.unsubscriptions.forEach(function(ie){delete S._resubscribeTopics[ie]}),typeof ce=="object"&&ce.properties&&(te.properties=ce.properties),S.outgoing[te.messageId]={volatile:!0,cb:z},x("unsubscribe: call _sendPacket"),S._sendPacket(te),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!q())&&this._storeProcessingQueue.push({invoke:q,callback:z}),this},W.prototype.end=function(S,R,U){let z=this;x("end :: (%s)",this.options.clientId),(S==null||typeof S!="boolean")&&(U=R||Q,R=S,S=!1,typeof R!="object"&&(U=R,R=null,typeof U!="function"&&(U=Q))),typeof R!="object"&&(U=R,R=null),x("end :: cb? %s",!!U),U=U||Q;function ce(){x("end :: closeStores: closing incoming and outgoing stores"),z.disconnected=!0,z.incomingStore.close(function(q){z.outgoingStore.close(function(Y){if(x("end :: closeStores: emitting end"),z.emit("end"),U){let te=q||Y;x("end :: closeStores: invoking callback with args"),U(te)}})}),z._deferredReconnect&&z._deferredReconnect()}function re(){x("end :: (%s) :: finish :: calling _cleanUp with force %s",z.options.clientId,S),z._cleanUp(S,()=>{x("end :: finish :: calling process.nextTick on closeStores"),T(ce.bind(z))},R)}return this.disconnecting?(U(),this):(this._clearReconnect(),this.disconnecting=!0,!S&&Object.keys(this.outgoing).length>0?(x("end :: (%s) :: calling finish in 10ms once outgoing is empty",z.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,re,10))):(x("end :: (%s) :: immediately calling finish",z.options.clientId),re()),this)},W.prototype.removeOutgoingMessage=function(S){let R=this.outgoing[S]?this.outgoing[S].cb:null;return delete this.outgoing[S],this.outgoingStore.del({messageId:S},function(){R(new Error("Message removed"))}),this},W.prototype.reconnect=function(S){x("client reconnect");let R=this,U=function(){S?(R.options.incomingStore=S.incomingStore,R.options.outgoingStore=S.outgoingStore):(R.options.incomingStore=null,R.options.outgoingStore=null),R.incomingStore=R.options.incomingStore||new c,R.outgoingStore=R.options.outgoingStore||new c,R.disconnecting=!1,R.disconnected=!1,R._deferredReconnect=null,R._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=U:U(),this},W.prototype._reconnect=function(){x("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this._setupStream()}),x("client already connected. disconnecting first.")):(x("_reconnect: calling _setupStream"),this._setupStream())},W.prototype._setupReconnect=function(){let S=this;!S.disconnecting&&!S.reconnectTimer&&S.options.reconnectPeriod>0?(this.reconnecting||(x("_setupReconnect :: emit `offline` state"),this.emit("offline"),x("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),x("_setupReconnect :: setting reconnectTimer for %d ms",S.options.reconnectPeriod),S.reconnectTimer=setInterval(function(){x("reconnectTimer :: reconnect triggered!"),S._reconnect()},S.options.reconnectPeriod)):x("_setupReconnect :: doing nothing...")},W.prototype._clearReconnect=function(){x("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},W.prototype._cleanUp=function(S,R){let U=arguments[2];if(R&&(x("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",R)),x("_cleanUp :: forced? %s",S),S)this.options.reconnectPeriod===0&&this.options.clean&&P(this.outgoing),x("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let z=C({cmd:"disconnect"},U);x("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(z,A.bind(null,this.stream.end.bind(this.stream)))}this.disconnecting||(x("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this.pingTimer!==null&&(x("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),R&&!this.connected&&(x("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",R),R())},W.prototype._sendPacket=function(S,R,U){x("_sendPacket :: (%s) ::  start",this.options.clientId),U=U||Q,R=R||Q;let z=N(this,S);if(z){R(z);return}if(!this.connected){if(S.cmd==="auth"){this._shiftPingInterval(),G(this,S,R);return}x("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(S,R,U);return}switch(this._shiftPingInterval(),S.cmd){case"publish":break;case"pubrel":X(this,S,R,U);return;default:G(this,S,R);return}switch(S.qos){case 2:case 1:X(this,S,R,U);break;case 0:default:G(this,S,R);break}x("_sendPacket :: (%s) ::  end",this.options.clientId)},W.prototype._storePacket=function(S,R,U){x("_storePacket :: packet: %o",S),x("_storePacket :: cb? %s",!!R),U=U||Q;let z=S;if(z.cmd==="publish"){z=b(S);let ce=M(this,z);if(ce)return R&&R(ce)}(z.qos||0)===0&&this.queueQoSZero||z.cmd!=="publish"?this.queue.push({packet:z,cb:R}):z.qos>0?(R=this.outgoing[z.messageId]?this.outgoing[z.messageId].cb:null,this.outgoingStore.put(z,function(ce){if(ce)return R&&R(ce);U()})):R&&R(new Error("No connection to broker"))},W.prototype._setupPingTimer=function(){x("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive);let S=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=m(function(){S._checkPing()},this.options.keepalive*1e3))},W.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(this.options.keepalive*1e3)},W.prototype._checkPing=function(){x("_checkPing :: checking ping..."),this.pingResp?(x("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(x("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))},W.prototype._handlePingresp=function(){this.pingResp=!0},W.prototype._handleConnack=function(S){x("_handleConnack");let R=this.options,z=R.protocolVersion===5?S.reasonCode:S.returnCode;if(clearTimeout(this.connackTimer),delete this.topicAliasSend,S.properties){if(S.properties.topicAliasMaximum){if(S.properties.topicAliasMaximum>65535){this.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}S.properties.topicAliasMaximum>0&&(this.topicAliasSend=new h(S.properties.topicAliasMaximum))}S.properties.serverKeepAlive&&R.keepalive&&(R.keepalive=S.properties.serverKeepAlive,this._shiftPingInterval()),S.properties.maximumPacketSize&&(R.properties||(R.properties={}),R.properties.maximumPacketSize=S.properties.maximumPacketSize)}if(z===0)this.reconnecting=!1,this._onConnect(S);else if(z>0){let ce=new Error("Connection refused: "+$[z]);ce.code=z,this.emit("error",ce)}},W.prototype._handleAuth=function(S){let U=this.options.protocolVersion,z=U===5?S.reasonCode:S.returnCode;if(U!==5){let re=new Error("Protocol error: Auth packets are only supported in MQTT 5. Your version:"+U);re.code=z,this.emit("error",re);return}let ce=this;this.handleAuth(S,function(re,q){if(re){ce.emit("error",re);return}if(z===24)ce.reconnecting=!1,ce._sendPacket(q);else{let Y=new Error("Connection refused: "+$[z]);re.code=z,ce.emit("error",Y)}})},W.prototype.handleAuth=function(S,R){R()},W.prototype._handlePublish=function(S,R){x("_handlePublish: packet %o",S),R=typeof R<"u"?R:Q;let U=S.topic.toString(),z=S.payload,ce=S.qos,re=S.messageId,q=this,Y=this.options,te=[0,16,128,131,135,144,145,151,153];if(this.options.protocolVersion===5){let ie;if(S.properties&&(ie=S.properties.topicAlias),typeof ie<"u")if(U.length===0)if(ie>0&&ie<=65535){let ee=this.topicAliasRecv.getTopicByAlias(ie);if(ee)U=ee,x("_handlePublish :: topic complemented by alias. topic: %s - alias: %d",U,ie);else{x("_handlePublish :: unregistered topic alias. alias: %d",ie),this.emit("error",new Error("Received unregistered Topic Alias"));return}}else{x("_handlePublish :: topic alias out of range. alias: %d",ie),this.emit("error",new Error("Received Topic Alias is out of range"));return}else if(this.topicAliasRecv.put(U,ie))x("_handlePublish :: registered topic: %s - alias: %d",U,ie);else{x("_handlePublish :: topic alias out of range. alias: %d",ie),this.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(x("_handlePublish: qos %d",ce),ce){case 2:{Y.customHandleAcks(U,z,S,function(ie,ee){if(ie instanceof Error||(ee=ie,ie=null),ie)return q.emit("error",ie);if(te.indexOf(ee)===-1)return q.emit("error",new Error("Wrong reason code for pubrec"));ee?q._sendPacket({cmd:"pubrec",messageId:re,reasonCode:ee},R):q.incomingStore.put(S,function(){q._sendPacket({cmd:"pubrec",messageId:re},R)})});break}case 1:{Y.customHandleAcks(U,z,S,function(ie,ee){if(ie instanceof Error||(ee=ie,ie=null),ie)return q.emit("error",ie);if(te.indexOf(ee)===-1)return q.emit("error",new Error("Wrong reason code for puback"));ee||q.emit("message",U,z,S),q.handleMessage(S,function(J){if(J)return R&&R(J);q._sendPacket({cmd:"puback",messageId:re,reasonCode:ee},R)})});break}case 0:this.emit("message",U,z,S),this.handleMessage(S,R);break;default:x("_handlePublish: unknown QoS. Doing nothing.");break}},W.prototype.handleMessage=function(S,R){R()},W.prototype._handleAck=function(S){let R=S.messageId,U=S.cmd,z=null,ce=this.outgoing[R]?this.outgoing[R].cb:null,re=this,q;if(!ce){x("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(x("_handleAck :: packet type",U),U){case"pubcomp":case"puback":{let Y=S.reasonCode;Y&&Y>0&&Y!==16&&(q=new Error("Publish error: "+$[Y]),q.code=Y,ce(q,S)),delete this.outgoing[R],this.outgoingStore.del(S,ce),this.messageIdProvider.deallocate(R),this._invokeStoreProcessingQueue();break}case"pubrec":{z={cmd:"pubrel",qos:2,messageId:R};let Y=S.reasonCode;Y&&Y>0&&Y!==16?(q=new Error("Publish error: "+$[Y]),q.code=Y,ce(q,S)):this._sendPacket(z);break}case"suback":{delete this.outgoing[R],this.messageIdProvider.deallocate(R);for(let Y=0;Y<S.granted.length;Y++)if(S.granted[Y]&128){let te=this.messageIdToTopic[R];te&&te.forEach(function(ie){delete re._resubscribeTopics[ie]})}this._invokeStoreProcessingQueue(),ce(null,S);break}case"unsuback":{delete this.outgoing[R],this.messageIdProvider.deallocate(R),this._invokeStoreProcessingQueue(),ce(null);break}default:re.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&Object.keys(this.outgoing).length===0&&this.emit("outgoingEmpty")},W.prototype._handlePubrel=function(S,R){x("handling pubrel packet"),R=typeof R<"u"?R:Q;let U=S.messageId,z=this,ce={cmd:"pubcomp",messageId:U};z.incomingStore.get(S,function(re,q){re?z._sendPacket(ce,R):(z.emit("message",q.topic,q.payload,q),z.handleMessage(q,function(Y){if(Y)return R(Y);z.incomingStore.del(q,Q),z._sendPacket(ce,R)}))})},W.prototype._handleDisconnect=function(S){this.emit("disconnect",S)},W.prototype._nextId=function(){return this.messageIdProvider.allocate()},W.prototype.getLastMessageId=function(){return this.messageIdProvider.getLastAllocated()},W.prototype._resubscribe=function(){x("_resubscribe");let S=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion===5&&!this.connackPacket.sessionPresent)&&S.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){x("_resubscribe: protocolVersion 5");for(let R=0;R<S.length;R++){let U={};U[S[R]]=this._resubscribeTopics[S[R]],U.resubscribe=!0,this.subscribe(U,{properties:U[S[R]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},W.prototype._onConnect=function(S){if(this.disconnected){this.emit("connect",S);return}let R=this;this.connackPacket=S,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0;function U(){let z=R.outgoingStore.createStream();function ce(){R._storeProcessing=!1,R._packetIdsDuringStoreProcessing={}}R.once("close",re),z.on("error",function(Y){ce(),R._flushStoreProcessingQueue(),R.removeListener("close",re),R.emit("error",Y)});function re(){z.destroy(),z=null,R._flushStoreProcessingQueue(),ce()}function q(){if(!z)return;R._storeProcessing=!0;let Y=z.read(1),te;if(!Y){z.once("readable",q);return}if(R._packetIdsDuringStoreProcessing[Y.messageId]){q();return}!R.disconnecting&&!R.reconnectTimer?(te=R.outgoing[Y.messageId]?R.outgoing[Y.messageId].cb:null,R.outgoing[Y.messageId]={volatile:!1,cb:function(ie,ee){te&&te(ie,ee),q()}},R._packetIdsDuringStoreProcessing[Y.messageId]=!0,R.messageIdProvider.register(Y.messageId)?R._sendPacket(Y):x("messageId: %d has already used.",Y.messageId)):z.destroy&&z.destroy()}z.on("end",function(){let Y=!0;for(let te in R._packetIdsDuringStoreProcessing)if(!R._packetIdsDuringStoreProcessing[te]){Y=!1;break}Y?(ce(),R.removeListener("close",re),R._invokeAllStoreProcessingQueue(),R.emit("connect",S)):U()}),q()}U()},W.prototype._invokeStoreProcessingQueue=function(){if(this._storeProcessingQueue.length>0){let S=this._storeProcessingQueue[0];if(S&&S.invoke())return this._storeProcessingQueue.shift(),!0}return!1},W.prototype._invokeAllStoreProcessingQueue=function(){for(;this._invokeStoreProcessingQueue(););},W.prototype._flushStoreProcessingQueue=function(){for(let S of this._storeProcessingQueue)S.cbStorePut&&S.cbStorePut(new Error("Connection closed")),S.callback&&S.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)},r.exports=W}).call(this)}).call(this,i("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-message-id-provider":12,"./store":13,"./topic-alias-recv":14,"./topic-alias-send":15,"./validations":16,_process:85,debug:20,events:4,inherits:24,"mqtt-packet":48,"readable-stream":72,reinterval:73,"rfdc/default":74,xtend:82}],7:[function(i,r,s){"use strict";let{Buffer:o}=i("buffer"),a=i("readable-stream").Transform,l=i("duplexify"),c,d,h,f=!1;function u(){let w=new a;return w._write=function(C,x,T){c.sendSocketMessage({data:C.buffer,success:function(){T()},fail:function(){T(new Error)}})},w._flush=function(x){c.closeSocket({success:function(){x()}})},w}function p(w){w.hostname||(w.hostname="localhost"),w.path||(w.path="/"),w.wsOptions||(w.wsOptions={})}function g(w,C){let x=w.protocol==="alis"?"wss":"ws",T=x+"://"+w.hostname+w.path;return w.port&&w.port!==80&&w.port!==443&&(T=x+"://"+w.hostname+":"+w.port+w.path),typeof w.transformWsUrl=="function"&&(T=w.transformWsUrl(T,w,C)),T}function m(){f||(f=!0,c.onSocketOpen(function(){h.setReadable(d),h.setWritable(d),h.emit("connect")}),c.onSocketMessage(function(w){if(typeof w.data=="string"){let C=o.from(w.data,"base64");d.push(C)}else{let C=new FileReader;C.addEventListener("load",function(){let x=C.result;x instanceof ArrayBuffer?x=o.from(x):x=o.from(x,"utf8"),d.push(x)}),C.readAsArrayBuffer(w.data)}}),c.onSocketClose(function(){h.end(),h.destroy()}),c.onSocketError(function(w){h.destroy(w)}))}function b(w,C){if(C.hostname=C.hostname||C.host,!C.hostname)throw new Error("Could not determine host. Specify host manually.");let x=C.protocolId==="MQIsdp"&&C.protocolVersion===3?"mqttv3.1":"mqtt";p(C);let T=g(C,w);return c=C.my,c.connectSocket({url:T,protocols:x}),d=u(),h=l.obj(),m(),h}r.exports=b},{buffer:3,duplexify:22,"readable-stream":72}],8:[function(i,r,s){"use strict";let o=i("net"),a=i("debug")("mqttjs:tcp");function l(c,d){d.port=d.port||1883,d.hostname=d.hostname||d.host||"localhost";let h=d.port,f=d.hostname;return a("port %d and host %s",h,f),o.createConnection(h,f)}r.exports=l},{debug:20,net:2}],9:[function(i,r,s){"use strict";let o=i("tls"),a=i("net"),l=i("debug")("mqttjs:tls");function c(d,h){h.port=h.port||8883,h.host=h.hostname||h.host||"localhost",a.isIP(h.host)===0&&(h.servername=h.host),h.rejectUnauthorized=h.rejectUnauthorized!==!1,delete h.path,l("port %d host %s rejectUnauthorized %b",h.port,h.host,h.rejectUnauthorized);let f=o.connect(h);f.on("secureConnect",function(){h.rejectUnauthorized&&!f.authorized?f.emit("error",new Error("TLS not authorized")):f.removeListener("error",u)});function u(p){h.rejectUnauthorized&&d.emit("error",p),f.end()}return f.on("error",u),f}r.exports=c},{debug:20,net:2,tls:2}],10:[function(i,r,s){(function(o){(function(){"use strict";let{Buffer:a}=i("buffer"),l=i("ws"),c=i("debug")("mqttjs:ws"),d=i("duplexify"),h=i("readable-stream").Transform,f=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],u=typeof o<"u"&&o.title==="browser"||typeof __webpack_require__=="function";function p(T,A){let O=T.protocol+"://"+T.hostname+":"+T.port+T.path;return typeof T.transformWsUrl=="function"&&(O=T.transformWsUrl(O,T,A)),O}function g(T){let A=T;return T.hostname||(A.hostname="localhost"),T.port||(T.protocol==="wss"?A.port=443:A.port=80),T.path||(A.path="/"),T.wsOptions||(A.wsOptions={}),!u&&T.protocol==="wss"&&f.forEach(function(O){Object.prototype.hasOwnProperty.call(T,O)&&!Object.prototype.hasOwnProperty.call(T.wsOptions,O)&&(A.wsOptions[O]=T[O])}),A}function m(T){let A=g(T);if(A.hostname||(A.hostname=A.host),!A.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let O=new URL(document.URL);A.hostname=O.hostname,A.port||(A.port=O.port)}return A.objectMode===void 0&&(A.objectMode=!(A.binary===!0||A.binary===void 0)),A}function b(T,A,O){c("createWebSocket"),c("protocol: "+O.protocolId+" "+O.protocolVersion);let B=O.protocolId==="MQIsdp"&&O.protocolVersion===3?"mqttv3.1":"mqtt";return c("creating new Websocket for url: "+A+" and protocol: "+B),new l(A,[B],O.wsOptions)}function w(T,A){let O=A.protocolId==="MQIsdp"&&A.protocolVersion===3?"mqttv3.1":"mqtt",B=p(A,T),$=new WebSocket(B,[O]);return $.binaryType="arraybuffer",$}function C(T,A){c("streamBuilder");let O=g(A),B=p(O,T),$=b(T,B,O),k=l.createWebSocketStream($,O.wsOptions);return k.url=B,$.on("close",()=>{k.destroy()}),k}function x(T,A){c("browserStreamBuilder");let O,$=m(A).browserBufferSize||1024*512,k=A.browserBufferTimeout||1e3,N=!A.objectMode,M=w(T,A),G=ue(A,U,z);A.objectMode||(G._writev=R),G.on("close",()=>{M.close()});let P=typeof M.addEventListener<"u";M.readyState===M.OPEN?O=G:(O=O=d(void 0,void 0,A),A.objectMode||(O._writev=R),P?M.addEventListener("open",X):M.onopen=X),O.socket=M,P?(M.addEventListener("close",Q),M.addEventListener("error",W),M.addEventListener("message",S)):(M.onclose=Q,M.onerror=W,M.onmessage=S);function ue(ce,re,q){let Y=new h({objectModeMode:ce.objectMode});return Y._write=re,Y._flush=q,Y}function X(){O.setReadable(G),O.setWritable(G),O.emit("connect")}function Q(){O.end(),O.destroy()}function W(ce){O.destroy(ce)}function S(ce){let re=ce.data;re instanceof ArrayBuffer?re=a.from(re):re=a.from(re,"utf8"),G.push(re)}function R(ce,re){let q=new Array(ce.length);for(let Y=0;Y<ce.length;Y++)typeof ce[Y].chunk=="string"?q[Y]=a.from(ce[Y],"utf8"):q[Y]=ce[Y].chunk;this._write(a.concat(q),"binary",re)}function U(ce,re,q){M.bufferedAmount>$&&setTimeout(U,k,ce,re,q),N&&typeof ce=="string"&&(ce=a.from(ce,"utf8"));try{M.send(ce)}catch(Y){return q(Y)}q()}function z(ce){M.close(),ce()}return O}u?r.exports=x:r.exports=C}).call(this)}).call(this,i("_process"))},{_process:85,buffer:3,debug:20,duplexify:22,"readable-stream":72,ws:81}],11:[function(i,r,s){"use strict";let{Buffer:o}=i("buffer"),a=i("readable-stream").Transform,l=i("duplexify"),c,d,h;function f(){let b=new a;return b._write=function(w,C,x){c.send({data:w.buffer,success:function(){x()},fail:function(T){x(new Error(T))}})},b._flush=function(C){c.close({success:function(){C()}})},b}function u(b){b.hostname||(b.hostname="localhost"),b.path||(b.path="/"),b.wsOptions||(b.wsOptions={})}function p(b,w){let C=b.protocol==="wxs"?"wss":"ws",x=C+"://"+b.hostname+b.path;return b.port&&b.port!==80&&b.port!==443&&(x=C+"://"+b.hostname+":"+b.port+b.path),typeof b.transformWsUrl=="function"&&(x=b.transformWsUrl(x,b,w)),x}function g(){c.onOpen(function(){h.setReadable(d),h.setWritable(d),h.emit("connect")}),c.onMessage(function(b){let w=b.data;w instanceof ArrayBuffer?w=o.from(w):w=o.from(w,"utf8"),d.push(w)}),c.onClose(function(){h.end(),h.destroy()}),c.onError(function(b){h.destroy(new Error(b.errMsg))})}function m(b,w){if(w.hostname=w.hostname||w.host,!w.hostname)throw new Error("Could not determine host. Specify host manually.");let C=w.protocolId==="MQIsdp"&&w.protocolVersion===3?"mqttv3.1":"mqtt";u(w);let x=p(w,b);c=wx.connectSocket({url:x,protocols:[C]}),d=f(),h=l.obj(),h._destroy=function(A,O){c.close({success:function(){O&&O(A)}})};let T=h.destroy;return h.destroy=(function(){h.destroy=T;let A=this;setTimeout(function(){c.close({fail:function(){A._destroy(new Error)}})},0)}).bind(h),g(),h}r.exports=m},{buffer:3,duplexify:22,"readable-stream":72}],12:[function(i,r,s){"use strict";function o(){if(!(this instanceof o))return new o;this.nextId=Math.max(1,Math.floor(Math.random()*65535))}o.prototype.allocate=function(){let a=this.nextId++;return this.nextId===65536&&(this.nextId=1),a},o.prototype.getLastAllocated=function(){return this.nextId===1?65535:this.nextId-1},o.prototype.register=function(a){return!0},o.prototype.deallocate=function(a){},o.prototype.clear=function(){},r.exports=o},{}],13:[function(i,r,s){"use strict";let o=i("xtend"),a=i("readable-stream").Readable,l={objectMode:!0},c={clean:!0};function d(h){if(!(this instanceof d))return new d(h);this.options=h||{},this.options=o(c,h),this._inflights=new Map}d.prototype.put=function(h,f){return this._inflights.set(h.messageId,h),f&&f(),this},d.prototype.createStream=function(){let h=new a(l),f=[],u=!1,p=0;return this._inflights.forEach(function(g,m){f.push(g)}),h._read=function(){!u&&p<f.length?this.push(f[p++]):this.push(null)},h.destroy=function(){if(u)return;let g=this;u=!0,setTimeout(function(){g.emit("close")},0)},h},d.prototype.del=function(h,f){return h=this._inflights.get(h.messageId),h?(this._inflights.delete(h.messageId),f(null,h)):f&&f(new Error("missing packet")),this},d.prototype.get=function(h,f){return h=this._inflights.get(h.messageId),h?f(null,h):f&&f(new Error("missing packet")),this},d.prototype.close=function(h){this.options.clean&&(this._inflights=null),h&&h()},r.exports=d},{"readable-stream":72,xtend:82}],14:[function(i,r,s){"use strict";function o(a){if(!(this instanceof o))return new o(a);this.aliasToTopic={},this.max=a}o.prototype.put=function(a,l){return l===0||l>this.max?!1:(this.aliasToTopic[l]=a,this.length=Object.keys(this.aliasToTopic).length,!0)},o.prototype.getTopicByAlias=function(a){return this.aliasToTopic[a]},o.prototype.clear=function(){this.aliasToTopic={}},r.exports=o},{}],15:[function(i,r,s){"use strict";let o=i("lru-cache"),a=i("number-allocator").NumberAllocator;function l(c){if(!(this instanceof l))return new l(c);c>0&&(this.aliasToTopic=new o({max:c}),this.topicToAlias={},this.numberAllocator=new a(1,c),this.max=c,this.length=0)}l.prototype.put=function(c,d){if(d===0||d>this.max)return!1;let h=this.aliasToTopic.get(d);return h&&delete this.topicToAlias[h],this.aliasToTopic.set(d,c),this.topicToAlias[c]=d,this.numberAllocator.use(d),this.length=this.aliasToTopic.length,!0},l.prototype.getTopicByAlias=function(c){return this.aliasToTopic.get(c)},l.prototype.getAliasByTopic=function(c){let d=this.topicToAlias[c];return typeof d<"u"&&this.aliasToTopic.get(d),d},l.prototype.clear=function(){this.aliasToTopic.reset(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0},l.prototype.getLruAlias=function(){let c=this.numberAllocator.firstVacant();return c||this.aliasToTopic.keys()[this.aliasToTopic.length-1]},r.exports=l},{"lru-cache":45,"number-allocator":54}],16:[function(i,r,s){"use strict";function o(l){let c=l.split("/");for(let d=0;d<c.length;d++)if(c[d]!=="+"){if(c[d]==="#")return d===c.length-1;if(c[d].indexOf("+")!==-1||c[d].indexOf("#")!==-1)return!1}return!0}function a(l){if(l.length===0)return"empty_topic_list";for(let c=0;c<l.length;c++)if(!o(l[c]))return l[c];return null}r.exports={validateTopics:a}},{}],17:[function(i,r,s){(function(o){(function(){"use strict";let a=i("../client"),l=i("../store"),c=i("url"),d=i("xtend"),h=i("debug")("mqttjs"),f={};typeof o<"u"&&o.title!=="browser"||typeof __webpack_require__!="function"?(f.mqtt=i("./tcp"),f.tcp=i("./tcp"),f.ssl=i("./tls"),f.tls=i("./tls"),f.mqtts=i("./tls")):(f.wx=i("./wx"),f.wxs=i("./wx"),f.ali=i("./ali"),f.alis=i("./ali")),f.ws=i("./ws"),f.wss=i("./ws");function u(g){let m;g.auth&&(m=g.auth.match(/^(.+):(.+)$/),m?(g.username=m[1],g.password=m[2]):g.username=g.auth)}function p(g,m){if(h("connecting to an MQTT broker..."),typeof g=="object"&&!m&&(m=g,g=null),m=m||{},g){let C=c.parse(g,!0);if(C.port!=null&&(C.port=Number(C.port)),m=d(C,m),m.protocol===null)throw new Error("Missing protocol");m.protocol=m.protocol.replace(/:$/,"")}if(u(m),m.query&&typeof m.query.clientId=="string"&&(m.clientId=m.query.clientId),m.cert&&m.key)if(m.protocol){if(["mqtts","wss","wxs","alis"].indexOf(m.protocol)===-1)switch(m.protocol){case"mqtt":m.protocol="mqtts";break;case"ws":m.protocol="wss";break;case"wx":m.protocol="wxs";break;case"ali":m.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'+m.protocol+'"!')}}else throw new Error("Missing secure protocol key");if(!f[m.protocol]){let C=["mqtts","wss"].indexOf(m.protocol)!==-1;m.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter(function(x,T){return C&&T%2===0?!1:typeof f[x]=="function"})[0]}if(m.clean===!1&&!m.clientId)throw new Error("Missing clientId for unclean clients");m.protocol&&(m.defaultProtocol=m.protocol);function b(C){return m.servers&&((!C._reconnectCount||C._reconnectCount===m.servers.length)&&(C._reconnectCount=0),m.host=m.servers[C._reconnectCount].host,m.port=m.servers[C._reconnectCount].port,m.protocol=m.servers[C._reconnectCount].protocol?m.servers[C._reconnectCount].protocol:m.defaultProtocol,m.hostname=m.host,C._reconnectCount++),h("calling streambuilder for",m.protocol),f[m.protocol](C,m)}let w=new a(b,m);return w.on("error",function(){}),w}r.exports=p,r.exports.connect=p,r.exports.MqttClient=a,r.exports.Store=l}).call(this)}).call(this,i("_process"))},{"../client":6,"../store":13,"./ali":7,"./tcp":8,"./tls":9,"./ws":10,"./wx":11,_process:85,debug:20,url:90,xtend:82}],18:[function(i,r,s){"use strict";let{Buffer:o}=i("buffer"),a=Symbol.for("BufferList");function l(c){if(!(this instanceof l))return new l(c);l._init.call(this,c)}l._init=function(d){Object.defineProperty(this,a,{value:!0}),this._bufs=[],this.length=0,d&&this.append(d)},l.prototype._new=function(d){return new l(d)},l.prototype._offset=function(d){if(d===0)return[0,0];let h=0;for(let f=0;f<this._bufs.length;f++){let u=h+this._bufs[f].length;if(d<u||f===this._bufs.length-1)return[f,d-h];h=u}},l.prototype._reverseOffset=function(c){let d=c[0],h=c[1];for(let f=0;f<d;f++)h+=this._bufs[f].length;return h},l.prototype.get=function(d){if(d>this.length||d<0)return;let h=this._offset(d);return this._bufs[h[0]][h[1]]},l.prototype.slice=function(d,h){return typeof d=="number"&&d<0&&(d+=this.length),typeof h=="number"&&h<0&&(h+=this.length),this.copy(null,0,d,h)},l.prototype.copy=function(d,h,f,u){if((typeof f!="number"||f<0)&&(f=0),(typeof u!="number"||u>this.length)&&(u=this.length),f>=this.length||u<=0)return d||o.alloc(0);let p=!!d,g=this._offset(f),m=u-f,b=m,w=p&&h||0,C=g[1];if(f===0&&u===this.length){if(!p)return this._bufs.length===1?this._bufs[0]:o.concat(this._bufs,this.length);for(let x=0;x<this._bufs.length;x++)this._bufs[x].copy(d,w),w+=this._bufs[x].length;return d}if(b<=this._bufs[g[0]].length-C)return p?this._bufs[g[0]].copy(d,h,C,C+b):this._bufs[g[0]].slice(C,C+b);p||(d=o.allocUnsafe(m));for(let x=g[0];x<this._bufs.length;x++){let T=this._bufs[x].length-C;if(b>T)this._bufs[x].copy(d,w,C),w+=T;else{this._bufs[x].copy(d,w,C,C+b),w+=T;break}b-=T,C&&(C=0)}return d.length>w?d.slice(0,w):d},l.prototype.shallowSlice=function(d,h){if(d=d||0,h=typeof h!="number"?this.length:h,d<0&&(d+=this.length),h<0&&(h+=this.length),d===h)return this._new();let f=this._offset(d),u=this._offset(h),p=this._bufs.slice(f[0],u[0]+1);return u[1]===0?p.pop():p[p.length-1]=p[p.length-1].slice(0,u[1]),f[1]!==0&&(p[0]=p[0].slice(f[1])),this._new(p)},l.prototype.toString=function(d,h,f){return this.slice(h,f).toString(d)},l.prototype.consume=function(d){if(d=Math.trunc(d),Number.isNaN(d)||d<=0)return this;for(;this._bufs.length;)if(d>=this._bufs[0].length)d-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(d),this.length-=d;break}return this},l.prototype.duplicate=function(){let d=this._new();for(let h=0;h<this._bufs.length;h++)d.append(this._bufs[h]);return d},l.prototype.append=function(d){if(d==null)return this;if(d.buffer)this._appendBuffer(o.from(d.buffer,d.byteOffset,d.byteLength));else if(Array.isArray(d))for(let h=0;h<d.length;h++)this.append(d[h]);else if(this._isBufferList(d))for(let h=0;h<d._bufs.length;h++)this.append(d._bufs[h]);else typeof d=="number"&&(d=d.toString()),this._appendBuffer(o.from(d));return this},l.prototype._appendBuffer=function(d){this._bufs.push(d),this.length+=d.length},l.prototype.indexOf=function(c,d,h){if(h===void 0&&typeof d=="string"&&(h=d,d=void 0),typeof c=="function"||Array.isArray(c))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof c=="number"?c=o.from([c]):typeof c=="string"?c=o.from(c,h):this._isBufferList(c)?c=c.slice():Array.isArray(c.buffer)?c=o.from(c.buffer,c.byteOffset,c.byteLength):o.isBuffer(c)||(c=o.from(c)),d=Number(d||0),isNaN(d)&&(d=0),d<0&&(d=this.length+d),d<0&&(d=0),c.length===0)return d>this.length?this.length:d;let f=this._offset(d),u=f[0],p=f[1];for(;u<this._bufs.length;u++){let g=this._bufs[u];for(;p<g.length;)if(g.length-p>=c.length){let b=g.indexOf(c,p);if(b!==-1)return this._reverseOffset([u,b]);p=g.length-c.length+1}else{let b=this._reverseOffset([u,p]);if(this._match(b,c))return b;p++}p=0}return-1},l.prototype._match=function(c,d){if(this.length-c<d.length)return!1;for(let h=0;h<d.length;h++)if(this.get(c+h)!==d[h])return!1;return!0},function(){let c={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let d in c)(function(h){c[h]===null?l.prototype[h]=function(f,u){return this.slice(f,f+u)[h](0,u)}:l.prototype[h]=function(f=0){return this.slice(f,f+c[h])[h](0)}})(d)}(),l.prototype._isBufferList=function(d){return d instanceof l||l.isBufferList(d)},l.isBufferList=function(d){return d!=null&&d[a]},r.exports=l},{buffer:3}],19:[function(i,r,s){"use strict";let o=i("readable-stream").Duplex,a=i("inherits"),l=i("./BufferList");function c(d){if(!(this instanceof c))return new c(d);if(typeof d=="function"){this._callback=d;let h=(function(u){this._callback&&(this._callback(u),this._callback=null)}).bind(this);this.on("pipe",function(u){u.on("error",h)}),this.on("unpipe",function(u){u.removeListener("error",h)}),d=null}l._init.call(this,d),o.call(this)}a(c,o),Object.assign(c.prototype,l.prototype),c.prototype._new=function(h){return new c(h)},c.prototype._write=function(h,f,u){this._appendBuffer(h),typeof u=="function"&&u()},c.prototype._read=function(h){if(!this.length)return this.push(null);h=Math.min(h,this.length),this.push(this.slice(0,h)),this.consume(h)},c.prototype.end=function(h){o.prototype.end.call(this,h),this._callback&&(this._callback(null,this.slice()),this._callback=null)},c.prototype._destroy=function(h,f){this._bufs.length=0,this.length=0,f(h)},c.prototype._isBufferList=function(h){return h instanceof c||h instanceof l||c.isBufferList(h)},c.isBufferList=l.isBufferList,r.exports=c,r.exports.BufferListStream=c,r.exports.BufferList=l},{"./BufferList":18,inherits:24,"readable-stream":72}],20:[function(i,r,s){(function(o){(function(){s.formatArgs=l,s.save=c,s.load=d,s.useColors=a,s.storage=h(),s.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),s.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function a(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function l(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;let p="color: "+this.color;u.splice(1,0,p,"color: inherit");let g=0,m=0;u[0].replace(/%[a-zA-Z%]/g,b=>{b!=="%%"&&(g++,b==="%c"&&(m=g))}),u.splice(m,0,p)}s.log=console.debug||console.log||(()=>{});function c(u){try{u?s.storage.setItem("debug",u):s.storage.removeItem("debug")}catch{}}function d(){let u;try{u=s.storage.getItem("debug")}catch{}return!u&&typeof o<"u"&&"env"in o&&(u=o.env.DEBUG),u}function h(){try{return localStorage}catch{}}r.exports=i("./common")(s);let{formatters:f}=r.exports;f.j=function(u){try{return JSON.stringify(u)}catch(p){return"[UnexpectedJSONParseError]: "+p.message}}}).call(this)}).call(this,i("_process"))},{"./common":21,_process:85}],21:[function(i,r,s){function o(a){c.debug=c,c.default=c,c.coerce=g,c.disable=f,c.enable=h,c.enabled=u,c.humanize=i("ms"),c.destroy=m,Object.keys(a).forEach(b=>{c[b]=a[b]}),c.names=[],c.skips=[],c.formatters={};function l(b){let w=0;for(let C=0;C<b.length;C++)w=(w<<5)-w+b.charCodeAt(C),w|=0;return c.colors[Math.abs(w)%c.colors.length]}c.selectColor=l;function c(b){let w,C=null,x,T;function A(...O){if(!A.enabled)return;let B=A,$=Number(new Date),k=$-(w||$);B.diff=k,B.prev=w,B.curr=$,w=$,O[0]=c.coerce(O[0]),typeof O[0]!="string"&&O.unshift("%O");let N=0;O[0]=O[0].replace(/%([a-zA-Z%])/g,(G,P)=>{if(G==="%%")return"%";N++;let ue=c.formatters[P];if(typeof ue=="function"){let X=O[N];G=ue.call(B,X),O.splice(N,1),N--}return G}),c.formatArgs.call(B,O),(B.log||c.log).apply(B,O)}return A.namespace=b,A.useColors=c.useColors(),A.color=c.selectColor(b),A.extend=d,A.destroy=c.destroy,Object.defineProperty(A,"enabled",{enumerable:!0,configurable:!1,get:()=>C!==null?C:(x!==c.namespaces&&(x=c.namespaces,T=c.enabled(b)),T),set:O=>{C=O}}),typeof c.init=="function"&&c.init(A),A}function d(b,w){let C=c(this.namespace+(typeof w>"u"?":":w)+b);return C.log=this.log,C}function h(b){c.save(b),c.namespaces=b,c.names=[],c.skips=[];let w,C=(typeof b=="string"?b:"").split(/[\s,]+/),x=C.length;for(w=0;w<x;w++)C[w]&&(b=C[w].replace(/\*/g,".*?"),b[0]==="-"?c.skips.push(new RegExp("^"+b.slice(1)+"$")):c.names.push(new RegExp("^"+b+"$")))}function f(){let b=[...c.names.map(p),...c.skips.map(p).map(w=>"-"+w)].join(",");return c.enable(""),b}function u(b){if(b[b.length-1]==="*")return!0;let w,C;for(w=0,C=c.skips.length;w<C;w++)if(c.skips[w].test(b))return!1;for(w=0,C=c.names.length;w<C;w++)if(c.names[w].test(b))return!0;return!1}function p(b){return b.toString().substring(2,b.toString().length-2).replace(/\.\*\?$/,"*")}function g(b){return b instanceof Error?b.stack||b.message:b}function m(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return c.enable(c.load()),c}r.exports=o},{ms:53}],22:[function(i,r,s){(function(o,a){(function(){var l=i("readable-stream"),c=i("end-of-stream"),d=i("inherits"),h=i("stream-shift"),f=a.from&&a.from!==Uint8Array.from?a.from([0]):new a([0]),u=function(x,T){x._corked?x.once("uncork",T):T()},p=function(x,T){x._autoDestroy&&x.destroy(T)},g=function(x,T){return function(A){A?p(x,A.message==="premature close"?null:A):T&&!x._ended&&x.end()}},m=function(x,T){if(!x||x._writableState&&x._writableState.finished)return T();if(x._writableState)return x.end(T);x.end(),T()},b=function(){},w=function(x){return new l.Readable({objectMode:!0,highWaterMark:16}).wrap(x)},C=function(x,T,A){if(!(this instanceof C))return new C(x,T,A);l.Duplex.call(this,A),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!A||A.autoDestroy!==!1,this._forwardDestroy=!A||A.destroy!==!1,this._forwardEnd=!A||A.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,x&&this.setWritable(x),T&&this.setReadable(T)};d(C,l.Duplex),C.obj=function(x,T,A){return A||(A={}),A.objectMode=!0,A.highWaterMark=16,new C(x,T,A)},C.prototype.cork=function(){++this._corked===1&&this.emit("cork")},C.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")},C.prototype.setWritable=function(x){if(this._unwrite&&this._unwrite(),this.destroyed){x&&x.destroy&&x.destroy();return}if(x===null||x===!1){this.end();return}var T=this,A=c(x,{writable:!0,readable:!1},g(this,this._forwardEnd)),O=function(){var $=T._ondrain;T._ondrain=null,$&&$()},B=function(){T._writable.removeListener("drain",O),A()};this._unwrite&&o.nextTick(O),this._writable=x,this._writable.on("drain",O),this._unwrite=B,this.uncork()},C.prototype.setReadable=function(x){if(this._unread&&this._unread(),this.destroyed){x&&x.destroy&&x.destroy();return}if(x===null||x===!1){this.push(null),this.resume();return}var T=this,A=c(x,{writable:!1,readable:!0},g(this)),O=function(){T._forward()},B=function(){T.push(null)},$=function(){T._readable2.removeListener("readable",O),T._readable2.removeListener("end",B),A()};this._drained=!0,this._readable=x,this._readable2=x._readableState?x:w(x),this._readable2.on("readable",O),this._readable2.on("end",B),this._unread=$,this._forward()},C.prototype._read=function(){this._drained=!0,this._forward()},C.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var x;this._drained&&(x=h(this._readable2))!==null;)this.destroyed||(this._drained=this.push(x));this._forwarding=!1}},C.prototype.destroy=function(x,T){if(T||(T=b),this.destroyed)return T(null);this.destroyed=!0;var A=this;o.nextTick(function(){A._destroy(x),T(null)})},C.prototype._destroy=function(x){if(x){var T=this._ondrain;this._ondrain=null,T?T(x):this.emit("error",x)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},C.prototype._write=function(x,T,A){if(!this.destroyed){if(this._corked)return u(this,this._write.bind(this,x,T,A));if(x===f)return this._finish(A);if(!this._writable)return A();this._writable.write(x)===!1?this._ondrain=A:this.destroyed||A()}},C.prototype._finish=function(x){var T=this;this.emit("preend"),u(this,function(){m(T._forwardEnd&&T._writable,function(){T._writableState.prefinished===!1&&(T._writableState.prefinished=!0),T.emit("prefinish"),u(T,x)})})},C.prototype.end=function(x,T,A){return typeof x=="function"?this.end(null,null,x):typeof T=="function"?this.end(x,null,T):(this._ended=!0,x&&this.write(x),!this._writableState.ending&&!this._writableState.destroyed&&this.write(f),l.Writable.prototype.end.call(this,A))},r.exports=C}).call(this)}).call(this,i("_process"),i("buffer").Buffer)},{_process:85,buffer:3,"end-of-stream":23,inherits:24,"readable-stream":72,"stream-shift":77}],23:[function(i,r,s){(function(o){(function(){var a=i("once"),l=function(){},c=function(f){return f.setHeader&&typeof f.abort=="function"},d=function(f){return f.stdio&&Array.isArray(f.stdio)&&f.stdio.length===3},h=function(f,u,p){if(typeof u=="function")return h(f,null,u);u||(u={}),p=a(p||l);var g=f._writableState,m=f._readableState,b=u.readable||u.readable!==!1&&f.readable,w=u.writable||u.writable!==!1&&f.writable,C=!1,x=function(){f.writable||T()},T=function(){w=!1,b||p.call(f)},A=function(){b=!1,w||p.call(f)},O=function(M){p.call(f,M?new Error("exited with error code: "+M):null)},B=function(M){p.call(f,M)},$=function(){o.nextTick(k)},k=function(){if(!C){if(b&&!(m&&m.ended&&!m.destroyed))return p.call(f,new Error("premature close"));if(w&&!(g&&g.ended&&!g.destroyed))return p.call(f,new Error("premature close"))}},N=function(){f.req.on("finish",T)};return c(f)?(f.on("complete",T),f.on("abort",$),f.req?N():f.on("request",N)):w&&!g&&(f.on("end",x),f.on("close",x)),d(f)&&f.on("exit",O),f.on("end",A),f.on("finish",T),u.error!==!1&&f.on("error",B),f.on("close",$),function(){C=!0,f.removeListener("complete",T),f.removeListener("abort",$),f.removeListener("request",N),f.req&&f.req.removeListener("finish",T),f.removeListener("end",x),f.removeListener("close",x),f.removeListener("finish",T),f.removeListener("exit",O),f.removeListener("end",A),f.removeListener("error",B),f.removeListener("close",$)}};r.exports=h}).call(this)}).call(this,i("_process"))},{_process:85,once:56}],24:[function(i,r,s){typeof Object.create=="function"?r.exports=function(a,l){l&&(a.super_=l,a.prototype=Object.create(l.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(a,l){if(l){a.super_=l;var c=function(){};c.prototype=l.prototype,a.prototype=new c,a.prototype.constructor=a}}},{}],25:[function(i,r,s){"use strict";Object.defineProperty(s,"t",{value:!0}),s.ContainerIterator=s.Container=s.Base=void 0;class o{constructor(d=0){this.iteratorType=d}equals(d){return this.o===d.o}}s.ContainerIterator=o;class a{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}}s.Base=a;class l extends a{}s.Container=l},{}],26:[function(i,r,s){"use strict";Object.defineProperty(s,"t",{value:!0}),s.HashContainerIterator=s.HashContainer=void 0;var o=i("../../ContainerBase"),a=c(i("../../../utils/checkObject")),l=i("../../../utils/throwError");function c(f){return f&&f.t?f:{default:f}}class d extends o.ContainerIterator{constructor(u,p,g){super(g),this.o=u,this.h=p,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this})}}s.HashContainerIterator=d;class h extends o.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(u){let{L:p,B:g}=u;p.B=g,g.L=p,u===this.p&&(this.p=g),u===this._&&(this._=p),this.i-=1}M(u,p,g){g===void 0&&(g=(0,a.default)(u));let m;if(g){let b=u[this.HASH_TAG];if(b!==void 0)return this.H[b].l=p,this.i;Object.defineProperty(u,this.HASH_TAG,{value:this.H.length,configurable:!0}),m={u,l:p,L:this._,B:this.h},this.H.push(m)}else{let b=this.g[u];if(b)return b.l=p,this.i;m={u,l:p,L:this._,B:this.h},this.g[u]=m}return this.i===0?(this.p=m,this.h.B=m):this._.B=m,this._=m,this.h.L=m,++this.i}I(u,p){if(p===void 0&&(p=(0,a.default)(u)),p){let g=u[this.HASH_TAG];return g===void 0?this.h:this.H[g]}else return this.g[u]||this.h}clear(){let u=this.HASH_TAG;this.H.forEach(function(p){delete p.u[u]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(u,p){let g;if(p===void 0&&(p=(0,a.default)(u)),p){let m=u[this.HASH_TAG];if(m===void 0)return!1;delete u[this.HASH_TAG],g=this.H[m],delete this.H[m]}else{if(g=this.g[u],g===void 0)return!1;delete this.g[u]}return this.V(g),!0}eraseElementByIterator(u){let p=u.o;return p===this.h&&(0,l.throwIteratorAccessError)(),this.V(p),u.next()}eraseElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;let p=this.p;for(;u--;)p=p.B;return this.V(p),this.i}}s.HashContainer=h},{"../../../utils/checkObject":43,"../../../utils/throwError":44,"../../ContainerBase":25}],27:[function(i,r,s){"use strict";Object.defineProperty(s,"t",{value:!0}),s.default=void 0;var o=i("./Base"),a=c(i("../../utils/checkObject")),l=i("../../utils/throwError");function c(u){return u&&u.t?u:{default:u}}class d extends o.HashContainerIterator{constructor(p,g,m,b){super(p,g,b),this.container=m}get pointer(){this.o===this.h&&(0,l.throwIteratorAccessError)();let p=this;return new Proxy([],{get(g,m){if(m==="0")return p.o.u;if(m==="1")return p.o.l},set(g,m,b){if(m!=="1")throw new TypeError("props must be 1");return p.o.l=b,!0}})}copy(){return new d(this.o,this.h,this.container,this.iteratorType)}}class h extends o.HashContainer{constructor(p=[]){super();let g=this;p.forEach(function(m){g.setElement(m[0],m[1])})}begin(){return new d(this.p,this.h,this)}end(){return new d(this.h,this.h,this)}rBegin(){return new d(this._,this.h,this,1)}rEnd(){return new d(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(p,g,m){return this.M(p,g,m)}getElementByKey(p,g){if(g===void 0&&(g=(0,a.default)(p)),g){let b=p[this.HASH_TAG];return b!==void 0?this.H[b].l:void 0}let m=this.g[p];return m?m.l:void 0}getElementByPos(p){if(p<0||p>this.i-1)throw new RangeError;let g=this.p;for(;p--;)g=g.B;return[g.u,g.l]}find(p,g){let m=this.I(p,g);return new d(m,this.h,this)}forEach(p){let g=0,m=this.p;for(;m!==this.h;)p([m.u,m.l],g++,this),m=m.B}[Symbol.iterator](){return(function*(){let p=this.p;for(;p!==this.h;)yield[p.u,p.l],p=p.B}).bind(this)()}}var f=h;s.default=f},{"../../utils/checkObject":43,"../../utils/throwError":44,"./Base":26}],28:[function(i,r,s){"use strict";Object.defineProperty(s,"t",{value:!0}),s.default=void 0;var o=i("./Base"),a=i("../../utils/throwError");class l extends o.HashContainerIterator{constructor(f,u,p,g){super(f,u,g),this.container=p}get pointer(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o.u}copy(){return new l(this.o,this.h,this.container,this.iteratorType)}}class c extends o.HashContainer{constructor(f=[]){super();let u=this;f.forEach(function(p){u.insert(p)})}begin(){return new l(this.p,this.h,this)}end(){return new l(this.h,this.h,this)}rBegin(){return new l(this._,this.h,this,1)}rEnd(){return new l(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(f,u){return this.M(f,void 0,u)}getElementByPos(f){if(f<0||f>this.i-1)throw new RangeError;let u=this.p;for(;f--;)u=u.B;return u.u}find(f,u){let p=this.I(f,u);return new l(p,this.h,this)}forEach(f){let u=0,p=this.p;for(;p!==this.h;)f(p.u,u++,this),p=p.B}[Symbol.iterator](){return(function*(){let f=this.p;for(;f!==this.h;)yield f.u,f=f.B}).bind(this)()}}var d=c;s.default=d},{"../../utils/throwError":44,"./Base":26}],29:[function(i,r,s){"use strict";Object.defineProperty(s,"t",{value:!0}),s.default=void 0;var o=i("../ContainerBase");class a extends o.Base{constructor(d=[],h=function(u,p){return u>p?-1:u<p?1:0},f=!0){if(super(),this.v=h,Array.isArray(d))this.C=f?[...d]:d;else{this.C=[];let p=this;d.forEach(function(g){p.C.push(g)})}this.i=this.C.length;let u=this.i>>1;for(let p=this.i-1>>1;p>=0;--p)this.k(p,u)}m(d){let h=this.C[d];for(;d>0;){let f=d-1>>1,u=this.C[f];if(this.v(u,h)<=0)break;this.C[d]=u,d=f}this.C[d]=h}k(d,h){let f=this.C[d];for(;d<h;){let u=d<<1|1,p=u+1,g=this.C[u];if(p<this.i&&this.v(g,this.C[p])>0&&(u=p,g=this.C[p]),this.v(g,f)>=0)break;this.C[d]=g,d=u}this.C[d]=f}clear(){this.i=0,this.C.length=0}push(d){this.C.push(d),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let d=this.C[0],h=this.C.pop();return this.i-=1,this.i&&(this.C[0]=h,this.k(0,this.i>>1)),d}top(){return this.C[0]}find(d){return this.C.indexOf(d)>=0}remove(d){let h=this.C.indexOf(d);return h<0?!1:(h===0?this.pop():h===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(h,1,this.C.pop()),this.i-=1,this.m(h),this.k(h,this.i>>1)),!0)}updateItem(d){let h=this.C.indexOf(d);return h<0?!1:(this.m(h),this.k(h,this.i>>1),!0)}toArray(){return[...this.C]}}var l=a;s.default=l},{"../ContainerBase":25}],30:[function(i,r,s){"use strict";Object.defineProperty(s,"t",{value:!0}),s.default=void 0;var o=i("../ContainerBase");class a extends o.Base{constructor(d=[]){super(),this.j=0,this.q=[];let h=this;d.forEach(function(f){h.push(f)})}clear(){this.q=[],this.i=this.j=0}push(d){let h=this.q.length;if(this.j/h>.5&&this.j+this.i>=h&&h>4096){let f=this.i;for(let u=0;u<f;++u)this.q[u]=this.q[this.j+u];this.j=0,this.q[this.i]=d}else this.q[this.j+this.i]=d;return++this.i}pop(){if(this.i===0)return;let d=this.q[this.j++];return this.i-=1,d}front(){if(this.i!==0)return this.q[this.j]}}var l=a;s.default=l},{"../ContainerBase":25}],31:[function(i,r,s){"use strict";Object.defineProperty(s,"t",{value:!0}),s.default=void 0;var o=i("../ContainerBase");class a extends o.Base{constructor(d=[]){super(),this.S=[];let h=this;d.forEach(function(f){h.push(f)})}clear(){this.i=0,this.S=[]}push(d){return this.S.push(d),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}}var l=a;s.default=l},{"../ContainerBase":25}],32:[function(i,r,s){"use strict";Object.defineProperty(s,"t",{value:!0}),s.RandomIterator=void 0;var o=i("../../ContainerBase"),a=i("../../../utils/throwError");class l extends o.ContainerIterator{constructor(d,h){super(h),this.o=d,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,a.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,a.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,a.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,a.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(d){this.container.setElementByPos(this.o,d)}}s.RandomIterator=l},{"../../../utils/throwError":44,"../../ContainerBase":25}],33:[function(i,r,s){"use strict";Object.defineProperty(s,"t",{value:!0}),s.default=void 0;var o=i("../../ContainerBase");class a extends o.Container{}var l=a;s.default=l},{"../../ContainerBase":25}],34:[function(i,r,s){"use strict";Object.defineProperty(s,"t",{value:!0}),s.default=void 0;var o=l(i("./Base")),a=i("./Base/RandomIterator");function l(f){return f&&f.t?f:{default:f}}class c extends a.RandomIterator{constructor(u,p,g){super(u,g),this.container=p}copy(){return new c(this.o,this.container,this.iteratorType)}}class d extends o.default{constructor(u=[],p=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let g=(()=>{if(typeof u.length=="number")return u.length;if(typeof u.size=="number")return u.size;if(typeof u.size=="function")return u.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=p,this.P=Math.max(Math.ceil(g/this.F),1);for(let w=0;w<this.P;++w)this.A.push(new Array(this.F));let m=Math.ceil(g/this.F);this.j=this.R=(this.P>>1)-(m>>1),this.D=this.N=this.F-g%this.F>>1;let b=this;u.forEach(function(w){b.pushBack(w)})}T(){let u=[],p=Math.max(this.P>>1,1);for(let g=0;g<p;++g)u[g]=new Array(this.F);for(let g=this.j;g<this.P;++g)u[u.length]=this.A[g];for(let g=0;g<this.R;++g)u[u.length]=this.A[g];u[u.length]=[...this.A[this.R]],this.j=p,this.R=u.length-1;for(let g=0;g<p;++g)u[u.length]=new Array(this.F);this.A=u,this.P=u.length}O(u){let p=this.D+u+1,g=p%this.F,m=g-1,b=this.j+(p-g)/this.F;return g===0&&(b-=1),b%=this.P,m<0&&(m+=this.F),{curNodeBucketIndex:b,curNodePointerIndex:m}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new c(0,this)}end(){return new c(this.i,this)}rBegin(){return new c(this.i-1,this,1)}rEnd(){return new c(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(u){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=u,this.i}popBack(){if(this.i===0)return;let u=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,u}pushFront(u){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=u,this.i}popFront(){if(this.i===0)return;let u=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,u}getElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;let{curNodeBucketIndex:p,curNodePointerIndex:g}=this.O(u);return this.A[p][g]}setElementByPos(u,p){if(u<0||u>this.i-1)throw new RangeError;let{curNodeBucketIndex:g,curNodePointerIndex:m}=this.O(u);this.A[g][m]=p}insert(u,p,g=1){if(u<0||u>this.i)throw new RangeError;if(u===0)for(;g--;)this.pushFront(p);else if(u===this.i)for(;g--;)this.pushBack(p);else{let m=[];for(let b=u;b<this.i;++b)m.push(this.getElementByPos(b));this.cut(u-1);for(let b=0;b<g;++b)this.pushBack(p);for(let b=0;b<m.length;++b)this.pushBack(m[b])}return this.i}cut(u){if(u<0)return this.clear(),0;let{curNodeBucketIndex:p,curNodePointerIndex:g}=this.O(u);return this.R=p,this.N=g,this.i=u+1,this.i}eraseElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;if(u===0)this.popFront();else if(u===this.i-1)this.popBack();else{let p=[];for(let m=u+1;m<this.i;++m)p.push(this.getElementByPos(m));this.cut(u),this.popBack();let g=this;p.forEach(function(m){g.pushBack(m)})}return this.i}eraseElementByValue(u){if(this.i===0)return 0;let p=[];for(let m=0;m<this.i;++m){let b=this.getElementByPos(m);b!==u&&p.push(b)}let g=p.length;for(let m=0;m<g;++m)this.setElementByPos(m,p[m]);return this.cut(g-1)}eraseElementByIterator(u){let p=u.o;return this.eraseElementByPos(p),u=u.next(),u}find(u){for(let p=0;p<this.i;++p)if(this.getElementByPos(p)===u)return new c(p,this);return this.end()}reverse(){let u=0,p=this.i-1;for(;u<p;){let g=this.getElementByPos(u);this.setElementByPos(u,this.getElementByPos(p)),this.setElementByPos(p,g),u+=1,p-=1}}unique(){if(this.i<=1)return this.i;let u=1,p=this.getElementByPos(0);for(let g=1;g<this.i;++g){let m=this.getElementByPos(g);m!==p&&(p=m,this.setElementByPos(u++,m))}for(;this.i>u;)this.popBack();return this.i}sort(u){let p=[];for(let g=0;g<this.i;++g)p.push(this.getElementByPos(g));p.sort(u);for(let g=0;g<this.i;++g)this.setElementByPos(g,p[g])}shrinkToFit(){if(this.i===0)return;let u=[];this.forEach(function(p){u.push(p)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let p=0;p<this.P;++p)this.A.push(new Array(this.F));for(let p=0;p<u.length;++p)this.pushBack(u[p])}forEach(u){for(let p=0;p<this.i;++p)u(this.getElementByPos(p),p,this)}[Symbol.iterator](){return(function*(){for(let u=0;u<this.i;++u)yield this.getElementByPos(u)}).bind(this)()}}var h=d;s.default=h},{"./Base":33,"./Base/RandomIterator":32}],35:[function(i,r,s){"use strict";Object.defineProperty(s,"t",{value:!0}),s.default=void 0;var o=c(i("./Base")),a=i("../ContainerBase"),l=i("../../utils/throwError");function c(u){return u&&u.t?u:{default:u}}class d extends a.ContainerIterator{constructor(p,g,m,b){super(b),this.o=p,this.h=g,this.container=m,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.l}set pointer(p){this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.l=p}copy(){return new d(this.o,this.h,this.container,this.iteratorType)}}class h extends o.default{constructor(p=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let g=this;p.forEach(function(m){g.pushBack(m)})}V(p){let{L:g,B:m}=p;g.B=m,m.L=g,p===this.p&&(this.p=m),p===this._&&(this._=g),this.i-=1}G(p,g){let m=g.B,b={l:p,L:g,B:m};g.B=b,m.L=b,g===this.h&&(this.p=b),m===this.h&&(this._=b),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new d(this.p,this.h,this)}end(){return new d(this.h,this.h,this)}rBegin(){return new d(this._,this.h,this,1)}rEnd(){return new d(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(p){if(p<0||p>this.i-1)throw new RangeError;let g=this.p;for(;p--;)g=g.B;return g.l}eraseElementByPos(p){if(p<0||p>this.i-1)throw new RangeError;let g=this.p;for(;p--;)g=g.B;return this.V(g),this.i}eraseElementByValue(p){let g=this.p;for(;g!==this.h;)g.l===p&&this.V(g),g=g.B;return this.i}eraseElementByIterator(p){let g=p.o;return g===this.h&&(0,l.throwIteratorAccessError)(),p=p.next(),this.V(g),p}pushBack(p){return this.G(p,this._),this.i}popBack(){if(this.i===0)return;let p=this._.l;return this.V(this._),p}pushFront(p){return this.G(p,this.h),this.i}popFront(){if(this.i===0)return;let p=this.p.l;return this.V(this.p),p}setElementByPos(p,g){if(p<0||p>this.i-1)throw new RangeError;let m=this.p;for(;p--;)m=m.B;m.l=g}insert(p,g,m=1){if(p<0||p>this.i)throw new RangeError;if(m<=0)return this.i;if(p===0)for(;m--;)this.pushFront(g);else if(p===this.i)for(;m--;)this.pushBack(g);else{let b=this.p;for(let C=1;C<p;++C)b=b.B;let w=b.B;for(this.i+=m;m--;)b.B={l:g,L:b},b.B.L=b,b=b.B;b.B=w,w.L=b}return this.i}find(p){let g=this.p;for(;g!==this.h;){if(g.l===p)return new d(g,this.h,this);g=g.B}return this.end()}reverse(){if(this.i<=1)return;let p=this.p,g=this._,m=0;for(;m<<1<this.i;){let b=p.l;p.l=g.l,g.l=b,p=p.B,g=g.L,m+=1}}unique(){if(this.i<=1)return this.i;let p=this.p;for(;p!==this.h;){let g=p;for(;g.B!==this.h&&g.l===g.B.l;)g=g.B,this.i-=1;p.B=g.B,p.B.L=p,p=p.B}return this.i}sort(p){if(this.i<=1)return;let g=[];this.forEach(function(b){g.push(b)}),g.sort(p);let m=this.p;g.forEach(function(b){m.l=b,m=m.B})}merge(p){let g=this;if(this.i===0)p.forEach(function(m){g.pushBack(m)});else{let m=this.p;p.forEach(function(b){for(;m!==g.h&&m.l<=b;)m=m.B;g.G(b,m.L)})}return this.i}forEach(p){let g=this.p,m=0;for(;g!==this.h;)p(g.l,m++,this),g=g.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let p=this.p;for(;p!==this.h;)yield p.l,p=p.B}).bind(this)()}}var f=h;s.default=f},{"../../utils/throwError":44,"../ContainerBase":25,"./Base":33}],36:[function(i,r,s){"use strict";Object.defineProperty(s,"t",{value:!0}),s.default=void 0;var o=l(i("./Base")),a=i("./Base/RandomIterator");function l(f){return f&&f.t?f:{default:f}}class c extends a.RandomIterator{constructor(u,p,g){super(u,g),this.container=p}copy(){return new c(this.o,this.container,this.iteratorType)}}class d extends o.default{constructor(u=[],p=!0){if(super(),Array.isArray(u))this.J=p?[...u]:u,this.i=u.length;else{this.J=[];let g=this;u.forEach(function(m){g.pushBack(m)})}}clear(){this.i=0,this.J.length=0}begin(){return new c(0,this)}end(){return new c(this.i,this)}rBegin(){return new c(this.i-1,this,1)}rEnd(){return new c(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;return this.J[u]}eraseElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;return this.J.splice(u,1),this.i-=1,this.i}eraseElementByValue(u){let p=0;for(let g=0;g<this.i;++g)this.J[g]!==u&&(this.J[p++]=this.J[g]);return this.i=this.J.length=p,this.i}eraseElementByIterator(u){let p=u.o;return u=u.next(),this.eraseElementByPos(p),u}pushBack(u){return this.J.push(u),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(u,p){if(u<0||u>this.i-1)throw new RangeError;this.J[u]=p}insert(u,p,g=1){if(u<0||u>this.i)throw new RangeError;return this.J.splice(u,0,...new Array(g).fill(p)),this.i+=g,this.i}find(u){for(let p=0;p<this.i;++p)if(this.J[p]===u)return new c(p,this);return this.end()}reverse(){this.J.reverse()}unique(){let u=1;for(let p=1;p<this.i;++p)this.J[p]!==this.J[p-1]&&(this.J[u++]=this.J[p]);return this.i=this.J.length=u,this.i}sort(u){this.J.sort(u)}forEach(u){for(let p=0;p<this.i;++p)u(this.J[p],p,this)}[Symbol.iterator](){return(function*(){yield*xs(this.J)}).bind(this)()}}var h=d;s.default=h},{"./Base":33,"./Base/RandomIterator":32}],37:[function(i,r,s){"use strict";Object.defineProperty(s,"t",{value:!0}),s.default=void 0;var o=i("../../ContainerBase"),a=i("../../../utils/throwError");class l extends o.ContainerIterator{constructor(h,f,u){super(u),this.o=h,this.h=f,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,a.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,a.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let h=this.o,f=this.h.tt;if(h===this.h)return f?f.rt-1:0;let u=0;for(h.U&&(u+=h.U.rt);h!==f;){let p=h.tt;h===p.W&&(u+=1,p.U&&(u+=p.U.rt)),h=p}return u}}var c=l;s.default=c},{"../../../utils/throwError":44,"../../ContainerBase":25}],38:[function(i,r,s){"use strict";Object.defineProperty(s,"t",{value:!0}),s.TreeNodeEnableIndex=s.TreeNode=void 0;class o{constructor(c,d){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=c,this.l=d}L(){let c=this;if(c.ee===1&&c.tt.tt===c)c=c.W;else if(c.U)for(c=c.U;c.W;)c=c.W;else{let d=c.tt;for(;d.U===c;)c=d,d=c.tt;c=d}return c}B(){let c=this;if(c.W){for(c=c.W;c.U;)c=c.U;return c}else{let d=c.tt;for(;d.W===c;)c=d,d=c.tt;return c.W!==d?d:c}}te(){let c=this.tt,d=this.W,h=d.U;return c.tt===this?c.tt=d:c.U===this?c.U=d:c.W=d,d.tt=c,d.U=this,this.tt=d,this.W=h,h&&(h.tt=this),d}se(){let c=this.tt,d=this.U,h=d.W;return c.tt===this?c.tt=d:c.U===this?c.U=d:c.W=d,d.tt=c,d.W=this,this.tt=d,this.U=h,h&&(h.tt=this),d}}s.TreeNode=o;class a extends o{constructor(){super(...arguments),this.rt=1}te(){let c=super.te();return this.ie(),c.ie(),c}se(){let c=super.se();return this.ie(),c.ie(),c}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}}s.TreeNodeEnableIndex=a},{}],39:[function(i,r,s){"use strict";Object.defineProperty(s,"t",{value:!0}),s.default=void 0;var o=i("./TreeNode"),a=i("../../ContainerBase"),l=i("../../../utils/throwError");class c extends a.Container{constructor(f=function(p,g){return p<g?-1:p>g?1:0},u=!1){super(),this.Y=void 0,this.v=f,u?(this.re=o.TreeNodeEnableIndex,this.M=function(p,g,m){let b=this.ne(p,g,m);if(b){let w=b.tt;for(;w!==this.h;)w.rt+=1,w=w.tt;let C=this.he(b);if(C){let{parentNode:x,grandParent:T,curNode:A}=C;x.ie(),T.ie(),A.ie()}}return this.i},this.V=function(p){let g=this.fe(p);for(;g!==this.h;)g.rt-=1,g=g.tt}):(this.re=o.TreeNode,this.M=function(p,g,m){let b=this.ne(p,g,m);return b&&this.he(b),this.i},this.V=this.fe),this.h=new this.re}X(f,u){let p=this.h;for(;f;){let g=this.v(f.u,u);if(g<0)f=f.W;else if(g>0)p=f,f=f.U;else return f}return p}Z(f,u){let p=this.h;for(;f;)this.v(f.u,u)<=0?f=f.W:(p=f,f=f.U);return p}$(f,u){let p=this.h;for(;f;){let g=this.v(f.u,u);if(g<0)p=f,f=f.W;else if(g>0)f=f.U;else return f}return p}rr(f,u){let p=this.h;for(;f;)this.v(f.u,u)<0?(p=f,f=f.W):f=f.U;return p}ue(f){for(;;){let u=f.tt;if(u===this.h)return;if(f.ee===1){f.ee=0;return}if(f===u.U){let p=u.W;if(p.ee===1)p.ee=0,u.ee=1,u===this.Y?this.Y=u.te():u.te();else if(p.W&&p.W.ee===1){p.ee=u.ee,u.ee=0,p.W.ee=0,u===this.Y?this.Y=u.te():u.te();return}else p.U&&p.U.ee===1?(p.ee=1,p.U.ee=0,p.se()):(p.ee=1,f=u)}else{let p=u.U;if(p.ee===1)p.ee=0,u.ee=1,u===this.Y?this.Y=u.se():u.se();else if(p.U&&p.U.ee===1){p.ee=u.ee,u.ee=0,p.U.ee=0,u===this.Y?this.Y=u.se():u.se();return}else p.W&&p.W.ee===1?(p.ee=1,p.W.ee=0,p.te()):(p.ee=1,f=u)}}}fe(f){if(this.i===1)return this.clear(),this.h;let u=f;for(;u.U||u.W;){if(u.W)for(u=u.W;u.U;)u=u.U;else u=u.U;[f.u,u.u]=[u.u,f.u],[f.l,u.l]=[u.l,f.l],f=u}this.h.U===u?this.h.U=u.tt:this.h.W===u&&(this.h.W=u.tt),this.ue(u);let p=u.tt;return u===p.U?p.U=void 0:p.W=void 0,this.i-=1,this.Y.ee=0,p}oe(f,u){return f===void 0?!1:this.oe(f.U,u)||u(f)?!0:this.oe(f.W,u)}he(f){for(;;){let u=f.tt;if(u.ee===0)return;let p=u.tt;if(u===p.U){let g=p.W;if(g&&g.ee===1){if(g.ee=u.ee=0,p===this.Y)return;p.ee=1,f=p;continue}else if(f===u.W){if(f.ee=0,f.U&&(f.U.tt=u),f.W&&(f.W.tt=p),u.W=f.U,p.U=f.W,f.U=u,f.W=p,p===this.Y)this.Y=f,this.h.tt=f;else{let m=p.tt;m.U===p?m.U=f:m.W=f}return f.tt=p.tt,u.tt=f,p.tt=f,p.ee=1,{parentNode:u,grandParent:p,curNode:f}}else u.ee=0,p===this.Y?this.Y=p.se():p.se(),p.ee=1}else{let g=p.U;if(g&&g.ee===1){if(g.ee=u.ee=0,p===this.Y)return;p.ee=1,f=p;continue}else if(f===u.U){if(f.ee=0,f.U&&(f.U.tt=p),f.W&&(f.W.tt=u),p.W=f.U,u.U=f.W,f.U=p,f.W=u,p===this.Y)this.Y=f,this.h.tt=f;else{let m=p.tt;m.U===p?m.U=f:m.W=f}return f.tt=p.tt,u.tt=f,p.tt=f,p.ee=1,{parentNode:u,grandParent:p,curNode:f}}else u.ee=0,p===this.Y?this.Y=p.te():p.te(),p.ee=1}return}}ne(f,u,p){if(this.Y===void 0){this.i+=1,this.Y=new this.re(f,u),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let g,m=this.h.U,b=this.v(m.u,f);if(b===0){m.l=u;return}else if(b>0)m.U=new this.re(f,u),m.U.tt=m,g=m.U,this.h.U=g;else{let w=this.h.W,C=this.v(w.u,f);if(C===0){w.l=u;return}else if(C<0)w.W=new this.re(f,u),w.W.tt=w,g=w.W,this.h.W=g;else{if(p!==void 0){let x=p.o;if(x!==this.h){let T=this.v(x.u,f);if(T===0){x.l=u;return}else if(T>0){let A=x.L(),O=this.v(A.u,f);if(O===0){A.l=u;return}else O<0&&(g=new this.re(f,u),A.W===void 0?(A.W=g,g.tt=A):(x.U=g,g.tt=x))}}}if(g===void 0)for(g=this.Y;;){let x=this.v(g.u,f);if(x>0){if(g.U===void 0){g.U=new this.re(f,u),g.U.tt=g,g=g.U;break}g=g.U}else if(x<0){if(g.W===void 0){g.W=new this.re(f,u),g.W.tt=g,g=g.W;break}g=g.W}else{g.l=u;return}}}}return this.i+=1,g}I(f,u){for(;f;){let p=this.v(f.u,u);if(p<0)f=f.W;else if(p>0)f=f.U;else return f}return f||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(f,u){let p=f.o;if(p===this.h&&(0,l.throwIteratorAccessError)(),this.i===1)return p.u=u,!0;if(p===this.h.U)return this.v(p.B().u,u)>0?(p.u=u,!0):!1;if(p===this.h.W)return this.v(p.L().u,u)<0?(p.u=u,!0):!1;let g=p.L().u;if(this.v(g,u)>=0)return!1;let m=p.B().u;return this.v(m,u)<=0?!1:(p.u=u,!0)}eraseElementByPos(f){if(f<0||f>this.i-1)throw new RangeError;let u=0,p=this;return this.oe(this.Y,function(g){return f===u?(p.V(g),!0):(u+=1,!1)}),this.i}eraseElementByKey(f){if(this.i===0)return!1;let u=this.I(this.Y,f);return u===this.h?!1:(this.V(u),!0)}eraseElementByIterator(f){let u=f.o;u===this.h&&(0,l.throwIteratorAccessError)();let p=u.W===void 0;return f.iteratorType===0?p&&f.next():(!p||u.U===void 0)&&f.next(),this.V(u),f}forEach(f){let u=0;for(let p of this)f(p,u++,this)}getElementByPos(f){if(f<0||f>this.i-1)throw new RangeError;let u,p=0;for(let g of this){if(p===f){u=g;break}p+=1}return u}getHeight(){if(this.i===0)return 0;let f=function(u){return u?Math.max(f(u.U),f(u.W))+1:0};return f(this.Y)}}var d=c;s.default=d},{"../../../utils/throwError":44,"../../ContainerBase":25,"./TreeNode":38}],40:[function(i,r,s){"use strict";Object.defineProperty(s,"t",{value:!0}),s.default=void 0;var o=c(i("./Base")),a=c(i("./Base/TreeIterator")),l=i("../../utils/throwError");function c(u){return u&&u.t?u:{default:u}}class d extends a.default{constructor(p,g,m,b){super(p,g,b),this.container=m}get pointer(){this.o===this.h&&(0,l.throwIteratorAccessError)();let p=this;return new Proxy([],{get(g,m){if(m==="0")return p.o.u;if(m==="1")return p.o.l},set(g,m,b){if(m!=="1")throw new TypeError("props must be 1");return p.o.l=b,!0}})}copy(){return new d(this.o,this.h,this.container,this.iteratorType)}}class h extends o.default{constructor(p=[],g,m){super(g,m);let b=this;p.forEach(function(w){b.setElement(w[0],w[1])})}*K(p){p!==void 0&&(yield*xs(this.K(p.U)),yield[p.u,p.l],yield*xs(this.K(p.W)))}begin(){return new d(this.h.U||this.h,this.h,this)}end(){return new d(this.h,this.h,this)}rBegin(){return new d(this.h.W||this.h,this.h,this,1)}rEnd(){return new d(this.h,this.h,this,1)}front(){if(this.i===0)return;let p=this.h.U;return[p.u,p.l]}back(){if(this.i===0)return;let p=this.h.W;return[p.u,p.l]}lowerBound(p){let g=this.X(this.Y,p);return new d(g,this.h,this)}upperBound(p){let g=this.Z(this.Y,p);return new d(g,this.h,this)}reverseLowerBound(p){let g=this.$(this.Y,p);return new d(g,this.h,this)}reverseUpperBound(p){let g=this.rr(this.Y,p);return new d(g,this.h,this)}setElement(p,g,m){return this.M(p,g,m)}find(p){let g=this.I(this.Y,p);return new d(g,this.h,this)}getElementByKey(p){return this.I(this.Y,p).l}union(p){let g=this;return p.forEach(function(m){g.setElement(m[0],m[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}}var f=h;s.default=f},{"../../utils/throwError":44,"./Base":39,"./Base/TreeIterator":37}],41:[function(i,r,s){"use strict";Object.defineProperty(s,"t",{value:!0}),s.default=void 0;var o=c(i("./Base")),a=c(i("./Base/TreeIterator")),l=i("../../utils/throwError");function c(u){return u&&u.t?u:{default:u}}class d extends a.default{constructor(p,g,m,b){super(p,g,b),this.container=m}get pointer(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.u}copy(){return new d(this.o,this.h,this.container,this.iteratorType)}}class h extends o.default{constructor(p=[],g,m){super(g,m);let b=this;p.forEach(function(w){b.insert(w)})}*K(p){p!==void 0&&(yield*xs(this.K(p.U)),yield p.u,yield*xs(this.K(p.W)))}begin(){return new d(this.h.U||this.h,this.h,this)}end(){return new d(this.h,this.h,this)}rBegin(){return new d(this.h.W||this.h,this.h,this,1)}rEnd(){return new d(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(p,g){return this.M(p,void 0,g)}find(p){let g=this.I(this.Y,p);return new d(g,this.h,this)}lowerBound(p){let g=this.X(this.Y,p);return new d(g,this.h,this)}upperBound(p){let g=this.Z(this.Y,p);return new d(g,this.h,this)}reverseLowerBound(p){let g=this.$(this.Y,p);return new d(g,this.h,this)}reverseUpperBound(p){let g=this.rr(this.Y,p);return new d(g,this.h,this)}union(p){let g=this;return p.forEach(function(m){g.insert(m)}),this.i}[Symbol.iterator](){return this.K(this.Y)}}var f=h;s.default=f},{"../../utils/throwError":44,"./Base":39,"./Base/TreeIterator":37}],42:[function(i,r,s){"use strict";Object.defineProperty(s,"t",{value:!0}),Object.defineProperty(s,"Deque",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(s,"HashMap",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(s,"HashSet",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(s,"LinkList",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(s,"OrderedMap",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(s,"OrderedSet",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(s,"PriorityQueue",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(s,"Queue",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(s,"Stack",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(s,"Vector",{enumerable:!0,get:function(){return c.default}});var o=m(i("./container/OtherContainer/Stack")),a=m(i("./container/OtherContainer/Queue")),l=m(i("./container/OtherContainer/PriorityQueue")),c=m(i("./container/SequentialContainer/Vector")),d=m(i("./container/SequentialContainer/LinkList")),h=m(i("./container/SequentialContainer/Deque")),f=m(i("./container/TreeContainer/OrderedSet")),u=m(i("./container/TreeContainer/OrderedMap")),p=m(i("./container/HashContainer/HashSet")),g=m(i("./container/HashContainer/HashMap"));function m(b){return b&&b.t?b:{default:b}}},{"./container/HashContainer/HashMap":27,"./container/HashContainer/HashSet":28,"./container/OtherContainer/PriorityQueue":29,"./container/OtherContainer/Queue":30,"./container/OtherContainer/Stack":31,"./container/SequentialContainer/Deque":34,"./container/SequentialContainer/LinkList":35,"./container/SequentialContainer/Vector":36,"./container/TreeContainer/OrderedMap":40,"./container/TreeContainer/OrderedSet":41}],43:[function(i,r,s){"use strict";Object.defineProperty(s,"t",{value:!0}),s.default=o;function o(a){let l=typeof a;return l==="object"&&a!==null||l==="function"}},{}],44:[function(i,r,s){"use strict";Object.defineProperty(s,"t",{value:!0}),s.throwIteratorAccessError=o;function o(){throw new RangeError("Iterator access denied!")}},{}],45:[function(i,r,s){"use strict";let o=i("yallist"),a=Symbol("max"),l=Symbol("length"),c=Symbol("lengthCalculator"),d=Symbol("allowStale"),h=Symbol("maxAge"),f=Symbol("dispose"),u=Symbol("noDisposeOnSet"),p=Symbol("lruList"),g=Symbol("cache"),m=Symbol("updateAgeOnGet"),b=()=>1;class w{constructor(k){if(typeof k=="number"&&(k={max:k}),k||(k={}),k.max&&(typeof k.max!="number"||k.max<0))throw new TypeError("max must be a non-negative number");let N=this[a]=k.max||1/0,M=k.length||b;if(this[c]=typeof M!="function"?b:M,this[d]=k.stale||!1,k.maxAge&&typeof k.maxAge!="number")throw new TypeError("maxAge must be a number");this[h]=k.maxAge||0,this[f]=k.dispose,this[u]=k.noDisposeOnSet||!1,this[m]=k.updateAgeOnGet||!1,this.reset()}set max(k){if(typeof k!="number"||k<0)throw new TypeError("max must be a non-negative number");this[a]=k||1/0,T(this)}get max(){return this[a]}set allowStale(k){this[d]=!!k}get allowStale(){return this[d]}set maxAge(k){if(typeof k!="number")throw new TypeError("maxAge must be a non-negative number");this[h]=k,T(this)}get maxAge(){return this[h]}set lengthCalculator(k){typeof k!="function"&&(k=b),k!==this[c]&&(this[c]=k,this[l]=0,this[p].forEach(N=>{N.length=this[c](N.value,N.key),this[l]+=N.length})),T(this)}get lengthCalculator(){return this[c]}get length(){return this[l]}get itemCount(){return this[p].length}rforEach(k,N){N=N||this;for(let M=this[p].tail;M!==null;){let G=M.prev;B(this,k,M,N),M=G}}forEach(k,N){N=N||this;for(let M=this[p].head;M!==null;){let G=M.next;B(this,k,M,N),M=G}}keys(){return this[p].toArray().map(k=>k.key)}values(){return this[p].toArray().map(k=>k.value)}reset(){this[f]&&this[p]&&this[p].length&&this[p].forEach(k=>this[f](k.key,k.value)),this[g]=new Map,this[p]=new o,this[l]=0}dump(){return this[p].map(k=>x(this,k)?!1:{k:k.key,v:k.value,e:k.now+(k.maxAge||0)}).toArray().filter(k=>k)}dumpLru(){return this[p]}set(k,N,M){if(M=M||this[h],M&&typeof M!="number")throw new TypeError("maxAge must be a number");let G=M?Date.now():0,P=this[c](N,k);if(this[g].has(k)){if(P>this[a])return A(this,this[g].get(k)),!1;let Q=this[g].get(k).value;return this[f]&&(this[u]||this[f](k,Q.value)),Q.now=G,Q.maxAge=M,Q.value=N,this[l]+=P-Q.length,Q.length=P,this.get(k),T(this),!0}let ue=new O(k,N,P,G,M);return ue.length>this[a]?(this[f]&&this[f](k,N),!1):(this[l]+=ue.length,this[p].unshift(ue),this[g].set(k,this[p].head),T(this),!0)}has(k){if(!this[g].has(k))return!1;let N=this[g].get(k).value;return!x(this,N)}get(k){return C(this,k,!0)}peek(k){return C(this,k,!1)}pop(){let k=this[p].tail;return k?(A(this,k),k.value):null}del(k){A(this,this[g].get(k))}load(k){this.reset();let N=Date.now();for(let M=k.length-1;M>=0;M--){let G=k[M],P=G.e||0;if(P===0)this.set(G.k,G.v);else{let ue=P-N;ue>0&&this.set(G.k,G.v,ue)}}}prune(){this[g].forEach((k,N)=>C(this,N,!1))}}let C=($,k,N)=>{let M=$[g].get(k);if(M){let G=M.value;if(x($,G)){if(A($,M),!$[d])return}else N&&($[m]&&(M.value.now=Date.now()),$[p].unshiftNode(M));return G.value}},x=($,k)=>{if(!k||!k.maxAge&&!$[h])return!1;let N=Date.now()-k.now;return k.maxAge?N>k.maxAge:$[h]&&N>$[h]},T=$=>{if($[l]>$[a])for(let k=$[p].tail;$[l]>$[a]&&k!==null;){let N=k.prev;A($,k),k=N}},A=($,k)=>{if(k){let N=k.value;$[f]&&$[f](N.key,N.value),$[l]-=N.length,$[g].delete(N.key),$[p].removeNode(k)}};class O{constructor(k,N,M,G,P){this.key=k,this.value=N,this.length=M,this.now=G,this.maxAge=P||0}}let B=($,k,N,M)=>{let G=N.value;x($,G)&&(A($,N),$[d]||(G=void 0)),G&&k.call(M,G.value,G.key,$)};r.exports=w},{yallist:84}],46:[function(i,r,s){(function(o){(function(){let a=r.exports;a.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},a.codes={};for(let c in a.types){let d=a.types[c];a.codes[d]=c}a.CMD_SHIFT=4,a.CMD_MASK=240,a.DUP_MASK=8,a.QOS_MASK=3,a.QOS_SHIFT=1,a.RETAIN_MASK=1,a.VARBYTEINT_MASK=127,a.VARBYTEINT_FIN_MASK=128,a.VARBYTEINT_MAX=268435455,a.SESSIONPRESENT_MASK=1,a.SESSIONPRESENT_HEADER=o.from([a.SESSIONPRESENT_MASK]),a.CONNACK_HEADER=o.from([a.codes.connack<<a.CMD_SHIFT]),a.USERNAME_MASK=128,a.PASSWORD_MASK=64,a.WILL_RETAIN_MASK=32,a.WILL_QOS_MASK=24,a.WILL_QOS_SHIFT=3,a.WILL_FLAG_MASK=4,a.CLEAN_SESSION_MASK=2,a.CONNECT_HEADER=o.from([a.codes.connect<<a.CMD_SHIFT]),a.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},a.propertiesCodes={};for(let c in a.properties){let d=a.properties[c];a.propertiesCodes[d]=c}a.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function l(c){return[0,1,2].map(d=>[0,1].map(h=>[0,1].map(f=>{let u=o.alloc(1);return u.writeUInt8(a.codes[c]<<a.CMD_SHIFT|(h?a.DUP_MASK:0)|d<<a.QOS_SHIFT|f,0,!0),u})))}a.PUBLISH_HEADER=l("publish"),a.SUBSCRIBE_HEADER=l("subscribe"),a.SUBSCRIBE_OPTIONS_QOS_MASK=3,a.SUBSCRIBE_OPTIONS_NL_MASK=1,a.SUBSCRIBE_OPTIONS_NL_SHIFT=2,a.SUBSCRIBE_OPTIONS_RAP_MASK=1,a.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,a.SUBSCRIBE_OPTIONS_RH_MASK=3,a.SUBSCRIBE_OPTIONS_RH_SHIFT=4,a.SUBSCRIBE_OPTIONS_RH=[0,16,32],a.SUBSCRIBE_OPTIONS_NL=4,a.SUBSCRIBE_OPTIONS_RAP=8,a.SUBSCRIBE_OPTIONS_QOS=[0,1,2],a.UNSUBSCRIBE_HEADER=l("unsubscribe"),a.ACKS={unsuback:l("unsuback"),puback:l("puback"),pubcomp:l("pubcomp"),pubrel:l("pubrel"),pubrec:l("pubrec")},a.SUBACK_HEADER=o.from([a.codes.suback<<a.CMD_SHIFT]),a.VERSION3=o.from([3]),a.VERSION4=o.from([4]),a.VERSION5=o.from([5]),a.VERSION131=o.from([131]),a.VERSION132=o.from([132]),a.QOS=[0,1,2].map(c=>o.from([c])),a.EMPTY={pingreq:o.from([a.codes.pingreq<<4,0]),pingresp:o.from([a.codes.pingresp<<4,0]),disconnect:o.from([a.codes.disconnect<<4,0])}}).call(this)}).call(this,i("buffer").Buffer)},{buffer:3}],47:[function(i,r,s){(function(o){(function(){let a=i("./writeToStream"),l=i("events");function c(h,f){let u=new d;return a(h,u,f),u.concat()}class d extends l{constructor(){super(),this._array=new Array(20),this._i=0}write(f){return this._array[this._i++]=f,!0}concat(){let f=0,u=new Array(this._array.length),p=this._array,g=0,m;for(m=0;m<p.length&&p[m]!==void 0;m++)typeof p[m]!="string"?u[m]=p[m].length:u[m]=o.byteLength(p[m]),f+=u[m];let b=o.allocUnsafe(f);for(m=0;m<p.length&&p[m]!==void 0;m++)typeof p[m]!="string"?(p[m].copy(b,g),g+=u[m]):(b.write(p[m],g),g+=u[m]);return b}}r.exports=c}).call(this)}).call(this,i("buffer").Buffer)},{"./writeToStream":52,buffer:3,events:4}],48:[function(i,r,s){s.parser=i("./parser").parser,s.generate=i("./generate"),s.writeToStream=i("./writeToStream")},{"./generate":47,"./parser":51,"./writeToStream":52}],49:[function(i,r,s){(function(o){(function(){let l={},c=o.isBuffer(o.from([1,2]).subarray(0,1));function d(p){let g=o.allocUnsafe(2);return g.writeUInt8(p>>8,0),g.writeUInt8(p&255,1),g}function h(){for(let p=0;p<65536;p++)l[p]=d(p)}function f(p){let m=0,b=0,w=o.allocUnsafe(4);do m=p%128|0,p=p/128|0,p>0&&(m=m|128),w.writeUInt8(m,b++);while(p>0&&b<4);return p>0&&(b=0),c?w.subarray(0,b):w.slice(0,b)}function u(p){let g=o.allocUnsafe(4);return g.writeUInt32BE(p,0),g}r.exports={cache:l,generateCache:h,generateNumber:d,genBufVariableByteInt:f,generate4ByteBuffer:u}}).call(this)}).call(this,i("buffer").Buffer)},{buffer:3}],50:[function(i,r,s){class o{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}r.exports=o},{}],51:[function(i,r,s){let o=i("bl"),a=i("events"),l=i("./packet"),c=i("./constants"),d=i("debug")("mqtt-packet:parser");class h extends a{constructor(){super(),this.parser=this.constructor.parser}static parser(u){return this instanceof h?(this.settings=u||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new h().parser(u)}_resetState(){d("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new l,this.error=null,this._list=o(),this._stateCounter=0}parse(u){for(this.error&&this._resetState(),this._list.append(u),d("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,d("parse: state complete. _stateCounter is now: %d",this._stateCounter),d("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return d("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let u=this._list.readUInt8(0);return this.packet.cmd=c.types[u>>c.CMD_SHIFT],this.packet.retain=(u&c.RETAIN_MASK)!==0,this.packet.qos=u>>c.QOS_SHIFT&c.QOS_MASK,this.packet.dup=(u&c.DUP_MASK)!==0,d("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0}_parseLength(){let u=this._parseVarByteNum(!0);return u&&(this.packet.length=u.value,this._list.consume(u.bytes)),d("_parseLength %d",u.value),!!u}_parsePayload(){d("_parsePayload: payload %O",this._list);let u=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}u=!0}return d("_parsePayload complete result: %s",u),u}_parseConnect(){d("_parseConnect");let u,p,g,m,b={},w=this.packet,C=this._parseString();if(C===null)return this._emitError(new Error("Cannot parse protocolId"));if(C!=="MQTT"&&C!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(w.protocolId=C,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(w.protocolVersion=this._list.readUInt8(this._pos),w.protocolVersion>=128&&(w.bridgeMode=!0,w.protocolVersion=w.protocolVersion-128),w.protocolVersion!==3&&w.protocolVersion!==4&&w.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(b.username=this._list.readUInt8(this._pos)&c.USERNAME_MASK,b.password=this._list.readUInt8(this._pos)&c.PASSWORD_MASK,b.will=this._list.readUInt8(this._pos)&c.WILL_FLAG_MASK,b.will&&(w.will={},w.will.retain=(this._list.readUInt8(this._pos)&c.WILL_RETAIN_MASK)!==0,w.will.qos=(this._list.readUInt8(this._pos)&c.WILL_QOS_MASK)>>c.WILL_QOS_SHIFT),w.clean=(this._list.readUInt8(this._pos)&c.CLEAN_SESSION_MASK)!==0,this._pos++,w.keepalive=this._parseNum(),w.keepalive===-1)return this._emitError(new Error("Packet too short"));if(w.protocolVersion===5){let T=this._parseProperties();Object.getOwnPropertyNames(T).length&&(w.properties=T)}let x=this._parseString();if(x===null)return this._emitError(new Error("Packet too short"));if(w.clientId=x,d("_parseConnect: packet.clientId: %s",w.clientId),b.will){if(w.protocolVersion===5){let T=this._parseProperties();Object.getOwnPropertyNames(T).length&&(w.will.properties=T)}if(u=this._parseString(),u===null)return this._emitError(new Error("Cannot parse will topic"));if(w.will.topic=u,d("_parseConnect: packet.will.topic: %s",w.will.topic),p=this._parseBuffer(),p===null)return this._emitError(new Error("Cannot parse will payload"));w.will.payload=p,d("_parseConnect: packet.will.paylaod: %s",w.will.payload)}if(b.username){if(m=this._parseString(),m===null)return this._emitError(new Error("Cannot parse username"));w.username=m,d("_parseConnect: packet.username: %s",w.username)}if(b.password){if(g=this._parseBuffer(),g===null)return this._emitError(new Error("Cannot parse password"));w.password=g}return this.settings=w,d("_parseConnect: complete"),w}_parseConnack(){d("_parseConnack");let u=this.packet;if(this._list.length<1)return null;if(u.sessionPresent=!!(this._list.readUInt8(this._pos++)&c.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?u.reasonCode=this._list.readUInt8(this._pos++):u.reasonCode=0;else{if(this._list.length<2)return null;u.returnCode=this._list.readUInt8(this._pos++)}if(u.returnCode===-1||u.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let p=this._parseProperties();Object.getOwnPropertyNames(p).length&&(u.properties=p)}d("_parseConnack: complete")}_parsePublish(){d("_parsePublish");let u=this.packet;if(u.topic=this._parseString(),u.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(u.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let p=this._parseProperties();Object.getOwnPropertyNames(p).length&&(u.properties=p)}u.payload=this._list.slice(this._pos,u.length),d("_parsePublish: payload from buffer list: %o",u.payload)}}_parseSubscribe(){d("_parseSubscribe");let u=this.packet,p,g,m,b,w,C,x;if(u.qos!==1)return this._emitError(new Error("Wrong subscribe header"));if(u.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let T=this._parseProperties();Object.getOwnPropertyNames(T).length&&(u.properties=T)}for(;this._pos<u.length;){if(p=this._parseString(),p===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=u.length)return this._emitError(new Error("Malformed Subscribe Payload"));g=this._parseByte(),m=g&c.SUBSCRIBE_OPTIONS_QOS_MASK,C=(g>>c.SUBSCRIBE_OPTIONS_NL_SHIFT&c.SUBSCRIBE_OPTIONS_NL_MASK)!==0,w=(g>>c.SUBSCRIBE_OPTIONS_RAP_SHIFT&c.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,b=g>>c.SUBSCRIBE_OPTIONS_RH_SHIFT&c.SUBSCRIBE_OPTIONS_RH_MASK,x={topic:p,qos:m},this.settings.protocolVersion===5?(x.nl=C,x.rap=w,x.rh=b):this.settings.bridgeMode&&(x.rh=0,x.rap=!0,x.nl=!0),d("_parseSubscribe: push subscription `%s` to subscription",x),u.subscriptions.push(x)}}}_parseSuback(){d("_parseSuback");let u=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let p=this._parseProperties();Object.getOwnPropertyNames(p).length&&(u.properties=p)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseUnsubscribe(){d("_parseUnsubscribe");let u=this.packet;if(u.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let p=this._parseProperties();Object.getOwnPropertyNames(p).length&&(u.properties=p)}for(;this._pos<u.length;){let p=this._parseString();if(p===null)return this._emitError(new Error("Cannot parse topic"));d("_parseUnsubscribe: push topic `%s` to unsubscriptions",p),u.unsubscriptions.push(p)}}}_parseUnsuback(){d("_parseUnsuback");let u=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(this.settings.protocolVersion===5){let p=this._parseProperties();for(Object.getOwnPropertyNames(p).length&&(u.properties=p),u.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseConfirmation(){d("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let u=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5&&(u.length>2?(u.reasonCode=this._parseByte(),d("_parseConfirmation: packet.reasonCode `%d`",u.reasonCode)):u.reasonCode=0,u.length>3)){let p=this._parseProperties();Object.getOwnPropertyNames(p).length&&(u.properties=p)}return!0}_parseDisconnect(){let u=this.packet;if(d("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?u.reasonCode=this._parseByte():u.reasonCode=0;let p=this._parseProperties();Object.getOwnPropertyNames(p).length&&(u.properties=p)}return d("_parseDisconnect result: true"),!0}_parseAuth(){d("_parseAuth");let u=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));u.reasonCode=this._parseByte();let p=this._parseProperties();return Object.getOwnPropertyNames(p).length&&(u.properties=p),d("_parseAuth: result: true"),!0}_parseMessageId(){let u=this.packet;return u.messageId=this._parseNum(),u.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(d("_parseMessageId: packet.messageId %d",u.messageId),!0)}_parseString(u){let p=this._parseNum(),g=p+this._pos;if(p===-1||g>this._list.length||g>this.packet.length)return null;let m=this._list.toString("utf8",this._pos,g);return this._pos+=p,d("_parseString: result: %s",m),m}_parseStringPair(){return d("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let u=this._parseNum(),p=u+this._pos;if(u===-1||p>this._list.length||p>this.packet.length)return null;let g=this._list.slice(this._pos,p);return this._pos+=u,d("_parseBuffer: result: %o",g),g}_parseNum(){if(this._list.length-this._pos<2)return-1;let u=this._list.readUInt16BE(this._pos);return this._pos+=2,d("_parseNum: result: %s",u),u}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let u=this._list.readUInt32BE(this._pos);return this._pos+=4,d("_parse4ByteNum: result: %s",u),u}_parseVarByteNum(u){d("_parseVarByteNum");let p=4,g=0,m=1,b=0,w=!1,C,x=this._pos?this._pos:0;for(;g<p&&x+g<this._list.length;){if(C=this._list.readUInt8(x+g++),b+=m*(C&c.VARBYTEINT_MASK),m*=128,!(C&c.VARBYTEINT_FIN_MASK)){w=!0;break}if(this._list.length<=g)break}return!w&&g===p&&this._list.length>=g&&this._emitError(new Error("Invalid variable byte integer")),x&&(this._pos+=g),w=w?u?{bytes:g,value:b}:b:!1,d("_parseVarByteNum: result: %o",w),w}_parseByte(){let u;return this._pos<this._list.length&&(u=this._list.readUInt8(this._pos),this._pos++),d("_parseByte: result: %o",u),u}_parseByType(u){switch(d("_parseByType: type: %s",u),u){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){d("_parseProperties");let u=this._parseVarByteNum(),g=this._pos+u,m={};for(;this._pos<g;){let b=this._parseByte();if(!b)return this._emitError(new Error("Cannot parse property code type")),!1;let w=c.propertiesCodes[b];if(!w)return this._emitError(new Error("Unknown property")),!1;if(w==="userProperties"){m[w]||(m[w]=Object.create(null));let C=this._parseByType(c.propertiesTypes[w]);if(m[w][C.name])if(Array.isArray(m[w][C.name]))m[w][C.name].push(C.value);else{let x=m[w][C.name];m[w][C.name]=[x],m[w][C.name].push(C.value)}else m[w][C.name]=C.value;continue}m[w]?Array.isArray(m[w])?m[w].push(this._parseByType(c.propertiesTypes[w])):(m[w]=[m[w]],m[w].push(this._parseByType(c.propertiesTypes[w]))):m[w]=this._parseByType(c.propertiesTypes[w])}return m}_newPacket(){return d("_newPacket"),this.packet&&(this._list.consume(this.packet.length),d("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),d("_newPacket: new packet"),this.packet=new l,this._pos=0,!0}_emitError(u){d("_emitError"),this.error=u,this.emit("error",u)}}r.exports=h},{"./constants":46,"./packet":50,bl:19,debug:20,events:4}],52:[function(i,r,s){(function(o){(function(){let a=i("./constants"),l=o.allocUnsafe(0),c=o.from([0]),d=i("./numbers"),h=i("process-nextick-args").nextTick,f=i("debug")("mqtt-packet:writeToStream"),u=d.cache,p=d.generateNumber,g=d.generateCache,m=d.genBufVariableByteInt,b=d.generate4ByteBuffer,w=U,C=!0;function x(H,E,K){switch(f("generate called"),E.cork&&(E.cork(),h(T,E)),C&&(C=!1,g()),f("generate: packet.cmd: %s",H.cmd),H.cmd){case"connect":return A(H,E,K);case"connack":return O(H,E,K);case"publish":return B(H,E,K);case"puback":case"pubrec":case"pubrel":case"pubcomp":return $(H,E,K);case"subscribe":return k(H,E,K);case"suback":return N(H,E,K);case"unsubscribe":return M(H,E,K);case"unsuback":return G(H,E,K);case"pingreq":case"pingresp":return P(H,E,K);case"disconnect":return ue(H,E,K);case"auth":return X(H,E,K);default:return E.emit("error",new Error("Unknown command")),!1}}Object.defineProperty(x,"cacheNumbers",{get(){return w===U},set(H){H?((!u||Object.keys(u).length===0)&&(C=!0),w=U):(C=!1,w=z)}});function T(H){H.uncork()}function A(H,E,K){let oe=H||{},V=oe.protocolId||"MQTT",F=oe.protocolVersion||4,L=oe.will,Z=oe.clean,se=oe.keepalive||0,D=oe.clientId||"",y=oe.username,_=oe.password,v=oe.properties;Z===void 0&&(Z=!0);let I=0;if(!V||typeof V!="string"&&!o.isBuffer(V))return E.emit("error",new Error("Invalid protocolId")),!1;if(I+=V.length+2,F!==3&&F!==4&&F!==5)return E.emit("error",new Error("Invalid protocol version")),!1;if(I+=1,(typeof D=="string"||o.isBuffer(D))&&(D||F>=4)&&(D||Z))I+=o.byteLength(D)+2;else{if(F<4)return E.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(Z*1===0)return E.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof se!="number"||se<0||se>65535||se%1!==0)return E.emit("error",new Error("Invalid keepalive")),!1;if(I+=2,I+=1,F===5){var j=q(E,v);if(!j)return!1;I+=j.length}if(L){if(typeof L!="object")return E.emit("error",new Error("Invalid will")),!1;if(!L.topic||typeof L.topic!="string")return E.emit("error",new Error("Invalid will topic")),!1;if(I+=o.byteLength(L.topic)+2,I+=2,L.payload)if(L.payload.length>=0)typeof L.payload=="string"?I+=o.byteLength(L.payload):I+=L.payload.length;else return E.emit("error",new Error("Invalid will payload")),!1;var ne={};if(F===5){if(ne=q(E,L.properties),!ne)return!1;I+=ne.length}}let le=!1;if(y!=null)if(J(y))le=!0,I+=o.byteLength(y)+2;else return E.emit("error",new Error("Invalid username")),!1;if(_!=null){if(!le)return E.emit("error",new Error("Username is required to use password")),!1;if(J(_))I+=ee(_)+2;else return E.emit("error",new Error("Invalid password")),!1}E.write(a.CONNECT_HEADER),W(E,I),re(E,V),oe.bridgeMode&&(F+=128),E.write(F===131?a.VERSION131:F===132?a.VERSION132:F===4?a.VERSION4:F===5?a.VERSION5:a.VERSION3);let Ee=0;return Ee|=y!=null?a.USERNAME_MASK:0,Ee|=_!=null?a.PASSWORD_MASK:0,Ee|=L&&L.retain?a.WILL_RETAIN_MASK:0,Ee|=L&&L.qos?L.qos<<a.WILL_QOS_SHIFT:0,Ee|=L?a.WILL_FLAG_MASK:0,Ee|=Z?a.CLEAN_SESSION_MASK:0,E.write(o.from([Ee])),w(E,se),F===5&&j.write(),re(E,D),L&&(F===5&&ne.write(),S(E,L.topic),re(E,L.payload)),y!=null&&re(E,y),_!=null&&re(E,_),!0}function O(H,E,K){let oe=K?K.protocolVersion:4,V=H||{},F=oe===5?V.reasonCode:V.returnCode,L=V.properties,Z=2;if(typeof F!="number")return E.emit("error",new Error("Invalid return code")),!1;let se=null;if(oe===5){if(se=q(E,L),!se)return!1;Z+=se.length}return E.write(a.CONNACK_HEADER),W(E,Z),E.write(V.sessionPresent?a.SESSIONPRESENT_HEADER:c),E.write(o.from([F])),se?.write(),!0}function B(H,E,K){f("publish: packet: %o",H);let oe=K?K.protocolVersion:4,V=H||{},F=V.qos||0,L=V.retain?a.RETAIN_MASK:0,Z=V.topic,se=V.payload||l,D=V.messageId,y=V.properties,_=0;if(typeof Z=="string")_+=o.byteLength(Z)+2;else if(o.isBuffer(Z))_+=Z.length+2;else return E.emit("error",new Error("Invalid topic")),!1;if(o.isBuffer(se)?_+=se.length:_+=o.byteLength(se),F&&typeof D!="number")return E.emit("error",new Error("Invalid messageId")),!1;F&&(_+=2);let v=null;if(oe===5){if(v=q(E,y),!v)return!1;_+=v.length}return E.write(a.PUBLISH_HEADER[F][V.dup?1:0][L?1:0]),W(E,_),w(E,ee(Z)),E.write(Z),F>0&&w(E,D),v?.write(),f("publish: payload: %o",se),E.write(se)}function $(H,E,K){let oe=K?K.protocolVersion:4,V=H||{},F=V.cmd||"puback",L=V.messageId,Z=V.dup&&F==="pubrel"?a.DUP_MASK:0,se=0,D=V.reasonCode,y=V.properties,_=oe===5?3:2;if(F==="pubrel"&&(se=1),typeof L!="number")return E.emit("error",new Error("Invalid messageId")),!1;let v=null;if(oe===5&&typeof y=="object"){if(v=Y(E,y,K,_),!v)return!1;_+=v.length}return E.write(a.ACKS[F][se][Z][0]),W(E,_),w(E,L),oe===5&&E.write(o.from([D])),v!==null&&v.write(),!0}function k(H,E,K){f("subscribe: packet: ");let oe=K?K.protocolVersion:4,V=H||{},F=V.dup?a.DUP_MASK:0,L=V.messageId,Z=V.subscriptions,se=V.properties,D=0;if(typeof L!="number")return E.emit("error",new Error("Invalid messageId")),!1;D+=2;let y=null;if(oe===5){if(y=q(E,se),!y)return!1;D+=y.length}if(typeof Z=="object"&&Z.length)for(let v=0;v<Z.length;v+=1){let I=Z[v].topic,j=Z[v].qos;if(typeof I!="string")return E.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if(typeof j!="number")return E.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(oe===5){if(typeof(Z[v].nl||!1)!="boolean")return E.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(Z[v].rap||!1)!="boolean")return E.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;let Ee=Z[v].rh||0;if(typeof Ee!="number"||Ee>2)return E.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}D+=o.byteLength(I)+2+1}else return E.emit("error",new Error("Invalid subscriptions")),!1;f("subscribe: writing to stream: %o",a.SUBSCRIBE_HEADER),E.write(a.SUBSCRIBE_HEADER[1][F?1:0][0]),W(E,D),w(E,L),y!==null&&y.write();let _=!0;for(let v of Z){let I=v.topic,j=v.qos,ne=+v.nl,le=+v.rap,Ee=v.rh,ze;S(E,I),ze=a.SUBSCRIBE_OPTIONS_QOS[j],oe===5&&(ze|=ne?a.SUBSCRIBE_OPTIONS_NL:0,ze|=le?a.SUBSCRIBE_OPTIONS_RAP:0,ze|=Ee?a.SUBSCRIBE_OPTIONS_RH[Ee]:0),_=E.write(o.from([ze]))}return _}function N(H,E,K){let oe=K?K.protocolVersion:4,V=H||{},F=V.messageId,L=V.granted,Z=V.properties,se=0;if(typeof F!="number")return E.emit("error",new Error("Invalid messageId")),!1;if(se+=2,typeof L=="object"&&L.length)for(let y=0;y<L.length;y+=1){if(typeof L[y]!="number")return E.emit("error",new Error("Invalid qos vector")),!1;se+=1}else return E.emit("error",new Error("Invalid qos vector")),!1;let D=null;if(oe===5){if(D=Y(E,Z,K,se),!D)return!1;se+=D.length}return E.write(a.SUBACK_HEADER),W(E,se),w(E,F),D!==null&&D.write(),E.write(o.from(L))}function M(H,E,K){let oe=K?K.protocolVersion:4,V=H||{},F=V.messageId,L=V.dup?a.DUP_MASK:0,Z=V.unsubscriptions,se=V.properties,D=0;if(typeof F!="number")return E.emit("error",new Error("Invalid messageId")),!1;if(D+=2,typeof Z=="object"&&Z.length)for(let v=0;v<Z.length;v+=1){if(typeof Z[v]!="string")return E.emit("error",new Error("Invalid unsubscriptions")),!1;D+=o.byteLength(Z[v])+2}else return E.emit("error",new Error("Invalid unsubscriptions")),!1;let y=null;if(oe===5){if(y=q(E,se),!y)return!1;D+=y.length}E.write(a.UNSUBSCRIBE_HEADER[1][L?1:0][0]),W(E,D),w(E,F),y!==null&&y.write();let _=!0;for(let v=0;v<Z.length;v++)_=S(E,Z[v]);return _}function G(H,E,K){let oe=K?K.protocolVersion:4,V=H||{},F=V.messageId,L=V.dup?a.DUP_MASK:0,Z=V.granted,se=V.properties,D=V.cmd,y=0,_=2;if(typeof F!="number")return E.emit("error",new Error("Invalid messageId")),!1;if(oe===5)if(typeof Z=="object"&&Z.length)for(let I=0;I<Z.length;I+=1){if(typeof Z[I]!="number")return E.emit("error",new Error("Invalid qos vector")),!1;_+=1}else return E.emit("error",new Error("Invalid qos vector")),!1;let v=null;if(oe===5){if(v=Y(E,se,K,_),!v)return!1;_+=v.length}return E.write(a.ACKS[D][y][L][0]),W(E,_),w(E,F),v!==null&&v.write(),oe===5&&E.write(o.from(Z)),!0}function P(H,E,K){return E.write(a.EMPTY[H.cmd])}function ue(H,E,K){let oe=K?K.protocolVersion:4,V=H||{},F=V.reasonCode,L=V.properties,Z=oe===5?1:0,se=null;if(oe===5){if(se=Y(E,L,K,Z),!se)return!1;Z+=se.length}return E.write(o.from([a.codes.disconnect<<4])),W(E,Z),oe===5&&E.write(o.from([F])),se!==null&&se.write(),!0}function X(H,E,K){let oe=K?K.protocolVersion:4,V=H||{},F=V.reasonCode,L=V.properties,Z=oe===5?1:0;oe!==5&&E.emit("error",new Error("Invalid mqtt version for auth packet"));let se=Y(E,L,K,Z);return se?(Z+=se.length,E.write(o.from([a.codes.auth<<4])),W(E,Z),E.write(o.from([F])),se!==null&&se.write(),!0):!1}let Q={};function W(H,E){if(E>a.VARBYTEINT_MAX)return H.emit("error",new Error(`Invalid variable byte integer: ${E}`)),!1;let K=Q[E];return K||(K=m(E),E<16384&&(Q[E]=K)),f("writeVarByteInt: writing to stream: %o",K),H.write(K)}function S(H,E){let K=o.byteLength(E);return w(H,K),f("writeString: %s",E),H.write(E,"utf8")}function R(H,E,K){S(H,E),S(H,K)}function U(H,E){return f("writeNumberCached: number: %d",E),f("writeNumberCached: %o",u[E]),H.write(u[E])}function z(H,E){let K=p(E);return f("writeNumberGenerated: %o",K),H.write(K)}function ce(H,E){let K=b(E);return f("write4ByteNumber: %o",K),H.write(K)}function re(H,E){typeof E=="string"?S(H,E):E?(w(H,E.length),H.write(E)):w(H,0)}function q(H,E){if(typeof E!="object"||E.length!=null)return{length:1,write(){ie(H,{},0)}};let K=0;function oe(F,L){let Z=a.propertiesTypes[F],se=0;switch(Z){case"byte":{if(typeof L!="boolean")return H.emit("error",new Error(`Invalid ${F}: ${L}`)),!1;se+=2;break}case"int8":{if(typeof L!="number"||L<0||L>255)return H.emit("error",new Error(`Invalid ${F}: ${L}`)),!1;se+=2;break}case"binary":{if(L&&L===null)return H.emit("error",new Error(`Invalid ${F}: ${L}`)),!1;se+=1+o.byteLength(L)+2;break}case"int16":{if(typeof L!="number"||L<0||L>65535)return H.emit("error",new Error(`Invalid ${F}: ${L}`)),!1;se+=3;break}case"int32":{if(typeof L!="number"||L<0||L>4294967295)return H.emit("error",new Error(`Invalid ${F}: ${L}`)),!1;se+=5;break}case"var":{if(typeof L!="number"||L<0||L>268435455)return H.emit("error",new Error(`Invalid ${F}: ${L}`)),!1;se+=1+o.byteLength(m(L));break}case"string":{if(typeof L!="string")return H.emit("error",new Error(`Invalid ${F}: ${L}`)),!1;se+=3+o.byteLength(L.toString());break}case"pair":{if(typeof L!="object")return H.emit("error",new Error(`Invalid ${F}: ${L}`)),!1;se+=Object.getOwnPropertyNames(L).reduce((D,y)=>{let _=L[y];return Array.isArray(_)?D+=_.reduce((v,I)=>(v+=3+o.byteLength(y.toString())+2+o.byteLength(I.toString()),v),0):D+=3+o.byteLength(y.toString())+2+o.byteLength(L[y].toString()),D},0);break}default:return H.emit("error",new Error(`Invalid property ${F}: ${L}`)),!1}return se}if(E)for(let F in E){let L=0,Z=0,se=E[F];if(Array.isArray(se))for(let D=0;D<se.length;D++){if(Z=oe(F,se[D]),!Z)return!1;L+=Z}else{if(Z=oe(F,se),!Z)return!1;L=Z}if(!L)return!1;K+=L}return{length:o.byteLength(m(K))+K,write(){ie(H,E,K)}}}function Y(H,E,K,oe){let V=["reasonString","userProperties"],F=K&&K.properties&&K.properties.maximumPacketSize?K.properties.maximumPacketSize:0,L=q(H,E);if(F)for(;oe+L.length>F;){let Z=V.shift();if(Z&&E[Z])delete E[Z],L=q(H,E);else return!1}return L}function te(H,E,K){switch(a.propertiesTypes[E]){case"byte":{H.write(o.from([a.properties[E]])),H.write(o.from([+K]));break}case"int8":{H.write(o.from([a.properties[E]])),H.write(o.from([K]));break}case"binary":{H.write(o.from([a.properties[E]])),re(H,K);break}case"int16":{H.write(o.from([a.properties[E]])),w(H,K);break}case"int32":{H.write(o.from([a.properties[E]])),ce(H,K);break}case"var":{H.write(o.from([a.properties[E]])),W(H,K);break}case"string":{H.write(o.from([a.properties[E]])),S(H,K);break}case"pair":{Object.getOwnPropertyNames(K).forEach(V=>{let F=K[V];Array.isArray(F)?F.forEach(L=>{H.write(o.from([a.properties[E]])),R(H,V.toString(),L.toString())}):(H.write(o.from([a.properties[E]])),R(H,V.toString(),F.toString()))});break}default:return H.emit("error",new Error(`Invalid property ${E} value: ${K}`)),!1}}function ie(H,E,K){W(H,K);for(let oe in E)if(Object.prototype.hasOwnProperty.call(E,oe)&&E[oe]!==null){let V=E[oe];if(Array.isArray(V))for(let F=0;F<V.length;F++)te(H,oe,V[F]);else te(H,oe,V)}}function ee(H){return H?H instanceof o?H.length:o.byteLength(H):0}function J(H){return typeof H=="string"||H instanceof o}r.exports=x}).call(this)}).call(this,i("buffer").Buffer)},{"./constants":46,"./numbers":49,buffer:3,debug:20,"process-nextick-args":57}],53:[function(i,r,s){var o=1e3,a=o*60,l=a*60,c=l*24,d=c*7,h=c*365.25;r.exports=function(m,b){b=b||{};var w=typeof m;if(w==="string"&&m.length>0)return f(m);if(w==="number"&&isFinite(m))return b.long?p(m):u(m);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(m))};function f(m){if(m=String(m),!(m.length>100)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(m);if(b){var w=parseFloat(b[1]),C=(b[2]||"ms").toLowerCase();switch(C){case"years":case"year":case"yrs":case"yr":case"y":return w*h;case"weeks":case"week":case"w":return w*d;case"days":case"day":case"d":return w*c;case"hours":case"hour":case"hrs":case"hr":case"h":return w*l;case"minutes":case"minute":case"mins":case"min":case"m":return w*a;case"seconds":case"second":case"secs":case"sec":case"s":return w*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}}function u(m){var b=Math.abs(m);return b>=c?Math.round(m/c)+"d":b>=l?Math.round(m/l)+"h":b>=a?Math.round(m/a)+"m":b>=o?Math.round(m/o)+"s":m+"ms"}function p(m){var b=Math.abs(m);return b>=c?g(m,b,c,"day"):b>=l?g(m,b,l,"hour"):b>=a?g(m,b,a,"minute"):b>=o?g(m,b,o,"second"):m+" ms"}function g(m,b,w,C){var x=b>=w*1.5;return Math.round(m/w)+" "+C+(x?"s":"")}},{}],54:[function(i,r,s){let o=i("./lib/number-allocator.js");r.exports.NumberAllocator=o},{"./lib/number-allocator.js":55}],55:[function(i,r,s){"use strict";let o=i("js-sdsl").OrderedSet,a=i("debug")("number-allocator:trace"),l=i("debug")("number-allocator:error");function c(h,f){this.low=h,this.high=f}c.prototype.equals=function(h){return this.low===h.low&&this.high===h.high},c.prototype.compare=function(h){return this.low<h.low&&this.high<h.low?-1:h.low<this.low&&h.high<this.low?1:0};function d(h,f){if(!(this instanceof d))return new d(h,f);this.min=h,this.max=f,this.ss=new o([],(u,p)=>u.compare(p)),a("Create"),this.clear()}d.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},d.prototype.alloc=function(){if(this.ss.size()===0)return a("alloc():empty"),null;let h=this.ss.begin(),f=h.pointer.low,u=h.pointer.high,p=f;return p+1<=u?this.ss.updateKeyByIterator(h,new c(f+1,u)):this.ss.eraseElementByPos(0),a("alloc():"+p),p},d.prototype.use=function(h){let f=new c(h,h),u=this.ss.lowerBound(f);if(!u.equals(this.ss.end())){let p=u.pointer.low,g=u.pointer.high;return u.pointer.equals(f)?(this.ss.eraseElementByIterator(u),a("use():"+h),!0):p>h?!1:p===h?(this.ss.updateKeyByIterator(u,new c(p+1,g)),a("use():"+h),!0):g===h?(this.ss.updateKeyByIterator(u,new c(p,g-1)),a("use():"+h),!0):(this.ss.updateKeyByIterator(u,new c(h+1,g)),this.ss.insert(new c(p,h-1)),a("use():"+h),!0)}return a("use():failed"),!1},d.prototype.free=function(h){if(h<this.min||h>this.max){l("free():"+h+" is out of range");return}let f=new c(h,h),u=this.ss.upperBound(f);if(u.equals(this.ss.end())){if(u.equals(this.ss.begin())){this.ss.insert(f);return}u.pre();let p=u.pointer.high;u.pointer.high+1===h?this.ss.updateKeyByIterator(u,new c(p,h)):this.ss.insert(f)}else if(u.equals(this.ss.begin()))if(h+1===u.pointer.low){let p=u.pointer.high;this.ss.updateKeyByIterator(u,new c(h,p))}else this.ss.insert(f);else{let p=u.pointer.low,g=u.pointer.high;u.pre();let m=u.pointer.low;u.pointer.high+1===h?h+1===p?(this.ss.eraseElementByIterator(u),this.ss.updateKeyByIterator(u,new c(m,g))):this.ss.updateKeyByIterator(u,new c(m,h)):h+1===p?(this.ss.eraseElementByIterator(u.next()),this.ss.insert(new c(h,g))):this.ss.insert(f)}a("free():"+h)},d.prototype.clear=function(){a("clear()"),this.ss.clear(),this.ss.insert(new c(this.min,this.max))},d.prototype.intervalCount=function(){return this.ss.size()},d.prototype.dump=function(){console.log("length:"+this.ss.size());for(let h of this.ss)console.log(h)},r.exports=d},{debug:20,"js-sdsl":42}],56:[function(i,r,s){var o=i("wrappy");r.exports=o(a),r.exports.strict=o(l),a.proto=a(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return a(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return l(this)},configurable:!0})});function a(c){var d=function(){return d.called?d.value:(d.called=!0,d.value=c.apply(this,arguments))};return d.called=!1,d}function l(c){var d=function(){if(d.called)throw new Error(d.onceError);return d.called=!0,d.value=c.apply(this,arguments)},h=c.name||"Function wrapped with `once`";return d.onceError=h+" shouldn't be called more than once",d.called=!1,d}},{wrappy:80}],57:[function(i,r,s){(function(o){(function(){"use strict";typeof o>"u"||!o.version||o.version.indexOf("v0.")===0||o.version.indexOf("v1.")===0&&o.version.indexOf("v1.8.")!==0?r.exports={nextTick:a}:r.exports=o;function a(l,c,d,h){if(typeof l!="function")throw new TypeError('"callback" argument must be a function');var f=arguments.length,u,p;switch(f){case 0:case 1:return o.nextTick(l);case 2:return o.nextTick(function(){l.call(null,c)});case 3:return o.nextTick(function(){l.call(null,c,d)});case 4:return o.nextTick(function(){l.call(null,c,d,h)});default:for(u=new Array(f-1),p=0;p<u.length;)u[p++]=arguments[p];return o.nextTick(function(){l.apply(null,u)})}}}).call(this)}).call(this,i("_process"))},{_process:85}],58:[function(i,r,s){"use strict";function o(u,p){u.prototype=Object.create(p.prototype),u.prototype.constructor=u,u.__proto__=p}var a={};function l(u,p,g){g||(g=Error);function m(w,C,x){return typeof p=="string"?p:p(w,C,x)}var b=function(w){o(C,w);function C(x,T,A){return w.call(this,m(x,T,A))||this}return C}(g);b.prototype.name=g.name,b.prototype.code=u,a[u]=b}function c(u,p){if(Array.isArray(u)){var g=u.length;return u=u.map(function(m){return String(m)}),g>2?"one of ".concat(p," ").concat(u.slice(0,g-1).join(", "),", or ")+u[g-1]:g===2?"one of ".concat(p," ").concat(u[0]," or ").concat(u[1]):"of ".concat(p," ").concat(u[0])}else return"of ".concat(p," ").concat(String(u))}function d(u,p,g){return u.substr(!g||g<0?0:+g,p.length)===p}function h(u,p,g){return(g===void 0||g>u.length)&&(g=u.length),u.substring(g-p.length,g)===p}function f(u,p,g){return typeof g!="number"&&(g=0),g+p.length>u.length?!1:u.indexOf(p,g)!==-1}l("ERR_INVALID_OPT_VALUE",function(u,p){return'The value "'+p+'" is invalid for option "'+u+'"'},TypeError),l("ERR_INVALID_ARG_TYPE",function(u,p,g){var m;typeof p=="string"&&d(p,"not ")?(m="must not be",p=p.replace(/^not /,"")):m="must be";var b;if(h(u," argument"))b="The ".concat(u," ").concat(m," ").concat(c(p,"type"));else{var w=f(u,".")?"property":"argument";b='The "'.concat(u,'" ').concat(w," ").concat(m," ").concat(c(p,"type"))}return b+=". Received type ".concat(typeof g),b},TypeError),l("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),l("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),l("ERR_STREAM_PREMATURE_CLOSE","Premature close"),l("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),l("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),l("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),l("ERR_STREAM_WRITE_AFTER_END","write after end"),l("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),l("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),l("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),r.exports.codes=a},{}],59:[function(i,r,s){(function(o){(function(){"use strict";var a=Object.keys||function(m){var b=[];for(var w in m)b.push(w);return b};r.exports=u;var l=i("./_stream_readable"),c=i("./_stream_writable");i("inherits")(u,l);for(var d=a(c.prototype),h=0;h<d.length;h++){var f=d[h];u.prototype[f]||(u.prototype[f]=c.prototype[f])}function u(m){if(!(this instanceof u))return new u(m);l.call(this,m),c.call(this,m),this.allowHalfOpen=!0,m&&(m.readable===!1&&(this.readable=!1),m.writable===!1&&(this.writable=!1),m.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",p)))}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function p(){this._writableState.ended||o.nextTick(g,this)}function g(m){m.end()}Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(b){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=b,this._writableState.destroyed=b)}})}).call(this)}).call(this,i("_process"))},{"./_stream_readable":61,"./_stream_writable":63,_process:85,inherits:24}],60:[function(i,r,s){"use strict";r.exports=a;var o=i("./_stream_transform");i("inherits")(a,o);function a(l){if(!(this instanceof a))return new a(l);o.call(this,l)}a.prototype._transform=function(l,c,d){d(null,l)}},{"./_stream_transform":62,inherits:24}],61:[function(i,r,s){(function(o,a){(function(){"use strict";r.exports=W;var l;W.ReadableState=Q;var c=i("events").EventEmitter,d=function(y,_){return y.listeners(_).length},h=i("./internal/streams/stream"),f=i("buffer").Buffer,u=a.Uint8Array||function(){};function p(D){return f.from(D)}function g(D){return f.isBuffer(D)||D instanceof u}var m=i("util"),b;m&&m.debuglog?b=m.debuglog("stream"):b=function(){};var w=i("./internal/streams/buffer_list"),C=i("./internal/streams/destroy"),x=i("./internal/streams/state"),T=x.getHighWaterMark,A=i("../errors").codes,O=A.ERR_INVALID_ARG_TYPE,B=A.ERR_STREAM_PUSH_AFTER_EOF,$=A.ERR_METHOD_NOT_IMPLEMENTED,k=A.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,N,M,G;i("inherits")(W,h);var P=C.errorOrDestroy,ue=["error","close","destroy","pause","resume"];function X(D,y,_){if(typeof D.prependListener=="function")return D.prependListener(y,_);!D._events||!D._events[y]?D.on(y,_):Array.isArray(D._events[y])?D._events[y].unshift(_):D._events[y]=[_,D._events[y]]}function Q(D,y,_){l=l||i("./_stream_duplex"),D=D||{},typeof _!="boolean"&&(_=y instanceof l),this.objectMode=!!D.objectMode,_&&(this.objectMode=this.objectMode||!!D.readableObjectMode),this.highWaterMark=T(this,D,"readableHighWaterMark",_),this.buffer=new w,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=D.emitClose!==!1,this.autoDestroy=!!D.autoDestroy,this.destroyed=!1,this.defaultEncoding=D.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,D.encoding&&(N||(N=i("string_decoder/").StringDecoder),this.decoder=new N(D.encoding),this.encoding=D.encoding)}function W(D){if(l=l||i("./_stream_duplex"),!(this instanceof W))return new W(D);var y=this instanceof l;this._readableState=new Q(D,this,y),this.readable=!0,D&&(typeof D.read=="function"&&(this._read=D.read),typeof D.destroy=="function"&&(this._destroy=D.destroy)),h.call(this)}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(y){this._readableState&&(this._readableState.destroyed=y)}}),W.prototype.destroy=C.destroy,W.prototype._undestroy=C.undestroy,W.prototype._destroy=function(D,y){y(D)},W.prototype.push=function(D,y){var _=this._readableState,v;return _.objectMode?v=!0:typeof D=="string"&&(y=y||_.defaultEncoding,y!==_.encoding&&(D=f.from(D,y),y=""),v=!0),S(this,D,y,!1,v)},W.prototype.unshift=function(D){return S(this,D,null,!0,!1)};function S(D,y,_,v,I){b("readableAddChunk",y);var j=D._readableState;if(y===null)j.reading=!1,q(D,j);else{var ne;if(I||(ne=U(j,y)),ne)P(D,ne);else if(j.objectMode||y&&y.length>0)if(typeof y!="string"&&!j.objectMode&&Object.getPrototypeOf(y)!==f.prototype&&(y=p(y)),v)j.endEmitted?P(D,new k):R(D,j,y,!0);else if(j.ended)P(D,new B);else{if(j.destroyed)return!1;j.reading=!1,j.decoder&&!_?(y=j.decoder.write(y),j.objectMode||y.length!==0?R(D,j,y,!1):ie(D,j)):R(D,j,y,!1)}else v||(j.reading=!1,ie(D,j))}return!j.ended&&(j.length<j.highWaterMark||j.length===0)}function R(D,y,_,v){y.flowing&&y.length===0&&!y.sync?(y.awaitDrain=0,D.emit("data",_)):(y.length+=y.objectMode?1:_.length,v?y.buffer.unshift(_):y.buffer.push(_),y.needReadable&&Y(D)),ie(D,y)}function U(D,y){var _;return!g(y)&&typeof y!="string"&&y!==void 0&&!D.objectMode&&(_=new O("chunk",["string","Buffer","Uint8Array"],y)),_}W.prototype.isPaused=function(){return this._readableState.flowing===!1},W.prototype.setEncoding=function(D){N||(N=i("string_decoder/").StringDecoder);var y=new N(D);this._readableState.decoder=y,this._readableState.encoding=this._readableState.decoder.encoding;for(var _=this._readableState.buffer.head,v="";_!==null;)v+=y.write(_.data),_=_.next;return this._readableState.buffer.clear(),v!==""&&this._readableState.buffer.push(v),this._readableState.length=v.length,this};var z=1073741824;function ce(D){return D>=z?D=z:(D--,D|=D>>>1,D|=D>>>2,D|=D>>>4,D|=D>>>8,D|=D>>>16,D++),D}function re(D,y){return D<=0||y.length===0&&y.ended?0:y.objectMode?1:D!==D?y.flowing&&y.length?y.buffer.head.data.length:y.length:(D>y.highWaterMark&&(y.highWaterMark=ce(D)),D<=y.length?D:y.ended?y.length:(y.needReadable=!0,0))}W.prototype.read=function(D){b("read",D),D=parseInt(D,10);var y=this._readableState,_=D;if(D!==0&&(y.emittedReadable=!1),D===0&&y.needReadable&&((y.highWaterMark!==0?y.length>=y.highWaterMark:y.length>0)||y.ended))return b("read: emitReadable",y.length,y.ended),y.length===0&&y.ended?L(this):Y(this),null;if(D=re(D,y),D===0&&y.ended)return y.length===0&&L(this),null;var v=y.needReadable;b("need readable",v),(y.length===0||y.length-D<y.highWaterMark)&&(v=!0,b("length less than watermark",v)),y.ended||y.reading?(v=!1,b("reading or ended",v)):v&&(b("do read"),y.reading=!0,y.sync=!0,y.length===0&&(y.needReadable=!0),this._read(y.highWaterMark),y.sync=!1,y.reading||(D=re(_,y)));var I;return D>0?I=F(D,y):I=null,I===null?(y.needReadable=y.length<=y.highWaterMark,D=0):(y.length-=D,y.awaitDrain=0),y.length===0&&(y.ended||(y.needReadable=!0),_!==D&&y.ended&&L(this)),I!==null&&this.emit("data",I),I};function q(D,y){if(b("onEofChunk"),!y.ended){if(y.decoder){var _=y.decoder.end();_&&_.length&&(y.buffer.push(_),y.length+=y.objectMode?1:_.length)}y.ended=!0,y.sync?Y(D):(y.needReadable=!1,y.emittedReadable||(y.emittedReadable=!0,te(D)))}}function Y(D){var y=D._readableState;b("emitReadable",y.needReadable,y.emittedReadable),y.needReadable=!1,y.emittedReadable||(b("emitReadable",y.flowing),y.emittedReadable=!0,o.nextTick(te,D))}function te(D){var y=D._readableState;b("emitReadable_",y.destroyed,y.length,y.ended),!y.destroyed&&(y.length||y.ended)&&(D.emit("readable"),y.emittedReadable=!1),y.needReadable=!y.flowing&&!y.ended&&y.length<=y.highWaterMark,V(D)}function ie(D,y){y.readingMore||(y.readingMore=!0,o.nextTick(ee,D,y))}function ee(D,y){for(;!y.reading&&!y.ended&&(y.length<y.highWaterMark||y.flowing&&y.length===0);){var _=y.length;if(b("maybeReadMore read 0"),D.read(0),_===y.length)break}y.readingMore=!1}W.prototype._read=function(D){P(this,new $("_read()"))},W.prototype.pipe=function(D,y){var _=this,v=this._readableState;switch(v.pipesCount){case 0:v.pipes=D;break;case 1:v.pipes=[v.pipes,D];break;default:v.pipes.push(D);break}v.pipesCount+=1,b("pipe count=%d opts=%j",v.pipesCount,y);var I=(!y||y.end!==!1)&&D!==o.stdout&&D!==o.stderr,j=I?le:Pi;v.endEmitted?o.nextTick(j):_.once("end",j),D.on("unpipe",ne);function ne(ys,bs){b("onunpipe"),ys===_&&bs&&bs.hasUnpiped===!1&&(bs.hasUnpiped=!0,at())}function le(){b("onend"),D.end()}var Ee=J(_);D.on("drain",Ee);var ze=!1;function at(){b("cleanup"),D.removeListener("close",Li),D.removeListener("finish",vs),D.removeListener("drain",Ee),D.removeListener("error",lt),D.removeListener("unpipe",ne),_.removeListener("end",le),_.removeListener("end",Pi),_.removeListener("data",Dt),ze=!0,v.awaitDrain&&(!D._writableState||D._writableState.needDrain)&&Ee()}_.on("data",Dt);function Dt(ys){b("ondata");var bs=D.write(ys);b("dest.write",bs),bs===!1&&((v.pipesCount===1&&v.pipes===D||v.pipesCount>1&&se(v.pipes,D)!==-1)&&!ze&&(b("false write response, pause",v.awaitDrain),v.awaitDrain++),_.pause())}function lt(ys){b("onerror",ys),Pi(),D.removeListener("error",lt),d(D,"error")===0&&P(D,ys)}X(D,"error",lt);function Li(){D.removeListener("finish",vs),Pi()}D.once("close",Li);function vs(){b("onfinish"),D.removeListener("close",Li),Pi()}D.once("finish",vs);function Pi(){b("unpipe"),_.unpipe(D)}return D.emit("pipe",_),v.flowing||(b("pipe resume"),_.resume()),D};function J(D){return function(){var _=D._readableState;b("pipeOnDrain",_.awaitDrain),_.awaitDrain&&_.awaitDrain--,_.awaitDrain===0&&d(D,"data")&&(_.flowing=!0,V(D))}}W.prototype.unpipe=function(D){var y=this._readableState,_={hasUnpiped:!1};if(y.pipesCount===0)return this;if(y.pipesCount===1)return D&&D!==y.pipes?this:(D||(D=y.pipes),y.pipes=null,y.pipesCount=0,y.flowing=!1,D&&D.emit("unpipe",this,_),this);if(!D){var v=y.pipes,I=y.pipesCount;y.pipes=null,y.pipesCount=0,y.flowing=!1;for(var j=0;j<I;j++)v[j].emit("unpipe",this,{hasUnpiped:!1});return this}var ne=se(y.pipes,D);return ne===-1?this:(y.pipes.splice(ne,1),y.pipesCount-=1,y.pipesCount===1&&(y.pipes=y.pipes[0]),D.emit("unpipe",this,_),this)},W.prototype.on=function(D,y){var _=h.prototype.on.call(this,D,y),v=this._readableState;return D==="data"?(v.readableListening=this.listenerCount("readable")>0,v.flowing!==!1&&this.resume()):D==="readable"&&!v.endEmitted&&!v.readableListening&&(v.readableListening=v.needReadable=!0,v.flowing=!1,v.emittedReadable=!1,b("on readable",v.length,v.reading),v.length?Y(this):v.reading||o.nextTick(E,this)),_},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(D,y){var _=h.prototype.removeListener.call(this,D,y);return D==="readable"&&o.nextTick(H,this),_},W.prototype.removeAllListeners=function(D){var y=h.prototype.removeAllListeners.apply(this,arguments);return(D==="readable"||D===void 0)&&o.nextTick(H,this),y};function H(D){var y=D._readableState;y.readableListening=D.listenerCount("readable")>0,y.resumeScheduled&&!y.paused?y.flowing=!0:D.listenerCount("data")>0&&D.resume()}function E(D){b("readable nexttick read 0"),D.read(0)}W.prototype.resume=function(){var D=this._readableState;return D.flowing||(b("resume"),D.flowing=!D.readableListening,K(this,D)),D.paused=!1,this};function K(D,y){y.resumeScheduled||(y.resumeScheduled=!0,o.nextTick(oe,D,y))}function oe(D,y){b("resume",y.reading),y.reading||D.read(0),y.resumeScheduled=!1,D.emit("resume"),V(D),y.flowing&&!y.reading&&D.read(0)}W.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function V(D){var y=D._readableState;for(b("flow",y.flowing);y.flowing&&D.read()!==null;);}W.prototype.wrap=function(D){var y=this,_=this._readableState,v=!1;D.on("end",function(){if(b("wrapped end"),_.decoder&&!_.ended){var ne=_.decoder.end();ne&&ne.length&&y.push(ne)}y.push(null)}),D.on("data",function(ne){if(b("wrapped data"),_.decoder&&(ne=_.decoder.write(ne)),!(_.objectMode&&ne==null)&&!(!_.objectMode&&(!ne||!ne.length))){var le=y.push(ne);le||(v=!0,D.pause())}});for(var I in D)this[I]===void 0&&typeof D[I]=="function"&&(this[I]=function(le){return function(){return D[le].apply(D,arguments)}}(I));for(var j=0;j<ue.length;j++)D.on(ue[j],this.emit.bind(this,ue[j]));return this._read=function(ne){b("wrapped _read",ne),v&&(v=!1,D.resume())},this},typeof Symbol=="function"&&(W.prototype[Symbol.asyncIterator]=function(){return M===void 0&&(M=i("./internal/streams/async_iterator")),M(this)}),Object.defineProperty(W.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(W.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(W.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(y){this._readableState&&(this._readableState.flowing=y)}}),W._fromList=F,Object.defineProperty(W.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function F(D,y){if(y.length===0)return null;var _;return y.objectMode?_=y.buffer.shift():!D||D>=y.length?(y.decoder?_=y.buffer.join(""):y.buffer.length===1?_=y.buffer.first():_=y.buffer.concat(y.length),y.buffer.clear()):_=y.buffer.consume(D,y.decoder),_}function L(D){var y=D._readableState;b("endReadable",y.endEmitted),y.endEmitted||(y.ended=!0,o.nextTick(Z,y,D))}function Z(D,y){if(b("endReadableNT",D.endEmitted,D.length),!D.endEmitted&&D.length===0&&(D.endEmitted=!0,y.readable=!1,y.emit("end"),D.autoDestroy)){var _=y._writableState;(!_||_.autoDestroy&&_.finished)&&y.destroy()}}typeof Symbol=="function"&&(W.from=function(D,y){return G===void 0&&(G=i("./internal/streams/from")),G(W,D,y)});function se(D,y){for(var _=0,v=D.length;_<v;_++)if(D[_]===y)return _;return-1}}).call(this)}).call(this,i("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":58,"./_stream_duplex":59,"./internal/streams/async_iterator":64,"./internal/streams/buffer_list":65,"./internal/streams/destroy":66,"./internal/streams/from":68,"./internal/streams/state":70,"./internal/streams/stream":71,_process:85,buffer:3,events:4,inherits:24,"string_decoder/":78,util:2}],62:[function(i,r,s){"use strict";r.exports=u;var o=i("../errors").codes,a=o.ERR_METHOD_NOT_IMPLEMENTED,l=o.ERR_MULTIPLE_CALLBACK,c=o.ERR_TRANSFORM_ALREADY_TRANSFORMING,d=o.ERR_TRANSFORM_WITH_LENGTH_0,h=i("./_stream_duplex");i("inherits")(u,h);function f(m,b){var w=this._transformState;w.transforming=!1;var C=w.writecb;if(C===null)return this.emit("error",new l);w.writechunk=null,w.writecb=null,b!=null&&this.push(b),C(m);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function u(m){if(!(this instanceof u))return new u(m);h.call(this,m),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,m&&(typeof m.transform=="function"&&(this._transform=m.transform),typeof m.flush=="function"&&(this._flush=m.flush)),this.on("prefinish",p)}function p(){var m=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(b,w){g(m,b,w)}):g(this,null,null)}u.prototype.push=function(m,b){return this._transformState.needTransform=!1,h.prototype.push.call(this,m,b)},u.prototype._transform=function(m,b,w){w(new a("_transform()"))},u.prototype._write=function(m,b,w){var C=this._transformState;if(C.writecb=w,C.writechunk=m,C.writeencoding=b,!C.transforming){var x=this._readableState;(C.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},u.prototype._read=function(m){var b=this._transformState;b.writechunk!==null&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0},u.prototype._destroy=function(m,b){h.prototype._destroy.call(this,m,function(w){b(w)})};function g(m,b,w){if(b)return m.emit("error",b);if(w!=null&&m.push(w),m._writableState.length)throw new d;if(m._transformState.transforming)throw new c;return m.push(null)}},{"../errors":58,"./_stream_duplex":59,inherits:24}],63:[function(i,r,s){(function(o,a){(function(){"use strict";r.exports=Q;function l(V,F,L){this.chunk=V,this.encoding=F,this.callback=L,this.next=null}function c(V){var F=this;this.next=null,this.entry=null,this.finish=function(){oe(F,V)}}var d;Q.WritableState=ue;var h={deprecate:i("util-deprecate")},f=i("./internal/streams/stream"),u=i("buffer").Buffer,p=a.Uint8Array||function(){};function g(V){return u.from(V)}function m(V){return u.isBuffer(V)||V instanceof p}var b=i("./internal/streams/destroy"),w=i("./internal/streams/state"),C=w.getHighWaterMark,x=i("../errors").codes,T=x.ERR_INVALID_ARG_TYPE,A=x.ERR_METHOD_NOT_IMPLEMENTED,O=x.ERR_MULTIPLE_CALLBACK,B=x.ERR_STREAM_CANNOT_PIPE,$=x.ERR_STREAM_DESTROYED,k=x.ERR_STREAM_NULL_VALUES,N=x.ERR_STREAM_WRITE_AFTER_END,M=x.ERR_UNKNOWN_ENCODING,G=b.errorOrDestroy;i("inherits")(Q,f);function P(){}function ue(V,F,L){d=d||i("./_stream_duplex"),V=V||{},typeof L!="boolean"&&(L=F instanceof d),this.objectMode=!!V.objectMode,L&&(this.objectMode=this.objectMode||!!V.writableObjectMode),this.highWaterMark=C(this,V,"writableHighWaterMark",L),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Z=V.decodeStrings===!1;this.decodeStrings=!Z,this.defaultEncoding=V.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(se){q(F,se)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=V.emitClose!==!1,this.autoDestroy=!!V.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new c(this)}ue.prototype.getBuffer=function(){for(var F=this.bufferedRequest,L=[];F;)L.push(F),F=F.next;return L},function(){try{Object.defineProperty(ue.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var X;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(X=Function.prototype[Symbol.hasInstance],Object.defineProperty(Q,Symbol.hasInstance,{value:function(F){return X.call(this,F)?!0:this!==Q?!1:F&&F._writableState instanceof ue}})):X=function(F){return F instanceof this};function Q(V){d=d||i("./_stream_duplex");var F=this instanceof d;if(!F&&!X.call(Q,this))return new Q(V);this._writableState=new ue(V,this,F),this.writable=!0,V&&(typeof V.write=="function"&&(this._write=V.write),typeof V.writev=="function"&&(this._writev=V.writev),typeof V.destroy=="function"&&(this._destroy=V.destroy),typeof V.final=="function"&&(this._final=V.final)),f.call(this)}Q.prototype.pipe=function(){G(this,new B)};function W(V,F){var L=new N;G(V,L),o.nextTick(F,L)}function S(V,F,L,Z){var se;return L===null?se=new k:typeof L!="string"&&!F.objectMode&&(se=new T("chunk",["string","Buffer"],L)),se?(G(V,se),o.nextTick(Z,se),!1):!0}Q.prototype.write=function(V,F,L){var Z=this._writableState,se=!1,D=!Z.objectMode&&m(V);return D&&!u.isBuffer(V)&&(V=g(V)),typeof F=="function"&&(L=F,F=null),D?F="buffer":F||(F=Z.defaultEncoding),typeof L!="function"&&(L=P),Z.ending?W(this,L):(D||S(this,Z,V,L))&&(Z.pendingcb++,se=U(this,Z,D,V,F,L)),se},Q.prototype.cork=function(){this._writableState.corked++},Q.prototype.uncork=function(){var V=this._writableState;V.corked&&(V.corked--,!V.writing&&!V.corked&&!V.bufferProcessing&&V.bufferedRequest&&ie(this,V))},Q.prototype.setDefaultEncoding=function(F){if(typeof F=="string"&&(F=F.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((F+"").toLowerCase())>-1))throw new M(F);return this._writableState.defaultEncoding=F,this},Object.defineProperty(Q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function R(V,F,L){return!V.objectMode&&V.decodeStrings!==!1&&typeof F=="string"&&(F=u.from(F,L)),F}Object.defineProperty(Q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function U(V,F,L,Z,se,D){if(!L){var y=R(F,Z,se);Z!==y&&(L=!0,se="buffer",Z=y)}var _=F.objectMode?1:Z.length;F.length+=_;var v=F.length<F.highWaterMark;if(v||(F.needDrain=!0),F.writing||F.corked){var I=F.lastBufferedRequest;F.lastBufferedRequest={chunk:Z,encoding:se,isBuf:L,callback:D,next:null},I?I.next=F.lastBufferedRequest:F.bufferedRequest=F.lastBufferedRequest,F.bufferedRequestCount+=1}else z(V,F,!1,_,Z,se,D);return v}function z(V,F,L,Z,se,D,y){F.writelen=Z,F.writecb=y,F.writing=!0,F.sync=!0,F.destroyed?F.onwrite(new $("write")):L?V._writev(se,F.onwrite):V._write(se,D,F.onwrite),F.sync=!1}function ce(V,F,L,Z,se){--F.pendingcb,L?(o.nextTick(se,Z),o.nextTick(E,V,F),V._writableState.errorEmitted=!0,G(V,Z)):(se(Z),V._writableState.errorEmitted=!0,G(V,Z),E(V,F))}function re(V){V.writing=!1,V.writecb=null,V.length-=V.writelen,V.writelen=0}function q(V,F){var L=V._writableState,Z=L.sync,se=L.writecb;if(typeof se!="function")throw new O;if(re(L),F)ce(V,L,Z,F,se);else{var D=ee(L)||V.destroyed;!D&&!L.corked&&!L.bufferProcessing&&L.bufferedRequest&&ie(V,L),Z?o.nextTick(Y,V,L,D,se):Y(V,L,D,se)}}function Y(V,F,L,Z){L||te(V,F),F.pendingcb--,Z(),E(V,F)}function te(V,F){F.length===0&&F.needDrain&&(F.needDrain=!1,V.emit("drain"))}function ie(V,F){F.bufferProcessing=!0;var L=F.bufferedRequest;if(V._writev&&L&&L.next){var Z=F.bufferedRequestCount,se=new Array(Z),D=F.corkedRequestsFree;D.entry=L;for(var y=0,_=!0;L;)se[y]=L,L.isBuf||(_=!1),L=L.next,y+=1;se.allBuffers=_,z(V,F,!0,F.length,se,"",D.finish),F.pendingcb++,F.lastBufferedRequest=null,D.next?(F.corkedRequestsFree=D.next,D.next=null):F.corkedRequestsFree=new c(F),F.bufferedRequestCount=0}else{for(;L;){var v=L.chunk,I=L.encoding,j=L.callback,ne=F.objectMode?1:v.length;if(z(V,F,!1,ne,v,I,j),L=L.next,F.bufferedRequestCount--,F.writing)break}L===null&&(F.lastBufferedRequest=null)}F.bufferedRequest=L,F.bufferProcessing=!1}Q.prototype._write=function(V,F,L){L(new A("_write()"))},Q.prototype._writev=null,Q.prototype.end=function(V,F,L){var Z=this._writableState;return typeof V=="function"?(L=V,V=null,F=null):typeof F=="function"&&(L=F,F=null),V!=null&&this.write(V,F),Z.corked&&(Z.corked=1,this.uncork()),Z.ending||K(this,Z,L),this},Object.defineProperty(Q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ee(V){return V.ending&&V.length===0&&V.bufferedRequest===null&&!V.finished&&!V.writing}function J(V,F){V._final(function(L){F.pendingcb--,L&&G(V,L),F.prefinished=!0,V.emit("prefinish"),E(V,F)})}function H(V,F){!F.prefinished&&!F.finalCalled&&(typeof V._final=="function"&&!F.destroyed?(F.pendingcb++,F.finalCalled=!0,o.nextTick(J,V,F)):(F.prefinished=!0,V.emit("prefinish")))}function E(V,F){var L=ee(F);if(L&&(H(V,F),F.pendingcb===0&&(F.finished=!0,V.emit("finish"),F.autoDestroy))){var Z=V._readableState;(!Z||Z.autoDestroy&&Z.endEmitted)&&V.destroy()}return L}function K(V,F,L){F.ending=!0,E(V,F),L&&(F.finished?o.nextTick(L):V.once("finish",L)),F.ended=!0,V.writable=!1}function oe(V,F,L){var Z=V.entry;for(V.entry=null;Z;){var se=Z.callback;F.pendingcb--,se(L),Z=Z.next}F.corkedRequestsFree.next=V}Object.defineProperty(Q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(F){this._writableState&&(this._writableState.destroyed=F)}}),Q.prototype.destroy=b.destroy,Q.prototype._undestroy=b.undestroy,Q.prototype._destroy=function(V,F){F(V)}}).call(this)}).call(this,i("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":58,"./_stream_duplex":59,"./internal/streams/destroy":66,"./internal/streams/state":70,"./internal/streams/stream":71,_process:85,buffer:3,inherits:24,"util-deprecate":79}],64:[function(i,r,s){(function(o){(function(){"use strict";var a;function l(B,$,k){return $ in B?Object.defineProperty(B,$,{value:k,enumerable:!0,configurable:!0,writable:!0}):B[$]=k,B}var c=i("./end-of-stream"),d=Symbol("lastResolve"),h=Symbol("lastReject"),f=Symbol("error"),u=Symbol("ended"),p=Symbol("lastPromise"),g=Symbol("handlePromise"),m=Symbol("stream");function b(B,$){return{value:B,done:$}}function w(B){var $=B[d];if($!==null){var k=B[m].read();k!==null&&(B[p]=null,B[d]=null,B[h]=null,$(b(k,!1)))}}function C(B){o.nextTick(w,B)}function x(B,$){return function(k,N){B.then(function(){if($[u]){k(b(void 0,!0));return}$[g](k,N)},N)}}var T=Object.getPrototypeOf(function(){}),A=Object.setPrototypeOf((a={get stream(){return this[m]},next:function(){var $=this,k=this[f];if(k!==null)return Promise.reject(k);if(this[u])return Promise.resolve(b(void 0,!0));if(this[m].destroyed)return new Promise(function(P,ue){o.nextTick(function(){$[f]?ue($[f]):P(b(void 0,!0))})});var N=this[p],M;if(N)M=new Promise(x(N,this));else{var G=this[m].read();if(G!==null)return Promise.resolve(b(G,!1));M=new Promise(this[g])}return this[p]=M,M}},l(a,Symbol.asyncIterator,function(){return this}),l(a,"return",function(){var $=this;return new Promise(function(k,N){$[m].destroy(null,function(M){if(M){N(M);return}k(b(void 0,!0))})})}),a),T),O=function($){var k,N=Object.create(A,(k={},l(k,m,{value:$,writable:!0}),l(k,d,{value:null,writable:!0}),l(k,h,{value:null,writable:!0}),l(k,f,{value:null,writable:!0}),l(k,u,{value:$._readableState.endEmitted,writable:!0}),l(k,g,{value:function(G,P){var ue=N[m].read();ue?(N[p]=null,N[d]=null,N[h]=null,G(b(ue,!1))):(N[d]=G,N[h]=P)},writable:!0}),k));return N[p]=null,c($,function(M){if(M&&M.code!=="ERR_STREAM_PREMATURE_CLOSE"){var G=N[h];G!==null&&(N[p]=null,N[d]=null,N[h]=null,G(M)),N[f]=M;return}var P=N[d];P!==null&&(N[p]=null,N[d]=null,N[h]=null,P(b(void 0,!0))),N[u]=!0}),$.on("readable",C.bind(null,N)),N};r.exports=O}).call(this)}).call(this,i("_process"))},{"./end-of-stream":67,_process:85}],65:[function(i,r,s){"use strict";function o(w,C){var x=Object.keys(w);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(w);C&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(w,A).enumerable})),x.push.apply(x,T)}return x}function a(w){for(var C=1;C<arguments.length;C++){var x=arguments[C]!=null?arguments[C]:{};C%2?o(Object(x),!0).forEach(function(T){l(w,T,x[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(x)):o(Object(x)).forEach(function(T){Object.defineProperty(w,T,Object.getOwnPropertyDescriptor(x,T))})}return w}function l(w,C,x){return C in w?Object.defineProperty(w,C,{value:x,enumerable:!0,configurable:!0,writable:!0}):w[C]=x,w}function c(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")}function d(w,C){for(var x=0;x<C.length;x++){var T=C[x];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}function h(w,C,x){return C&&d(w.prototype,C),x&&d(w,x),w}var f=i("buffer"),u=f.Buffer,p=i("util"),g=p.inspect,m=g&&g.custom||"inspect";function b(w,C,x){u.prototype.copy.call(w,C,x)}r.exports=function(){function w(){c(this,w),this.head=null,this.tail=null,this.length=0}return h(w,[{key:"push",value:function(x){var T={data:x,next:null};this.length>0?this.tail.next=T:this.head=T,this.tail=T,++this.length}},{key:"unshift",value:function(x){var T={data:x,next:this.head};this.length===0&&(this.tail=T),this.head=T,++this.length}},{key:"shift",value:function(){if(this.length!==0){var x=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,x}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(x){if(this.length===0)return"";for(var T=this.head,A=""+T.data;T=T.next;)A+=x+T.data;return A}},{key:"concat",value:function(x){if(this.length===0)return u.alloc(0);for(var T=u.allocUnsafe(x>>>0),A=this.head,O=0;A;)b(A.data,T,O),O+=A.data.length,A=A.next;return T}},{key:"consume",value:function(x,T){var A;return x<this.head.data.length?(A=this.head.data.slice(0,x),this.head.data=this.head.data.slice(x)):x===this.head.data.length?A=this.shift():A=T?this._getString(x):this._getBuffer(x),A}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(x){var T=this.head,A=1,O=T.data;for(x-=O.length;T=T.next;){var B=T.data,$=x>B.length?B.length:x;if($===B.length?O+=B:O+=B.slice(0,x),x-=$,x===0){$===B.length?(++A,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=B.slice($));break}++A}return this.length-=A,O}},{key:"_getBuffer",value:function(x){var T=u.allocUnsafe(x),A=this.head,O=1;for(A.data.copy(T),x-=A.data.length;A=A.next;){var B=A.data,$=x>B.length?B.length:x;if(B.copy(T,T.length-x,0,$),x-=$,x===0){$===B.length?(++O,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=B.slice($));break}++O}return this.length-=O,T}},{key:m,value:function(x,T){return g(this,a({},T,{depth:0,customInspect:!1}))}}]),w}()},{buffer:3,util:2}],66:[function(i,r,s){(function(o){(function(){"use strict";function a(u,p){var g=this,m=this._readableState&&this._readableState.destroyed,b=this._writableState&&this._writableState.destroyed;return m||b?(p?p(u):u&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,o.nextTick(h,this,u)):o.nextTick(h,this,u)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(w){!p&&w?g._writableState?g._writableState.errorEmitted?o.nextTick(c,g):(g._writableState.errorEmitted=!0,o.nextTick(l,g,w)):o.nextTick(l,g,w):p?(o.nextTick(c,g),p(w)):o.nextTick(c,g)}),this)}function l(u,p){h(u,p),c(u)}function c(u){u._writableState&&!u._writableState.emitClose||u._readableState&&!u._readableState.emitClose||u.emit("close")}function d(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function h(u,p){u.emit("error",p)}function f(u,p){var g=u._readableState,m=u._writableState;g&&g.autoDestroy||m&&m.autoDestroy?u.destroy(p):u.emit("error",p)}r.exports={destroy:a,undestroy:d,errorOrDestroy:f}}).call(this)}).call(this,i("_process"))},{_process:85}],67:[function(i,r,s){"use strict";var o=i("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function a(h){var f=!1;return function(){if(!f){f=!0;for(var u=arguments.length,p=new Array(u),g=0;g<u;g++)p[g]=arguments[g];h.apply(this,p)}}}function l(){}function c(h){return h.setHeader&&typeof h.abort=="function"}function d(h,f,u){if(typeof f=="function")return d(h,null,f);f||(f={}),u=a(u||l);var p=f.readable||f.readable!==!1&&h.readable,g=f.writable||f.writable!==!1&&h.writable,m=function(){h.writable||w()},b=h._writableState&&h._writableState.finished,w=function(){g=!1,b=!0,p||u.call(h)},C=h._readableState&&h._readableState.endEmitted,x=function(){p=!1,C=!0,g||u.call(h)},T=function($){u.call(h,$)},A=function(){var $;if(p&&!C)return(!h._readableState||!h._readableState.ended)&&($=new o),u.call(h,$);if(g&&!b)return(!h._writableState||!h._writableState.ended)&&($=new o),u.call(h,$)},O=function(){h.req.on("finish",w)};return c(h)?(h.on("complete",w),h.on("abort",A),h.req?O():h.on("request",O)):g&&!h._writableState&&(h.on("end",m),h.on("close",m)),h.on("end",x),h.on("finish",w),f.error!==!1&&h.on("error",T),h.on("close",A),function(){h.removeListener("complete",w),h.removeListener("abort",A),h.removeListener("request",O),h.req&&h.req.removeListener("finish",w),h.removeListener("end",m),h.removeListener("close",m),h.removeListener("finish",w),h.removeListener("end",x),h.removeListener("error",T),h.removeListener("close",A)}}r.exports=d},{"../../../errors":58}],68:[function(i,r,s){r.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],69:[function(i,r,s){"use strict";var o;function a(w){var C=!1;return function(){C||(C=!0,w.apply(void 0,arguments))}}var l=i("../../../errors").codes,c=l.ERR_MISSING_ARGS,d=l.ERR_STREAM_DESTROYED;function h(w){if(w)throw w}function f(w){return w.setHeader&&typeof w.abort=="function"}function u(w,C,x,T){T=a(T);var A=!1;w.on("close",function(){A=!0}),o===void 0&&(o=i("./end-of-stream")),o(w,{readable:C,writable:x},function(B){if(B)return T(B);A=!0,T()});var O=!1;return function(B){if(!A&&!O){if(O=!0,f(w))return w.abort();if(typeof w.destroy=="function")return w.destroy();T(B||new d("pipe"))}}}function p(w){w()}function g(w,C){return w.pipe(C)}function m(w){return!w.length||typeof w[w.length-1]!="function"?h:w.pop()}function b(){for(var w=arguments.length,C=new Array(w),x=0;x<w;x++)C[x]=arguments[x];var T=m(C);if(Array.isArray(C[0])&&(C=C[0]),C.length<2)throw new c("streams");var A,O=C.map(function(B,$){var k=$<C.length-1,N=$>0;return u(B,k,N,function(M){A||(A=M),M&&O.forEach(p),!k&&(O.forEach(p),T(A))})});return C.reduce(g)}r.exports=b},{"../../../errors":58,"./end-of-stream":67}],70:[function(i,r,s){"use strict";var o=i("../../../errors").codes.ERR_INVALID_OPT_VALUE;function a(c,d,h){return c.highWaterMark!=null?c.highWaterMark:d?c[h]:null}function l(c,d,h,f){var u=a(d,f,h);if(u!=null){if(!(isFinite(u)&&Math.floor(u)===u)||u<0){var p=f?h:"highWaterMark";throw new o(p,u)}return Math.floor(u)}return c.objectMode?16:16*1024}r.exports={getHighWaterMark:l}},{"../../../errors":58}],71:[function(i,r,s){r.exports=i("events").EventEmitter},{events:4}],72:[function(i,r,s){s=r.exports=i("./lib/_stream_readable.js"),s.Stream=s,s.Readable=s,s.Writable=i("./lib/_stream_writable.js"),s.Duplex=i("./lib/_stream_duplex.js"),s.Transform=i("./lib/_stream_transform.js"),s.PassThrough=i("./lib/_stream_passthrough.js"),s.finished=i("./lib/internal/streams/end-of-stream.js"),s.pipeline=i("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":59,"./lib/_stream_passthrough.js":60,"./lib/_stream_readable.js":61,"./lib/_stream_transform.js":62,"./lib/_stream_writable.js":63,"./lib/internal/streams/end-of-stream.js":67,"./lib/internal/streams/pipeline.js":69}],73:[function(i,r,s){"use strict";function o(l,c,d){var h=this;this._callback=l,this._args=d,this._interval=setInterval(l,c,this._args),this.reschedule=function(f){f||(f=h._interval),h._interval&&clearInterval(h._interval),h._interval=setInterval(h._callback,f,h._args)},this.clear=function(){h._interval&&(clearInterval(h._interval),h._interval=void 0)},this.destroy=function(){h._interval&&clearInterval(h._interval),h._callback=void 0,h._interval=void 0,h._args=void 0}}function a(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("interval needed");var l;if(arguments.length>0){l=new Array(arguments.length-2);for(var c=0;c<l.length;c++)l[c]=arguments[c+2]}return new o(arguments[0],arguments[1],l)}r.exports=a},{}],74:[function(i,r,s){"use strict";r.exports=i("./index.js")()},{"./index.js":75}],75:[function(i,r,s){(function(o){(function(){"use strict";r.exports=l;function a(d){return d instanceof o?o.from(d):new d.constructor(d.buffer.slice(),d.byteOffset,d.length)}function l(d){if(d=d||{},d.circles)return c(d);return d.proto?u:f;function h(p,g){for(var m=Object.keys(p),b=new Array(m.length),w=0;w<m.length;w++){var C=m[w],x=p[C];typeof x!="object"||x===null?b[C]=x:x instanceof Date?b[C]=new Date(x):ArrayBuffer.isView(x)?b[C]=a(x):b[C]=g(x)}return b}function f(p){if(typeof p!="object"||p===null)return p;if(p instanceof Date)return new Date(p);if(Array.isArray(p))return h(p,f);if(p instanceof Map)return new Map(h(Array.from(p),f));if(p instanceof Set)return new Set(h(Array.from(p),f));var g={};for(var m in p)if(Object.hasOwnProperty.call(p,m)!==!1){var b=p[m];typeof b!="object"||b===null?g[m]=b:b instanceof Date?g[m]=new Date(b):b instanceof Map?g[m]=new Map(h(Array.from(b),f)):b instanceof Set?g[m]=new Set(h(Array.from(b),f)):ArrayBuffer.isView(b)?g[m]=a(b):g[m]=f(b)}return g}function u(p){if(typeof p!="object"||p===null)return p;if(p instanceof Date)return new Date(p);if(Array.isArray(p))return h(p,u);if(p instanceof Map)return new Map(h(Array.from(p),u));if(p instanceof Set)return new Set(h(Array.from(p),u));var g={};for(var m in p){var b=p[m];typeof b!="object"||b===null?g[m]=b:b instanceof Date?g[m]=new Date(b):b instanceof Map?g[m]=new Map(h(Array.from(b),u)):b instanceof Set?g[m]=new Set(h(Array.from(b),u)):ArrayBuffer.isView(b)?g[m]=a(b):g[m]=u(b)}return g}}function c(d){var h=[],f=[];return d.proto?g:p;function u(m,b){for(var w=Object.keys(m),C=new Array(w.length),x=0;x<w.length;x++){var T=w[x],A=m[T];if(typeof A!="object"||A===null)C[T]=A;else if(A instanceof Date)C[T]=new Date(A);else if(ArrayBuffer.isView(A))C[T]=a(A);else{var O=h.indexOf(A);O!==-1?C[T]=f[O]:C[T]=b(A)}}return C}function p(m){if(typeof m!="object"||m===null)return m;if(m instanceof Date)return new Date(m);if(Array.isArray(m))return u(m,p);if(m instanceof Map)return new Map(u(Array.from(m),p));if(m instanceof Set)return new Set(u(Array.from(m),p));var b={};h.push(m),f.push(b);for(var w in m)if(Object.hasOwnProperty.call(m,w)!==!1){var C=m[w];if(typeof C!="object"||C===null)b[w]=C;else if(C instanceof Date)b[w]=new Date(C);else if(C instanceof Map)b[w]=new Map(u(Array.from(C),p));else if(C instanceof Set)b[w]=new Set(u(Array.from(C),p));else if(ArrayBuffer.isView(C))b[w]=a(C);else{var x=h.indexOf(C);x!==-1?b[w]=f[x]:b[w]=p(C)}}return h.pop(),f.pop(),b}function g(m){if(typeof m!="object"||m===null)return m;if(m instanceof Date)return new Date(m);if(Array.isArray(m))return u(m,g);if(m instanceof Map)return new Map(u(Array.from(m),g));if(m instanceof Set)return new Set(u(Array.from(m),g));var b={};h.push(m),f.push(b);for(var w in m){var C=m[w];if(typeof C!="object"||C===null)b[w]=C;else if(C instanceof Date)b[w]=new Date(C);else if(C instanceof Map)b[w]=new Map(u(Array.from(C),g));else if(C instanceof Set)b[w]=new Set(u(Array.from(C),g));else if(ArrayBuffer.isView(C))b[w]=a(C);else{var x=h.indexOf(C);x!==-1?b[w]=f[x]:b[w]=g(C)}}return h.pop(),f.pop(),b}}}).call(this)}).call(this,i("buffer").Buffer)},{buffer:3}],76:[function(i,r,s){var o=i("buffer"),a=o.Buffer;function l(d,h){for(var f in d)h[f]=d[f]}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?r.exports=o:(l(o,s),s.Buffer=c);function c(d,h,f){return a(d,h,f)}c.prototype=Object.create(a.prototype),l(a,c),c.from=function(d,h,f){if(typeof d=="number")throw new TypeError("Argument must not be a number");return a(d,h,f)},c.alloc=function(d,h,f){if(typeof d!="number")throw new TypeError("Argument must be a number");var u=a(d);return h!==void 0?typeof f=="string"?u.fill(h,f):u.fill(h):u.fill(0),u},c.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return a(d)},c.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(d)}},{buffer:3}],77:[function(i,r,s){r.exports=o;function o(l){var c=l._readableState;return c?c.objectMode||typeof l._duplexState=="number"?l.read():l.read(a(c)):null}function a(l){return l.buffer.length?l.buffer.head?l.buffer.head.data.length:l.buffer[0].length:l.length}},{}],78:[function(i,r,s){"use strict";var o=i("safe-buffer").Buffer,a=o.isEncoding||function(O){switch(O=""+O,O&&O.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function l(O){if(!O)return"utf8";for(var B;;)switch(O){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return O;default:if(B)return;O=(""+O).toLowerCase(),B=!0}}function c(O){var B=l(O);if(typeof B!="string"&&(o.isEncoding===a||!a(O)))throw new Error("Unknown encoding: "+O);return B||O}s.StringDecoder=d;function d(O){this.encoding=c(O);var B;switch(this.encoding){case"utf16le":this.text=b,this.end=w,B=4;break;case"utf8":this.fillLast=p,B=4;break;case"base64":this.text=C,this.end=x,B=3;break;default:this.write=T,this.end=A;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(B)}d.prototype.write=function(O){if(O.length===0)return"";var B,$;if(this.lastNeed){if(B=this.fillLast(O),B===void 0)return"";$=this.lastNeed,this.lastNeed=0}else $=0;return $<O.length?B?B+this.text(O,$):this.text(O,$):B||""},d.prototype.end=m,d.prototype.text=g,d.prototype.fillLast=function(O){if(this.lastNeed<=O.length)return O.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);O.copy(this.lastChar,this.lastTotal-this.lastNeed,0,O.length),this.lastNeed-=O.length};function h(O){return O<=127?0:O>>5===6?2:O>>4===14?3:O>>3===30?4:O>>6===2?-1:-2}function f(O,B,$){var k=B.length-1;if(k<$)return 0;var N=h(B[k]);return N>=0?(N>0&&(O.lastNeed=N-1),N):--k<$||N===-2?0:(N=h(B[k]),N>=0?(N>0&&(O.lastNeed=N-2),N):--k<$||N===-2?0:(N=h(B[k]),N>=0?(N>0&&(N===2?N=0:O.lastNeed=N-3),N):0))}function u(O,B,$){if((B[0]&192)!==128)return O.lastNeed=0,"\uFFFD";if(O.lastNeed>1&&B.length>1){if((B[1]&192)!==128)return O.lastNeed=1,"\uFFFD";if(O.lastNeed>2&&B.length>2&&(B[2]&192)!==128)return O.lastNeed=2,"\uFFFD"}}function p(O){var B=this.lastTotal-this.lastNeed,$=u(this,O,B);if($!==void 0)return $;if(this.lastNeed<=O.length)return O.copy(this.lastChar,B,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);O.copy(this.lastChar,B,0,O.length),this.lastNeed-=O.length}function g(O,B){var $=f(this,O,B);if(!this.lastNeed)return O.toString("utf8",B);this.lastTotal=$;var k=O.length-($-this.lastNeed);return O.copy(this.lastChar,0,k),O.toString("utf8",B,k)}function m(O){var B=O&&O.length?this.write(O):"";return this.lastNeed?B+"\uFFFD":B}function b(O,B){if((O.length-B)%2===0){var $=O.toString("utf16le",B);if($){var k=$.charCodeAt($.length-1);if(k>=55296&&k<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=O[O.length-2],this.lastChar[1]=O[O.length-1],$.slice(0,-1)}return $}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=O[O.length-1],O.toString("utf16le",B,O.length-1)}function w(O){var B=O&&O.length?this.write(O):"";if(this.lastNeed){var $=this.lastTotal-this.lastNeed;return B+this.lastChar.toString("utf16le",0,$)}return B}function C(O,B){var $=(O.length-B)%3;return $===0?O.toString("base64",B):(this.lastNeed=3-$,this.lastTotal=3,$===1?this.lastChar[0]=O[O.length-1]:(this.lastChar[0]=O[O.length-2],this.lastChar[1]=O[O.length-1]),O.toString("base64",B,O.length-$))}function x(O){var B=O&&O.length?this.write(O):"";return this.lastNeed?B+this.lastChar.toString("base64",0,3-this.lastNeed):B}function T(O){return O.toString(this.encoding)}function A(O){return O&&O.length?this.write(O):""}},{"safe-buffer":76}],79:[function(i,r,s){(function(o){(function(){r.exports=a;function a(c,d){if(l("noDeprecation"))return c;var h=!1;function f(){if(!h){if(l("throwDeprecation"))throw new Error(d);l("traceDeprecation")?console.trace(d):console.warn(d),h=!0}return c.apply(this,arguments)}return f}function l(c){try{if(!o.localStorage)return!1}catch{return!1}var d=o.localStorage[c];return d==null?!1:String(d).toLowerCase()==="true"}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],80:[function(i,r,s){r.exports=o;function o(a,l){if(a&&l)return o(a)(l);if(typeof a!="function")throw new TypeError("need wrapper function");return Object.keys(a).forEach(function(d){c[d]=a[d]}),c;function c(){for(var d=new Array(arguments.length),h=0;h<d.length;h++)d[h]=arguments[h];var f=a.apply(this,d),u=d[d.length-1];return typeof f=="function"&&f!==u&&Object.keys(u).forEach(function(p){f[p]=u[p]}),f}}},{}],81:[function(i,r,s){"use strict";r.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},{}],82:[function(i,r,s){r.exports=a;var o=Object.prototype.hasOwnProperty;function a(){for(var l={},c=0;c<arguments.length;c++){var d=arguments[c];for(var h in d)o.call(d,h)&&(l[h]=d[h])}return l}},{}],83:[function(i,r,s){"use strict";r.exports=function(o){o.prototype[Symbol.iterator]=function*(){for(let a=this.head;a;a=a.next)yield a.value}}},{}],84:[function(i,r,s){"use strict";r.exports=o,o.Node=d,o.create=o;function o(h){var f=this;if(f instanceof o||(f=new o),f.tail=null,f.head=null,f.length=0,h&&typeof h.forEach=="function")h.forEach(function(g){f.push(g)});else if(arguments.length>0)for(var u=0,p=arguments.length;u<p;u++)f.push(arguments[u]);return f}o.prototype.removeNode=function(h){if(h.list!==this)throw new Error("removing node which does not belong to this list");var f=h.next,u=h.prev;return f&&(f.prev=u),u&&(u.next=f),h===this.head&&(this.head=f),h===this.tail&&(this.tail=u),h.list.length--,h.next=null,h.prev=null,h.list=null,f},o.prototype.unshiftNode=function(h){if(h!==this.head){h.list&&h.list.removeNode(h);var f=this.head;h.list=this,h.next=f,f&&(f.prev=h),this.head=h,this.tail||(this.tail=h),this.length++}},o.prototype.pushNode=function(h){if(h!==this.tail){h.list&&h.list.removeNode(h);var f=this.tail;h.list=this,h.prev=f,f&&(f.next=h),this.tail=h,this.head||(this.head=h),this.length++}},o.prototype.push=function(){for(var h=0,f=arguments.length;h<f;h++)l(this,arguments[h]);return this.length},o.prototype.unshift=function(){for(var h=0,f=arguments.length;h<f;h++)c(this,arguments[h]);return this.length},o.prototype.pop=function(){if(this.tail){var h=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,h}},o.prototype.shift=function(){if(this.head){var h=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,h}},o.prototype.forEach=function(h,f){f=f||this;for(var u=this.head,p=0;u!==null;p++)h.call(f,u.value,p,this),u=u.next},o.prototype.forEachReverse=function(h,f){f=f||this;for(var u=this.tail,p=this.length-1;u!==null;p--)h.call(f,u.value,p,this),u=u.prev},o.prototype.get=function(h){for(var f=0,u=this.head;u!==null&&f<h;f++)u=u.next;if(f===h&&u!==null)return u.value},o.prototype.getReverse=function(h){for(var f=0,u=this.tail;u!==null&&f<h;f++)u=u.prev;if(f===h&&u!==null)return u.value},o.prototype.map=function(h,f){f=f||this;for(var u=new o,p=this.head;p!==null;)u.push(h.call(f,p.value,this)),p=p.next;return u},o.prototype.mapReverse=function(h,f){f=f||this;for(var u=new o,p=this.tail;p!==null;)u.push(h.call(f,p.value,this)),p=p.prev;return u},o.prototype.reduce=function(h,f){var u,p=this.head;if(arguments.length>1)u=f;else if(this.head)p=this.head.next,u=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var g=0;p!==null;g++)u=h(u,p.value,g),p=p.next;return u},o.prototype.reduceReverse=function(h,f){var u,p=this.tail;if(arguments.length>1)u=f;else if(this.tail)p=this.tail.prev,u=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var g=this.length-1;p!==null;g--)u=h(u,p.value,g),p=p.prev;return u},o.prototype.toArray=function(){for(var h=new Array(this.length),f=0,u=this.head;u!==null;f++)h[f]=u.value,u=u.next;return h},o.prototype.toArrayReverse=function(){for(var h=new Array(this.length),f=0,u=this.tail;u!==null;f++)h[f]=u.value,u=u.prev;return h},o.prototype.slice=function(h,f){f=f||this.length,f<0&&(f+=this.length),h=h||0,h<0&&(h+=this.length);var u=new o;if(f<h||f<0)return u;h<0&&(h=0),f>this.length&&(f=this.length);for(var p=0,g=this.head;g!==null&&p<h;p++)g=g.next;for(;g!==null&&p<f;p++,g=g.next)u.push(g.value);return u},o.prototype.sliceReverse=function(h,f){f=f||this.length,f<0&&(f+=this.length),h=h||0,h<0&&(h+=this.length);var u=new o;if(f<h||f<0)return u;h<0&&(h=0),f>this.length&&(f=this.length);for(var p=this.length,g=this.tail;g!==null&&p>f;p--)g=g.prev;for(;g!==null&&p>h;p--,g=g.prev)u.push(g.value);return u},o.prototype.splice=function(h,f,...u){h>this.length&&(h=this.length-1),h<0&&(h=this.length+h);for(var p=0,g=this.head;g!==null&&p<h;p++)g=g.next;for(var m=[],p=0;g&&p<f;p++)m.push(g.value),g=this.removeNode(g);g===null&&(g=this.tail),g!==this.head&&g!==this.tail&&(g=g.prev);for(var p=0;p<u.length;p++)g=a(this,g,u[p]);return m},o.prototype.reverse=function(){for(var h=this.head,f=this.tail,u=h;u!==null;u=u.prev){var p=u.prev;u.prev=u.next,u.next=p}return this.head=f,this.tail=h,this};function a(h,f,u){var p=f===h.head?new d(u,null,f,h):new d(u,f,f.next,h);return p.next===null&&(h.tail=p),p.prev===null&&(h.head=p),h.length++,p}function l(h,f){h.tail=new d(f,h.tail,null,h),h.head||(h.head=h.tail),h.length++}function c(h,f){h.head=new d(f,null,h.head,h),h.tail||(h.tail=h.head),h.length++}function d(h,f,u,p){if(!(this instanceof d))return new d(h,f,u,p);this.list=p,this.value=h,f?(f.next=this,this.prev=f):this.prev=null,u?(u.prev=this,this.next=u):this.next=null}try{i("./iterator.js")(o)}catch{}},{"./iterator.js":83}],85:[function(i,r,s){var o=r.exports={},a,l;function c(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?a=setTimeout:a=c}catch{a=c}try{typeof clearTimeout=="function"?l=clearTimeout:l=d}catch{l=d}})();function h(T){if(a===setTimeout)return setTimeout(T,0);if((a===c||!a)&&setTimeout)return a=setTimeout,setTimeout(T,0);try{return a(T,0)}catch{try{return a.call(null,T,0)}catch{return a.call(this,T,0)}}}function f(T){if(l===clearTimeout)return clearTimeout(T);if((l===d||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(T);try{return l(T)}catch{try{return l.call(null,T)}catch{return l.call(this,T)}}}var u=[],p=!1,g,m=-1;function b(){!p||!g||(p=!1,g.length?u=g.concat(u):m=-1,u.length&&w())}function w(){if(!p){var T=h(b);p=!0;for(var A=u.length;A;){for(g=u,u=[];++m<A;)g&&g[m].run();m=-1,A=u.length}g=null,p=!1,f(T)}}o.nextTick=function(T){var A=new Array(arguments.length-1);if(arguments.length>1)for(var O=1;O<arguments.length;O++)A[O-1]=arguments[O];u.push(new C(T,A)),u.length===1&&!p&&h(w)};function C(T,A){this.fun=T,this.array=A}C.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={};function x(){}o.on=x,o.addListener=x,o.once=x,o.off=x,o.removeListener=x,o.removeAllListeners=x,o.emit=x,o.prependListener=x,o.prependOnceListener=x,o.listeners=function(T){return[]},o.binding=function(T){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(T){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],86:[function(i,r,s){(function(o){(function(){(function(a){var l=typeof s=="object"&&s&&!s.nodeType&&s,c=typeof r=="object"&&r&&!r.nodeType&&r,d=typeof o=="object"&&o;(d.global===d||d.window===d||d.self===d)&&(a=d);var h,f=2147483647,u=36,p=1,g=26,m=38,b=700,w=72,C=128,x="-",T=/^xn--/,A=/[^\x20-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,B={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},$=u-p,k=Math.floor,N=String.fromCharCode,M;function G(q){throw new RangeError(B[q])}function P(q,Y){for(var te=q.length,ie=[];te--;)ie[te]=Y(q[te]);return ie}function ue(q,Y){var te=q.split("@"),ie="";te.length>1&&(ie=te[0]+"@",q=te[1]),q=q.replace(O,".");var ee=q.split("."),J=P(ee,Y).join(".");return ie+J}function X(q){for(var Y=[],te=0,ie=q.length,ee,J;te<ie;)ee=q.charCodeAt(te++),ee>=55296&&ee<=56319&&te<ie?(J=q.charCodeAt(te++),(J&64512)==56320?Y.push(((ee&1023)<<10)+(J&1023)+65536):(Y.push(ee),te--)):Y.push(ee);return Y}function Q(q){return P(q,function(Y){var te="";return Y>65535&&(Y-=65536,te+=N(Y>>>10&1023|55296),Y=56320|Y&1023),te+=N(Y),te}).join("")}function W(q){return q-48<10?q-22:q-65<26?q-65:q-97<26?q-97:u}function S(q,Y){return q+22+75*(q<26)-((Y!=0)<<5)}function R(q,Y,te){var ie=0;for(q=te?k(q/b):q>>1,q+=k(q/Y);q>$*g>>1;ie+=u)q=k(q/$);return k(ie+($+1)*q/(q+m))}function U(q){var Y=[],te=q.length,ie,ee=0,J=C,H=w,E,K,oe,V,F,L,Z,se,D;for(E=q.lastIndexOf(x),E<0&&(E=0),K=0;K<E;++K)q.charCodeAt(K)>=128&&G("not-basic"),Y.push(q.charCodeAt(K));for(oe=E>0?E+1:0;oe<te;){for(V=ee,F=1,L=u;oe>=te&&G("invalid-input"),Z=W(q.charCodeAt(oe++)),(Z>=u||Z>k((f-ee)/F))&&G("overflow"),ee+=Z*F,se=L<=H?p:L>=H+g?g:L-H,!(Z<se);L+=u)D=u-se,F>k(f/D)&&G("overflow"),F*=D;ie=Y.length+1,H=R(ee-V,ie,V==0),k(ee/ie)>f-J&&G("overflow"),J+=k(ee/ie),ee%=ie,Y.splice(ee++,0,J)}return Q(Y)}function z(q){var Y,te,ie,ee,J,H,E,K,oe,V,F,L=[],Z,se,D,y;for(q=X(q),Z=q.length,Y=C,te=0,J=w,H=0;H<Z;++H)F=q[H],F<128&&L.push(N(F));for(ie=ee=L.length,ee&&L.push(x);ie<Z;){for(E=f,H=0;H<Z;++H)F=q[H],F>=Y&&F<E&&(E=F);for(se=ie+1,E-Y>k((f-te)/se)&&G("overflow"),te+=(E-Y)*se,Y=E,H=0;H<Z;++H)if(F=q[H],F<Y&&++te>f&&G("overflow"),F==Y){for(K=te,oe=u;V=oe<=J?p:oe>=J+g?g:oe-J,!(K<V);oe+=u)y=K-V,D=u-V,L.push(N(S(V+y%D,0))),K=k(y/D);L.push(N(S(K,0))),J=R(te,se,ie==ee),te=0,++ie}++te,++Y}return L.join("")}function ce(q){return ue(q,function(Y){return T.test(Y)?U(Y.slice(4).toLowerCase()):Y})}function re(q){return ue(q,function(Y){return A.test(Y)?"xn--"+z(Y):Y})}if(h={version:"1.4.1",ucs2:{decode:X,encode:Q},decode:U,encode:z,toASCII:re,toUnicode:ce},typeof e=="function"&&typeof e.amd=="object"&&e.amd)e("punycode",function(){return h});else if(l&&c)if(r.exports==l)c.exports=h;else for(M in h)h.hasOwnProperty(M)&&(l[M]=h[M]);else a.punycode=h})(this)}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],87:[function(i,r,s){"use strict";function o(l,c){return Object.prototype.hasOwnProperty.call(l,c)}r.exports=function(l,c,d,h){c=c||"&",d=d||"=";var f={};if(typeof l!="string"||l.length===0)return f;var u=/\+/g;l=l.split(c);var p=1e3;h&&typeof h.maxKeys=="number"&&(p=h.maxKeys);var g=l.length;p>0&&g>p&&(g=p);for(var m=0;m<g;++m){var b=l[m].replace(u,"%20"),w=b.indexOf(d),C,x,T,A;w>=0?(C=b.substr(0,w),x=b.substr(w+1)):(C=b,x=""),T=decodeURIComponent(C),A=decodeURIComponent(x),o(f,T)?a(f[T])?f[T].push(A):f[T]=[f[T],A]:f[T]=A}return f};var a=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"}},{}],88:[function(i,r,s){"use strict";var o=function(d){switch(typeof d){case"string":return d;case"boolean":return d?"true":"false";case"number":return isFinite(d)?d:"";default:return""}};r.exports=function(d,h,f,u){return h=h||"&",f=f||"=",d===null&&(d=void 0),typeof d=="object"?l(c(d),function(p){var g=encodeURIComponent(o(p))+f;return a(d[p])?l(d[p],function(m){return g+encodeURIComponent(o(m))}).join(h):g+encodeURIComponent(o(d[p]))}).join(h):u?encodeURIComponent(o(u))+f+encodeURIComponent(o(d)):""};var a=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function l(d,h){if(d.map)return d.map(h);for(var f=[],u=0;u<d.length;u++)f.push(h(d[u],u));return f}var c=Object.keys||function(d){var h=[];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&h.push(f);return h}},{}],89:[function(i,r,s){"use strict";s.decode=s.parse=i("./decode"),s.encode=s.stringify=i("./encode")},{"./decode":87,"./encode":88}],90:[function(i,r,s){"use strict";var o=i("punycode"),a=i("./util");s.parse=B,s.resolve=k,s.resolveObject=N,s.format=$,s.Url=l;function l(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var c=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,f=["<",">",'"',"`"," ","\r",`
`,"	"],u=["{","}","|","\\","^","`"].concat(f),p=["'"].concat(u),g=["%","/","?",";","#"].concat(p),m=["/","?","#"],b=255,w=/^[+a-z0-9A-Z_-]{0,63}$/,C=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},T={javascript:!0,"javascript:":!0},A={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},O=i("querystring");function B(M,G,P){if(M&&a.isObject(M)&&M instanceof l)return M;var ue=new l;return ue.parse(M,G,P),ue}l.prototype.parse=function(M,G,P){if(!a.isString(M))throw new TypeError("Parameter 'url' must be a string, not "+typeof M);var ue=M.indexOf("?"),X=ue!==-1&&ue<M.indexOf("#")?"?":"#",Q=M.split(X),W=/\\/g;Q[0]=Q[0].replace(W,"/"),M=Q.join(X);var S=M;if(S=S.trim(),!P&&M.split("#").length===1){var R=h.exec(S);if(R)return this.path=S,this.href=S,this.pathname=R[1],R[2]?(this.search=R[2],G?this.query=O.parse(this.search.substr(1)):this.query=this.search.substr(1)):G&&(this.search="",this.query={}),this}var U=c.exec(S);if(U){U=U[0];var z=U.toLowerCase();this.protocol=z,S=S.substr(U.length)}if(P||U||S.match(/^\/\/[^@\/]+@[^@\/]+/)){var ce=S.substr(0,2)==="//";ce&&!(U&&T[U])&&(S=S.substr(2),this.slashes=!0)}if(!T[U]&&(ce||U&&!A[U])){for(var re=-1,q=0;q<m.length;q++){var Y=S.indexOf(m[q]);Y!==-1&&(re===-1||Y<re)&&(re=Y)}var te,ie;re===-1?ie=S.lastIndexOf("@"):ie=S.lastIndexOf("@",re),ie!==-1&&(te=S.slice(0,ie),S=S.slice(ie+1),this.auth=decodeURIComponent(te)),re=-1;for(var q=0;q<g.length;q++){var Y=S.indexOf(g[q]);Y!==-1&&(re===-1||Y<re)&&(re=Y)}re===-1&&(re=S.length),this.host=S.slice(0,re),S=S.slice(re),this.parseHost(),this.hostname=this.hostname||"";var ee=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ee)for(var J=this.hostname.split(/\./),q=0,H=J.length;q<H;q++){var E=J[q];if(E&&!E.match(w)){for(var K="",oe=0,V=E.length;oe<V;oe++)E.charCodeAt(oe)>127?K+="x":K+=E[oe];if(!K.match(w)){var F=J.slice(0,q),L=J.slice(q+1),Z=E.match(C);Z&&(F.push(Z[1]),L.unshift(Z[2])),L.length&&(S="/"+L.join(".")+S),this.hostname=F.join(".");break}}}this.hostname.length>b?this.hostname="":this.hostname=this.hostname.toLowerCase(),ee||(this.hostname=o.toASCII(this.hostname));var se=this.port?":"+this.port:"",D=this.hostname||"";this.host=D+se,this.href+=this.host,ee&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),S[0]!=="/"&&(S="/"+S))}if(!x[z])for(var q=0,H=p.length;q<H;q++){var y=p[q];if(S.indexOf(y)!==-1){var _=encodeURIComponent(y);_===y&&(_=escape(y)),S=S.split(y).join(_)}}var v=S.indexOf("#");v!==-1&&(this.hash=S.substr(v),S=S.slice(0,v));var I=S.indexOf("?");if(I!==-1?(this.search=S.substr(I),this.query=S.substr(I+1),G&&(this.query=O.parse(this.query)),S=S.slice(0,I)):G&&(this.search="",this.query={}),S&&(this.pathname=S),A[z]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var se=this.pathname||"",j=this.search||"";this.path=se+j}return this.href=this.format(),this};function $(M){return a.isString(M)&&(M=B(M)),M instanceof l?M.format():l.prototype.format.call(M)}l.prototype.format=function(){var M=this.auth||"";M&&(M=encodeURIComponent(M),M=M.replace(/%3A/i,":"),M+="@");var G=this.protocol||"",P=this.pathname||"",ue=this.hash||"",X=!1,Q="";this.host?X=M+this.host:this.hostname&&(X=M+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(X+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(Q=O.stringify(this.query));var W=this.search||Q&&"?"+Q||"";return G&&G.substr(-1)!==":"&&(G+=":"),this.slashes||(!G||A[G])&&X!==!1?(X="//"+(X||""),P&&P.charAt(0)!=="/"&&(P="/"+P)):X||(X=""),ue&&ue.charAt(0)!=="#"&&(ue="#"+ue),W&&W.charAt(0)!=="?"&&(W="?"+W),P=P.replace(/[?#]/g,function(S){return encodeURIComponent(S)}),W=W.replace("#","%23"),G+X+P+W+ue};function k(M,G){return B(M,!1,!0).resolve(G)}l.prototype.resolve=function(M){return this.resolveObject(B(M,!1,!0)).format()};function N(M,G){return M?B(M,!1,!0).resolveObject(G):G}l.prototype.resolveObject=function(M){if(a.isString(M)){var G=new l;G.parse(M,!1,!0),M=G}for(var P=new l,ue=Object.keys(this),X=0;X<ue.length;X++){var Q=ue[X];P[Q]=this[Q]}if(P.hash=M.hash,M.href==="")return P.href=P.format(),P;if(M.slashes&&!M.protocol){for(var W=Object.keys(M),S=0;S<W.length;S++){var R=W[S];R!=="protocol"&&(P[R]=M[R])}return A[P.protocol]&&P.hostname&&!P.pathname&&(P.path=P.pathname="/"),P.href=P.format(),P}if(M.protocol&&M.protocol!==P.protocol){if(!A[M.protocol]){for(var U=Object.keys(M),z=0;z<U.length;z++){var ce=U[z];P[ce]=M[ce]}return P.href=P.format(),P}if(P.protocol=M.protocol,!M.host&&!T[M.protocol]){for(var H=(M.pathname||"").split("/");H.length&&!(M.host=H.shift()););M.host||(M.host=""),M.hostname||(M.hostname=""),H[0]!==""&&H.unshift(""),H.length<2&&H.unshift(""),P.pathname=H.join("/")}else P.pathname=M.pathname;if(P.search=M.search,P.query=M.query,P.host=M.host||"",P.auth=M.auth,P.hostname=M.hostname||M.host,P.port=M.port,P.pathname||P.search){var re=P.pathname||"",q=P.search||"";P.path=re+q}return P.slashes=P.slashes||M.slashes,P.href=P.format(),P}var Y=P.pathname&&P.pathname.charAt(0)==="/",te=M.host||M.pathname&&M.pathname.charAt(0)==="/",ie=te||Y||P.host&&M.pathname,ee=ie,J=P.pathname&&P.pathname.split("/")||[],H=M.pathname&&M.pathname.split("/")||[],E=P.protocol&&!A[P.protocol];if(E&&(P.hostname="",P.port=null,P.host&&(J[0]===""?J[0]=P.host:J.unshift(P.host)),P.host="",M.protocol&&(M.hostname=null,M.port=null,M.host&&(H[0]===""?H[0]=M.host:H.unshift(M.host)),M.host=null),ie=ie&&(H[0]===""||J[0]==="")),te)P.host=M.host||M.host===""?M.host:P.host,P.hostname=M.hostname||M.hostname===""?M.hostname:P.hostname,P.search=M.search,P.query=M.query,J=H;else if(H.length)J||(J=[]),J.pop(),J=J.concat(H),P.search=M.search,P.query=M.query;else if(!a.isNullOrUndefined(M.search)){if(E){P.hostname=P.host=J.shift();var K=P.host&&P.host.indexOf("@")>0?P.host.split("@"):!1;K&&(P.auth=K.shift(),P.host=P.hostname=K.shift())}return P.search=M.search,P.query=M.query,(!a.isNull(P.pathname)||!a.isNull(P.search))&&(P.path=(P.pathname?P.pathname:"")+(P.search?P.search:"")),P.href=P.format(),P}if(!J.length)return P.pathname=null,P.search?P.path="/"+P.search:P.path=null,P.href=P.format(),P;for(var oe=J.slice(-1)[0],V=(P.host||M.host||J.length>1)&&(oe==="."||oe==="..")||oe==="",F=0,L=J.length;L>=0;L--)oe=J[L],oe==="."?J.splice(L,1):oe===".."?(J.splice(L,1),F++):F&&(J.splice(L,1),F--);if(!ie&&!ee)for(;F--;F)J.unshift("..");ie&&J[0]!==""&&(!J[0]||J[0].charAt(0)!=="/")&&J.unshift(""),V&&J.join("/").substr(-1)!=="/"&&J.push("");var Z=J[0]===""||J[0]&&J[0].charAt(0)==="/";if(E){P.hostname=P.host=Z?"":J.length?J.shift():"";var K=P.host&&P.host.indexOf("@")>0?P.host.split("@"):!1;K&&(P.auth=K.shift(),P.host=P.hostname=K.shift())}return ie=ie||P.host&&J.length,ie&&!Z&&J.unshift(""),J.length?P.pathname=J.join("/"):(P.pathname=null,P.path=null),(!a.isNull(P.pathname)||!a.isNull(P.search))&&(P.path=(P.pathname?P.pathname:"")+(P.search?P.search:"")),P.auth=M.auth||P.auth,P.slashes=P.slashes||M.slashes,P.href=P.format(),P},l.prototype.parseHost=function(){var M=this.host,G=d.exec(M);G&&(G=G[0],G!==":"&&(this.port=G.substr(1)),M=M.substr(0,M.length-G.length)),M&&(this.hostname=M)}},{"./util":91,punycode:86,querystring:89}],91:[function(i,r,s){"use strict";r.exports={isString:function(o){return typeof o=="string"},isObject:function(o){return typeof o=="object"&&o!==null},isNull:function(o){return o===null},isNullOrUndefined:function(o){return o==null}}},{}]},{},[17])(17)})});var pS=C_((Ote,fS)=>{"use strict";fS.exports=qB;function Fo(e){return e instanceof Buffer?Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}function qB(e){if(e=e||{},e.circles)return XB(e);return e.proto?i:n;function t(r,s){for(var o=Object.keys(r),a=new Array(o.length),l=0;l<o.length;l++){var c=o[l],d=r[c];typeof d!="object"||d===null?a[c]=d:d instanceof Date?a[c]=new Date(d):ArrayBuffer.isView(d)?a[c]=Fo(d):a[c]=s(d)}return a}function n(r){if(typeof r!="object"||r===null)return r;if(r instanceof Date)return new Date(r);if(Array.isArray(r))return t(r,n);if(r instanceof Map)return new Map(t(Array.from(r),n));if(r instanceof Set)return new Set(t(Array.from(r),n));var s={};for(var o in r)if(Object.hasOwnProperty.call(r,o)!==!1){var a=r[o];typeof a!="object"||a===null?s[o]=a:a instanceof Date?s[o]=new Date(a):a instanceof Map?s[o]=new Map(t(Array.from(a),n)):a instanceof Set?s[o]=new Set(t(Array.from(a),n)):ArrayBuffer.isView(a)?s[o]=Fo(a):s[o]=n(a)}return s}function i(r){if(typeof r!="object"||r===null)return r;if(r instanceof Date)return new Date(r);if(Array.isArray(r))return t(r,i);if(r instanceof Map)return new Map(t(Array.from(r),i));if(r instanceof Set)return new Set(t(Array.from(r),i));var s={};for(var o in r){var a=r[o];typeof a!="object"||a===null?s[o]=a:a instanceof Date?s[o]=new Date(a):a instanceof Map?s[o]=new Map(t(Array.from(a),i)):a instanceof Set?s[o]=new Set(t(Array.from(a),i)):ArrayBuffer.isView(a)?s[o]=Fo(a):s[o]=i(a)}return s}}function XB(e){var t=[],n=[];return e.proto?s:r;function i(o,a){for(var l=Object.keys(o),c=new Array(l.length),d=0;d<l.length;d++){var h=l[d],f=o[h];if(typeof f!="object"||f===null)c[h]=f;else if(f instanceof Date)c[h]=new Date(f);else if(ArrayBuffer.isView(f))c[h]=Fo(f);else{var u=t.indexOf(f);u!==-1?c[h]=n[u]:c[h]=a(f)}}return c}function r(o){if(typeof o!="object"||o===null)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return i(o,r);if(o instanceof Map)return new Map(i(Array.from(o),r));if(o instanceof Set)return new Set(i(Array.from(o),r));var a={};t.push(o),n.push(a);for(var l in o)if(Object.hasOwnProperty.call(o,l)!==!1){var c=o[l];if(typeof c!="object"||c===null)a[l]=c;else if(c instanceof Date)a[l]=new Date(c);else if(c instanceof Map)a[l]=new Map(i(Array.from(c),r));else if(c instanceof Set)a[l]=new Set(i(Array.from(c),r));else if(ArrayBuffer.isView(c))a[l]=Fo(c);else{var d=t.indexOf(c);d!==-1?a[l]=n[d]:a[l]=r(c)}}return t.pop(),n.pop(),a}function s(o){if(typeof o!="object"||o===null)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return i(o,s);if(o instanceof Map)return new Map(i(Array.from(o),s));if(o instanceof Set)return new Set(i(Array.from(o),s));var a={};t.push(o),n.push(a);for(var l in o){var c=o[l];if(typeof c!="object"||c===null)a[l]=c;else if(c instanceof Date)a[l]=new Date(c);else if(c instanceof Map)a[l]=new Map(i(Array.from(c),s));else if(c instanceof Set)a[l]=new Set(i(Array.from(c),s));else if(ArrayBuffer.isView(c))a[l]=Fo(c);else{var d=t.indexOf(c);d!==-1?a[l]=n[d]:a[l]=s(c)}}return t.pop(),n.pop(),a}}});var T_=null;var Hh=1,S_=Symbol("SIGNAL");function qe(e){let t=T_;return T_=e,t}var D_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function KD(e){if(!($h(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Hh)){if(!e.producerMustRecompute(e)&&!Uh(e)){e.dirty=!1,e.lastCleanEpoch=Hh;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Hh}}function E_(e){return e&&(e.nextProducerIndex=0),qe(e)}function A_(e,t){if(qe(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if($h(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)jh(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Uh(e){Pl(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==n.version||(KD(n),i!==n.version))return!0}return!1}function I_(e){if(Pl(e),$h(e))for(let t=0;t<e.producerNode.length;t++)jh(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function jh(e,t){if(JD(e),Pl(e),e.liveConsumerNode.length===1)for(let i=0;i<e.producerNode.length;i++)jh(e.producerNode[i],e.producerIndexOfThis[i]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[t],r=e.liveConsumerNode[t];Pl(r),r.producerIndexOfThis[i]=t}}function $h(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Pl(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function JD(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function eE(){throw new Error}var tE=eE;function M_(e){tE=e}function we(e){return typeof e=="function"}function ws(e){let n=e(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Vl=ws(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function hr(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ft=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(we(i))try{i()}catch(s){t=s instanceof Vl?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{k_(s)}catch(o){t=t??[],o instanceof Vl?t=[...t,...o.errors]:t.push(o)}}if(t)throw new Vl(t)}}add(t){var n;if(t&&t!==this)if(this.closed)k_(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&hr(n,t)}remove(t){let{_finalizers:n}=this;n&&hr(n,t),t instanceof e&&t._removeParent(this)}};ft.EMPTY=(()=>{let e=new ft;return e.closed=!0,e})();var Gh=ft.EMPTY;function Bl(e){return e instanceof ft||e&&"closed"in e&&we(e.remove)&&we(e.add)&&we(e.unsubscribe)}function k_(e){we(e)?e():e.unsubscribe()}var On={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Cs={setTimeout(e,t,...n){let{delegate:i}=Cs;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Cs;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Hl(e){Cs.setTimeout(()=>{let{onUnhandledError:t}=On;if(t)t(e);else throw e})}function fr(){}var O_=zh("C",void 0,void 0);function N_(e){return zh("E",void 0,e)}function R_(e){return zh("N",e,void 0)}function zh(e,t,n){return{kind:e,value:t,error:n}}var pr=null;function Ts(e){if(On.useDeprecatedSynchronousErrorHandling){let t=!pr;if(t&&(pr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:i}=pr;if(pr=null,n)throw i}}else e()}function F_(e){On.useDeprecatedSynchronousErrorHandling&&pr&&(pr.errorThrown=!0,pr.error=e)}var gr=class extends ft{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Bl(t)&&t.add(this)):this.destination=rE}static create(t,n,i){return new Ss(t,n,i)}next(t){this.isStopped?Yh(R_(t),this):this._next(t)}error(t){this.isStopped?Yh(N_(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Yh(O_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},nE=Function.prototype.bind;function Wh(e,t){return nE.call(e,t)}var qh=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){Ul(i)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){Ul(i)}else Ul(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Ul(n)}}},Ss=class extends gr{constructor(t,n,i){super();let r;if(we(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&On.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Wh(t.next,s),error:t.error&&Wh(t.error,s),complete:t.complete&&Wh(t.complete,s)}):r=t}this.destination=new qh(r)}};function Ul(e){On.useDeprecatedSynchronousErrorHandling?F_(e):Hl(e)}function iE(e){throw e}function Yh(e,t){let{onStoppedNotification:n}=On;n&&Cs.setTimeout(()=>n(e,t))}var rE={closed:!0,next:fr,error:iE,complete:fr};var Ds=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Yt(e){return e}function Xh(...e){return Qh(e)}function Qh(e){return e.length===0?Yt:e.length===1?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}var Oe=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){let s=oE(n)?n:new Ss(n,i,r);return Ts(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=L_(i),new i((r,s)=>{let o=new Ss({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Ds](){return this}pipe(...n){return Qh(n)(this)}toPromise(n){return n=L_(n),new n((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return e.create=t=>new e(t),e})();function L_(e){var t;return(t=e??On.Promise)!==null&&t!==void 0?t:Promise}function sE(e){return e&&we(e.next)&&we(e.error)&&we(e.complete)}function oE(e){return e&&e instanceof gr||sE(e)&&Bl(e)}function Zh(e){return we(e?.lift)}function Be(e){return t=>{if(Zh(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Fe(e,t,n,i,r){return new Kh(e,t,n,i,r)}var Kh=class extends gr{constructor(t,n,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Vi(){return Be((e,t)=>{let n=null;e._refCount++;let i=Fe(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let r=e._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}var Bi=class extends Oe{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Zh(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ft;let n=this.getSubject();t.add(this.source.subscribe(Fe(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ft.EMPTY)}return t}refCount(){return Vi()(this)}};var P_=ws(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ye=(()=>{class e extends Oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new jl(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new P_}next(n){Ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:s}=this;return i||r?Gh:(this.currentObservers=null,s.push(n),new ft(()=>{this.currentObservers=null,hr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){let n=new Oe;return n.source=this,n}}return e.create=(t,n)=>new jl(t,n),e})(),jl=class extends Ye{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)}error(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:Gh}};var xt=class extends Ye{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var $o={now(){return($o.delegate||Date).now()},delegate:void 0};var $l=class extends Ye{constructor(t=1/0,n=1/0,i=$o){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;n||(i.push(t),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!t.closed;o+=i?1:2)t.next(s[o]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){let o=n.now(),a=0;for(let l=1;l<i.length&&i[l]<=o;l+=2)a=l;a&&i.splice(0,a+1)}}};var Gl=class extends ft{constructor(t,n){super()}schedule(t,n=0){return this}};var Go={setInterval(e,t,...n){let{delegate:i}=Go;return i?.setInterval?i.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=Go;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var zl=class extends Gl{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var i;if(this.closed)return this;this.state=t;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(t,n,i=0){return Go.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Go.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i=!1,r;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,hr(i,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Es=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,i){return new this.schedulerActionCtor(this,t).schedule(i,n)}};Es.now=$o.now;var Wl=class extends Es{constructor(t,n=Es.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}}};var Jh=new Wl(zl),V_=Jh;var vt=new Oe(e=>e.complete());function Yl(e){return e&&we(e.schedule)}function ef(e){return e[e.length-1]}function As(e){return we(ef(e))?e.pop():void 0}function Gn(e){return Yl(ef(e))?e.pop():void 0}function B_(e,t){return typeof ef(e)=="number"?e.pop():t}function U_(e,t,n,i){var r=arguments.length,s=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,n):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}function j_(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(i.next(d))}catch(h){o(h)}}function l(d){try{c(i.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):r(d.value).then(a,l)}c((i=i.apply(e,t||[])).next())})}function H_(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function mr(e){return this instanceof mr?(this.v=e,this):new mr(e)}function $_(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(f){i[f]&&(r[f]=function(u){return new Promise(function(p,g){s.push([f,u,p,g])>1||a(f,u)})})}function a(f,u){try{l(i[f](u))}catch(p){h(s[0][3],p)}}function l(f){f.value instanceof mr?Promise.resolve(f.value.v).then(c,d):h(s[0][2],f)}function c(f){a("next",f)}function d(f){a("throw",f)}function h(f,u){f(u),s.shift(),s.length&&a(s[0][0],s[0][1])}}function G_(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof H_=="function"?H_(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){o=e[s](o),r(a,l,o.done,o.value)})}}function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var Is=e=>e&&typeof e.length=="number"&&typeof e!="function";function ql(e){return we(e?.then)}function Xl(e){return we(e[Ds])}function Ql(e){return Symbol.asyncIterator&&we(e?.[Symbol.asyncIterator])}function Zl(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function aE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Kl=aE();function Jl(e){return we(e?.[Kl])}function ec(e){return $_(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:i,done:r}=yield mr(n.read());if(r)return yield mr(void 0);yield yield mr(i)}}finally{n.releaseLock()}})}function tc(e){return we(e?.getReader)}function Xe(e){if(e instanceof Oe)return e;if(e!=null){if(Xl(e))return lE(e);if(Is(e))return cE(e);if(ql(e))return uE(e);if(Ql(e))return z_(e);if(Jl(e))return dE(e);if(tc(e))return hE(e)}throw Zl(e)}function lE(e){return new Oe(t=>{let n=e[Ds]();if(we(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function cE(e){return new Oe(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function uE(e){return new Oe(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Hl)})}function dE(e){return new Oe(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function z_(e){return new Oe(t=>{fE(e,t).catch(n=>t.error(n))})}function hE(e){return z_(ec(e))}function fE(e,t){var n,i,r,s;return j_(this,void 0,void 0,function*(){try{for(n=G_(e);i=yield n.next(),!i.done;){let o=i.value;if(t.next(o),t.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}t.complete()})}function en(e,t,n,i=0,r=!1){let s=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(s),!r)return s}function nc(e,t=0){return Be((n,i)=>{n.subscribe(Fe(i,r=>en(i,e,()=>i.next(r),t),()=>en(i,e,()=>i.complete(),t),r=>en(i,e,()=>i.error(r),t)))})}function ic(e,t=0){return Be((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function W_(e,t){return Xe(e).pipe(ic(t),nc(t))}function Y_(e,t){return Xe(e).pipe(ic(t),nc(t))}function q_(e,t){return new Oe(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}function X_(e,t){return new Oe(n=>{let i;return en(n,t,()=>{i=e[Kl](),en(n,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){n.error(o);return}s?n.complete():n.next(r)},0,!0)}),()=>we(i?.return)&&i.return()})}function rc(e,t){if(!e)throw new Error("Iterable cannot be null");return new Oe(n=>{en(n,t,()=>{let i=e[Symbol.asyncIterator]();en(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function Q_(e,t){return rc(ec(e),t)}function Z_(e,t){if(e!=null){if(Xl(e))return W_(e,t);if(Is(e))return q_(e,t);if(ql(e))return Y_(e,t);if(Ql(e))return rc(e,t);if(Jl(e))return X_(e,t);if(tc(e))return Q_(e,t)}throw Zl(e)}function pt(e,t){return t?Z_(e,t):Xe(e)}function Ae(...e){let t=Gn(e);return pt(e,t)}function Ms(e,t){let n=we(e)?e:()=>e,i=r=>r.error(n());return new Oe(t?r=>t.schedule(i,0,r):i)}function tf(e){return!!e&&(e instanceof Oe||we(e.lift)&&we(e.subscribe))}var fi=ws(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function K_(e){return e instanceof Date&&!isNaN(e)}function $e(e,t){return Be((n,i)=>{let r=0;n.subscribe(Fe(i,s=>{i.next(e.call(t,s,r++))}))})}var{isArray:pE}=Array;function gE(e,t){return pE(t)?e(...t):e(t)}function sc(e){return $e(t=>gE(e,t))}var{isArray:mE}=Array,{getPrototypeOf:_E,prototype:vE,keys:yE}=Object;function J_(e){if(e.length===1){let t=e[0];if(mE(t))return{args:t,keys:null};if(bE(t)){let n=yE(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}function bE(e){return e&&typeof e=="object"&&_E(e)===vE}function ev(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}function ks(...e){let t=Gn(e),n=As(e),{args:i,keys:r}=J_(e);if(i.length===0)return pt([],t);let s=new Oe(xE(i,t,r?o=>ev(r,o):Yt));return n?s.pipe(sc(n)):s}function xE(e,t,n=Yt){return i=>{tv(t,()=>{let{length:r}=e,s=new Array(r),o=r,a=r;for(let l=0;l<r;l++)tv(t,()=>{let c=pt(e[l],t),d=!1;c.subscribe(Fe(i,h=>{s[l]=h,d||(d=!0,a--),a||i.next(n(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function tv(e,t,n){e?en(n,e,t):t()}function nv(e,t,n,i,r,s,o,a){let l=[],c=0,d=0,h=!1,f=()=>{h&&!l.length&&!c&&t.complete()},u=g=>c<i?p(g):l.push(g),p=g=>{s&&t.next(g),c++;let m=!1;Xe(n(g,d++)).subscribe(Fe(t,b=>{r?.(b),s?u(b):t.next(b)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<i;){let b=l.shift();o?en(t,o,()=>p(b)):p(b)}f()}catch(b){t.error(b)}}))};return e.subscribe(Fe(t,u,()=>{h=!0,f()})),()=>{a?.()}}function gt(e,t,n=1/0){return we(t)?gt((i,r)=>$e((s,o)=>t(i,s,r,o))(Xe(e(i,r))),n):(typeof t=="number"&&(n=t),Be((i,r)=>nv(i,r,e,n)))}function Hi(e=1/0){return gt(Yt,e)}function iv(){return Hi(1)}function Ui(...e){return iv()(pt(e,Gn(e)))}function oc(e){return new Oe(t=>{Xe(e()).subscribe(t)})}var wE=["addListener","removeListener"],CE=["addEventListener","removeEventListener"],TE=["on","off"];function tn(e,t,n,i){if(we(n)&&(i=n,n=void 0),i)return tn(e,t,n).pipe(sc(i));let[r,s]=EE(e)?CE.map(o=>a=>e[o](t,a,n)):SE(e)?wE.map(rv(e,t)):DE(e)?TE.map(rv(e,t)):[];if(!r&&Is(e))return gt(o=>tn(o,t,n))(Xe(e));if(!r)throw new TypeError("Invalid event target");return new Oe(o=>{let a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function rv(e,t){return n=>i=>e[n](t,i)}function SE(e){return we(e.addListener)&&we(e.removeListener)}function DE(e){return we(e.on)&&we(e.off)}function EE(e){return we(e.addEventListener)&&we(e.removeEventListener)}function nf(e=0,t,n=V_){let i=-1;return t!=null&&(Yl(t)?n=t:i=t),new Oe(r=>{let s=K_(e)?+e-n.now():e;s<0&&(s=0);let o=0;return n.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function ac(...e){let t=Gn(e),n=B_(e,1/0),i=e;return i.length?i.length===1?Xe(i[0]):Hi(n)(pt(i,t)):vt}var{isArray:AE}=Array;function lc(e){return e.length===1&&AE(e[0])?e[0]:e}function Et(e,t){return Be((n,i)=>{let r=0;n.subscribe(Fe(i,s=>e.call(t,s,r++)&&i.next(s)))})}function rf(...e){return e=lc(e),e.length===1?Xe(e[0]):new Oe(IE(e))}function IE(e){return t=>{let n=[];for(let i=0;n&&!t.closed&&i<e.length;i++)n.push(Xe(e[i]).subscribe(Fe(t,r=>{if(n){for(let s=0;s<n.length;s++)s!==i&&n[s].unsubscribe();n=null}t.next(r)})))}}function sf(e,t){return new Oe(n=>{let i=e(),r=t(i);return(r?Xe(r):vt).subscribe(n),()=>{i&&i.unsubscribe()}})}function zo(...e){let t=As(e),n=lc(e);return n.length?new Oe(i=>{let r=n.map(()=>[]),s=n.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<n.length;o++)Xe(n[o]).subscribe(Fe(i,a=>{if(r[o].push(a),r.every(l=>l.length)){let l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,d)=>!c.length&&s[d])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):vt}function ji(e){return Be((t,n)=>{let i=null,r=!1,s;i=t.subscribe(Fe(n,void 0,void 0,o=>{s=Xe(e(o,ji(e)(t))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function sv(e,t,n,i,r){return(s,o)=>{let a=n,l=t,c=0;s.subscribe(Fe(o,d=>{let h=c++;l=a?e(l,d,h):(a=!0,d),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function _r(e,t){return we(t)?gt(e,t,1):gt(e,1)}function ov(e){return new Oe(t=>e.subscribe(t))}var ME={connector:()=>new Ye};function cc(e,t=ME){let{connector:n}=t;return Be((i,r)=>{let s=n();Xe(e(ov(s))).subscribe(r),r.add(i.subscribe(s))})}function of(e,t=Jh){return Be((n,i)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let c=s;s=null,i.next(c)}};function l(){let c=o+e,d=t.now();if(d<c){r=this.schedule(void 0,c-d),i.add(r);return}a()}n.subscribe(Fe(i,c=>{s=c,o=t.now(),r||(r=t.schedule(l,e),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function $i(e){return Be((t,n)=>{let i=!1;t.subscribe(Fe(n,r=>{i=!0,n.next(r)},()=>{i||n.next(e),n.complete()}))})}function nn(e){return e<=0?()=>vt:Be((t,n)=>{let i=0;t.subscribe(Fe(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}function af(e){return $e(()=>e)}function uc(e=kE){return Be((t,n)=>{let i=!1;t.subscribe(Fe(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(e())))})}function kE(){return new fi}function lf(...e){return t=>Ui(t,Ae(...e))}function Os(e){return Be((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function zn(e,t){let n=arguments.length>=2;return i=>i.pipe(e?Et((r,s)=>e(r,s,i)):Yt,nn(1),n?$i(t):uc(()=>new fi))}function Ns(e){return e<=0?()=>vt:Be((t,n)=>{let i=[];t.subscribe(Fe(n,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function cf(e,t){let n=arguments.length>=2;return i=>i.pipe(e?Et((r,s)=>e(r,s,i)):Yt,Ns(1),n?$i(t):uc(()=>new fi))}function dc(e,t){let n=we(e)?e:()=>e;return we(t)?cc(t,{connector:n}):i=>new Bi(i,n)}function uf(e){return e?t=>cc(e)(t):t=>dc(new Ye)(t)}function df(e,t,n,i){n&&!we(n)&&(i=n);let r=we(n)?n:void 0;return s=>dc(new $l(e,t,i),r)(s)}function hf(e,t){return Be(sv(e,t,arguments.length>=2,!0))}function hc(...e){let t=Gn(e);return Be((n,i)=>{(t?Ui(e,n,t):Ui(e,n)).subscribe(i)})}function rn(e,t){return Be((n,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();n.subscribe(Fe(i,l=>{r?.unsubscribe();let c=0,d=s++;Xe(e(l,d)).subscribe(r=Fe(i,h=>i.next(t?t(l,h,d,c++):h),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Ht(e){return Be((t,n)=>{Xe(e).subscribe(Fe(n,()=>n.complete(),fr)),!n.closed&&t.subscribe(n)})}function At(e,t,n){let i=we(e)||t||n?{next:e,error:t,complete:n}:e;return i?Be((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(Fe(s,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),s.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),s.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),s.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):Yt}function fc(...e){let t=As(e);return Be((n,i)=>{let r=e.length,s=new Array(r),o=e.map(()=>!1),a=!1;for(let l=0;l<r;l++)Xe(e[l]).subscribe(Fe(i,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(Yt))&&(o=null))},fr));n.subscribe(Fe(i,l=>{if(a){let c=[l,...s];i.next(t?t(...c):c)}}))})}var Yv="https://g.co/ng/security#xss",he=class extends Error{constructor(t,n){super(Ip(t,n)),this.code=t}};function Ip(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function ra(e){return{toString:e}.toString()}var pc="__parameters__";function OE(e){return function(...n){if(e){let i=e(...n);for(let r in i)this[r]=i[r]}}}function qv(e,t,n){return ra(()=>{let i=OE(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(l,c,d){let h=l.hasOwnProperty(pc)?l[pc]:Object.defineProperty(l,pc,{value:[]})[pc];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(o),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var yt=globalThis;function st(e){for(let t in e)if(e[t]===st)return t;throw Error("Could not find renamed property on target object.")}function NE(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Xt(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Xt).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function Af(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var RE=st({__forward_ref__:st});function Qc(e){return e.__forward_ref__=Qc,e.toString=function(){return Xt(this())},e}function qt(e){return Xv(e)?e():e}function Xv(e){return typeof e=="function"&&e.hasOwnProperty(RE)&&e.__forward_ref__===Qc}function ve(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ce(e){return{providers:e.providers||[],imports:e.imports||[]}}function Zc(e){return av(e,Zv)||av(e,Kv)}function Qv(e){return Zc(e)!==null}function av(e,t){return e.hasOwnProperty(t)?e[t]:null}function FE(e){let t=e&&(e[Zv]||e[Kv]);return t||null}function lv(e){return e&&(e.hasOwnProperty(cv)||e.hasOwnProperty(LE))?e[cv]:null}var Zv=st({\u0275prov:st}),cv=st({\u0275inj:st}),Kv=st({ngInjectableDef:st}),LE=st({ngInjectorDef:st}),Se=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ve({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Jv(e){return e&&!!e.\u0275providers}var PE=st({\u0275cmp:st}),VE=st({\u0275dir:st}),BE=st({\u0275pipe:st}),HE=st({\u0275mod:st}),Ec=st({\u0275fac:st}),Wo=st({__NG_ELEMENT_ID__:st}),uv=st({__NG_ENV_ID__:st});function Kc(e){return typeof e=="string"?e:e==null?"":String(e)}function UE(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Kc(e)}function jE(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new he(-200,e)}function Mp(e,t){throw new he(-201,!1)}var je=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(je||{}),If;function ey(){return If}function sn(e){let t=If;return If=e,t}function ty(e,t,n){let i=Zc(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&je.Optional)return null;if(t!==void 0)return t;Mp(e,"Injector")}var $E={},qo=$E,Mf="__NG_DI_FLAG__",Ac="ngTempTokenPath",GE="ngTokenPath",zE=/\n/gm,WE="\u0275",dv="__source",Vs;function YE(){return Vs}function Gi(e){let t=Vs;return Vs=e,t}function qE(e,t=je.Default){if(Vs===void 0)throw new he(-203,!1);return Vs===null?ty(e,void 0,t):Vs.get(e,t&je.Optional?null:void 0,t)}function be(e,t=je.Default){return(ey()||qE)(qt(e),t)}function de(e,t=je.Default){return be(e,Jc(t))}function Jc(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function kf(e){let t=[];for(let n=0;n<e.length;n++){let i=qt(e[n]);if(Array.isArray(i)){if(i.length===0)throw new he(900,!1);let r,s=je.Default;for(let o=0;o<i.length;o++){let a=i[o],l=XE(a);typeof l=="number"?l===-1?r=a.token:s|=l:r=a}t.push(be(r,s))}else t.push(be(i))}return t}function ny(e,t){return e[Mf]=t,e.prototype[Mf]=t,e}function XE(e){return e[Mf]}function QE(e,t,n,i){let r=e[Ac];throw t[dv]&&r.unshift(t[dv]),e.message=ZE(`
`+e.message,r,n,i),e[GE]=r,e[Ac]=null,e}function ZE(e,t,n,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==WE?e.slice(2):e;let r=Xt(t);if(Array.isArray(t))r=t.map(Xt).join(" -> ");else if(typeof t=="object"){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Xt(a)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(zE,`
  `)}`}var sa=ny(qv("Optional"),8);var eu=ny(qv("SkipSelf"),4);function xr(e,t){let n=e.hasOwnProperty(Ec);return n?e[Ec]:null}function KE(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=t[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}function JE(e){return e.flat(Number.POSITIVE_INFINITY)}function kp(e,t){e.forEach(n=>Array.isArray(n)?kp(n,t):t(n))}function iy(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ic(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function eA(e,t){let n=[];for(let i=0;i<e;i++)n.push(t);return n}function tA(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(r===1)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;){let s=r-2;e[r]=e[s],r--}e[t]=n,e[t+1]=i}}function tu(e,t,n){let i=oa(e,t);return i>=0?e[i|1]=n:(i=~i,tA(e,i,t,n)),i}function ff(e,t){let n=oa(e,t);if(n>=0)return e[n|1]}function oa(e,t){return nA(e,t,1)}function nA(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){let s=i+(r-i>>1),o=e[s<<n];if(t===o)return s<<n;o>t?r=s:i=s+1}return~(r<<n)}var Hs={},on=[],Us=new Se(""),ry=new Se("",-1),sy=new Se(""),Mc=class{get(t,n=qo){if(n===qo){let i=new Error(`NullInjectorError: No provider for ${Xt(t)}!`);throw i.name="NullInjectorError",i}return n}},oy=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(oy||{}),qn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(qn||{}),Ln=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ln||{});function iA(e,t,n){let i=e.length;for(;;){let r=e.indexOf(t,n);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let s=t.length;if(r+s===i||e.charCodeAt(r+s)<=32)return r}n=r+1}}function Of(e,t,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let s=n[i++],o=n[i++],a=n[i++];e.setAttribute(t,o,a,s)}else{let s=r,o=n[++i];sA(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),i++}}return i}function rA(e){return e===3||e===4||e===6}function sA(e){return e.charCodeAt(0)===64}function Xo(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?hv(e,n,r,null,t[++i]):hv(e,n,r,null,null))}}return e}function hv(e,t,n,i,r){let s=0,o=e.length;if(t===-1)o=-1;else for(;s<e.length;){let a=e[s++];if(typeof a=="number"){if(a===t){o=-1;break}else if(a>t){o=s-1;break}}}for(;s<e.length;){let a=e[s];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(e[s+1]=r);return}else if(i===e[s+1]){e[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),i!==null&&e.splice(s++,0,i),r!==null&&e.splice(s++,0,r)}var ay="ng-template";function oA(e,t,n,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&iA(t[r+1].toLowerCase(),n,0)!==-1)return!0}else if(Op(e))return!1;if(r=t.indexOf(1,r),r>-1){let s;for(;++r<t.length&&typeof(s=t[r])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Op(e){return e.type===4&&e.value!==ay}function aA(e,t,n){let i=e.type===4&&!n?ay:e.value;return t===i}function lA(e,t,n){let i=4,r=e.attrs,s=r!==null?dA(r):0,o=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!o&&!Nn(i)&&!Nn(l))return!1;if(o&&Nn(l))continue;o=!1,i=l|i&1;continue}if(!o)if(i&4){if(i=2|i&1,l!==""&&!aA(e,l,n)||l===""&&t.length===1){if(Nn(i))return!1;o=!0}}else if(i&8){if(r===null||!oA(e,r,l,n)){if(Nn(i))return!1;o=!0}}else{let c=t[++a],d=cA(l,r,Op(e),n);if(d===-1){if(Nn(i))return!1;o=!0;continue}if(c!==""){let h;if(d>s?h="":h=r[d+1].toLowerCase(),i&2&&c!==h){if(Nn(i))return!1;o=!0}}}}return Nn(i)||o}function Nn(e){return(e&1)===0}function cA(e,t,n,i){if(t===null)return-1;let r=0;if(i||!n){let s=!1;for(;r<t.length;){let o=t[r];if(o===e)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return hA(t,e)}function ly(e,t,n=!1){for(let i=0;i<t.length;i++)if(lA(e,t[i],n))return!0;return!1}function uA(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if(!(n&1))return t[n+1]}return null}function dA(e){for(let t=0;t<e.length;t++){let n=e[t];if(rA(n))return t}return e.length}function hA(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let i=e[n];if(typeof i=="number")return-1;if(i===t)return n;n++}return-1}function fA(e,t){e:for(let n=0;n<t.length;n++){let i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function fv(e,t){return e?":not("+t.trim()+")":t}function pA(e){let t=e[0],n=1,i=2,r="",s=!1;for(;n<e.length;){let o=e[n];if(typeof o=="string")if(i&2){let a=e[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!Nn(o)&&(t+=fv(s,r),r=""),i=o,s=s||!Nn(i);n++}return r!==""&&(t+=fv(s,r)),t}function gA(e){return e.map(pA).join(",")}function mA(e){let t=[],n=[],i=1,r=2;for(;i<e.length;){let s=e[i];if(typeof s=="string")r===2?s!==""&&t.push(s,e[++i]):r===8&&n.push(s);else{if(!Nn(r))break;r=s}i++}return{attrs:t,classes:n}}function nt(e){return ra(()=>{let t=py(e),n=et(_e({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===oy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||qn.Emulated,styles:e.styles||on,_:null,schemas:e.schemas||null,tView:null,id:""});gy(n);let i=e.dependencies;return n.directiveDefs=gv(i,!1),n.pipeDefs=gv(i,!0),n.id=yA(n),n})}function _A(e){return pi(e)||uy(e)}function vA(e){return e!==null}function Te(e){return ra(()=>({type:e.type,bootstrap:e.bootstrap||on,declarations:e.declarations||on,imports:e.imports||on,exports:e.exports||on,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function pv(e,t){if(e==null)return Hs;let n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],s,o,a=Ln.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),t?(n[s]=a!==Ln.None?[i,a]:i,t[s]=o):n[s]=i}return n}function dn(e){return ra(()=>{let t=py(e);return gy(t),t})}function cy(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone===!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function pi(e){return e[PE]||null}function uy(e){return e[VE]||null}function dy(e){return e[BE]||null}function hy(e){let t=pi(e)||uy(e)||dy(e);return t!==null?t.standalone:!1}function fy(e,t){let n=e[HE]||null;if(!n&&t===!0)throw new Error(`Type ${Xt(e)} does not have '\u0275mod' property.`);return n}function py(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Hs,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||on,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pv(e.inputs,t),outputs:pv(e.outputs),debugInfo:null}}function gy(e){e.features?.forEach(t=>t(e))}function gv(e,t){if(!e)return null;let n=t?dy:_A;return()=>(typeof e=="function"?e():e).map(i=>n(i)).filter(vA)}function yA(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let r of n)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function bA(...e){return{\u0275providers:my(!0,e),\u0275fromNgModule:!0}}function my(e,...t){let n=[],i=new Set,r,s=o=>{n.push(o)};return kp(t,o=>{let a=o;Nf(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&_y(r,s),n}function _y(e,t){for(let n=0;n<e.length;n++){let{ngModule:i,providers:r}=e[n];Np(r,s=>{t(s,i)})}}function Nf(e,t,n,i){if(e=qt(e),!e)return!1;let r=null,s=lv(e),o=!s&&pi(e);if(!s&&!o){let l=e.ngModule;if(s=lv(l),s)r=l;else return!1}else{if(o&&!o.standalone)return!1;r=e}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)Nf(c,t,n,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let c;try{kp(s.imports,d=>{Nf(d,t,n,i)&&(c||=[],c.push(d))})}finally{}c!==void 0&&_y(c,t)}if(!a){let c=xr(r)||(()=>new r);t({provide:r,useFactory:c,deps:on},r),t({provide:sy,useValue:r,multi:!0},r),t({provide:Us,useValue:()=>be(r),multi:!0},r)}let l=s.providers;if(l!=null&&!a){let c=e;Np(l,d=>{t(d,c)})}}else return!1;return r!==e&&e.providers!==void 0}function Np(e,t){for(let n of e)Jv(n)&&(n=n.\u0275providers),Array.isArray(n)?Np(n,t):t(n)}var xA=st({provide:String,useValue:st});function vy(e){return e!==null&&typeof e=="object"&&xA in e}function wA(e){return!!(e&&e.useExisting)}function CA(e){return!!(e&&e.useFactory)}function js(e){return typeof e=="function"}function TA(e){return!!e.useClass}var nu=new Se(""),xc={},SA={},pf;function iu(){return pf===void 0&&(pf=new Mc),pf}var Ut=class{},Qo=class extends Ut{get destroyed(){return this._destroyed}constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ff(t,o=>this.processProvider(o)),this.records.set(ry,Rs(void 0,this)),r.has("environment")&&this.records.set(Ut,Rs(void 0,this));let s=this.records.get(nu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(sy,on,je.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=qe(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),qe(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=Gi(this),i=sn(void 0),r;try{return t()}finally{Gi(n),sn(i)}}get(t,n=qo,i=je.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(uv))return t[uv](this);i=Jc(i);let r,s=Gi(this),o=sn(void 0);try{if(!(i&je.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=MA(t)&&Zc(t);c&&this.injectableDefInScope(c)?l=Rs(Rf(t),xc):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=i&je.Self?iu():this.parent;return n=i&je.Optional&&n===qo?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ac]=a[Ac]||[]).unshift(Xt(t)),s)throw a;return QE(a,t,"R3InjectorError",this.source)}else throw a}finally{sn(o),Gi(s)}}resolveInjectorInitializers(){let t=qe(null),n=Gi(this),i=sn(void 0),r;try{let s=this.get(Us,on,je.Self);for(let o of s)o()}finally{Gi(n),sn(i),qe(t)}}toString(){let t=[],n=this.records;for(let i of n.keys())t.push(Xt(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(t){t=qt(t);let n=js(t)?t:qt(t&&t.provide),i=EA(t);if(!js(t)&&t.multi===!0){let r=this.records.get(n);r||(r=Rs(void 0,xc,!0),r.factory=()=>kf(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){let i=qe(null);try{return n.value===xc&&(n.value=SA,n.value=n.factory()),typeof n.value=="object"&&n.value&&IA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{qe(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=qt(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Rf(e){let t=Zc(e),n=t!==null?t.factory:xr(e);if(n!==null)return n;if(e instanceof Se)throw new he(204,!1);if(e instanceof Function)return DA(e);throw new he(204,!1)}function DA(e){if(e.length>0)throw new he(204,!1);let n=FE(e);return n!==null?()=>n.factory(e):()=>new e}function EA(e){if(vy(e))return Rs(void 0,e.useValue);{let t=yy(e);return Rs(t,xc)}}function yy(e,t,n){let i;if(js(e)){let r=qt(e);return xr(r)||Rf(r)}else if(vy(e))i=()=>qt(e.useValue);else if(CA(e))i=()=>e.useFactory(...kf(e.deps||[]));else if(wA(e))i=()=>be(qt(e.useExisting));else{let r=qt(e&&(e.useClass||e.provide));if(AA(e))i=()=>new r(...kf(e.deps));else return xr(r)||Rf(r)}return i}function Rs(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function AA(e){return!!e.deps}function IA(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function MA(e){return typeof e=="function"||typeof e=="object"&&e instanceof Se}function Ff(e,t){for(let n of e)Array.isArray(n)?Ff(n,t):n&&Jv(n)?Ff(n.\u0275providers,t):t(n)}function _i(e,t){e instanceof Qo&&e.assertNotDestroyed();let n,i=Gi(e),r=sn(void 0);try{return t()}finally{Gi(i),sn(r)}}function by(){return ey()!==void 0||YE()!=null}function kA(e){if(!by())throw new he(-203,!1)}function OA(e){let t=yt.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function NA(e){return typeof e=="function"}var vi=0,Le=1,ke=2,Ft=3,Fn=4,hn=5,Zo=6,Ko=7,wn=8,$s=9,Pn=10,wt=11,Jo=12,mv=13,qs=14,Vn=15,aa=16,Fs=17,gi=18,ru=19,xy=20,zi=21,gf=22,wr=23,Qt=25,wy=1;var Cr=7,kc=8,Gs=9,an=10,Rp=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Rp||{});function yr(e){return Array.isArray(e)&&typeof e[wy]=="object"}function yi(e){return Array.isArray(e)&&e[wy]===!0}function Fp(e){return(e.flags&4)!==0}function su(e){return e.componentOffset>-1}function ou(e){return(e.flags&1)===1}function Wi(e){return!!e.template}function RA(e){return(e[ke]&512)!==0}var Lf=class{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function Cy(e,t,n,i){t!==null?t.applyValueToInputSignal(t,i):e[n]=i}function ht(){return Ty}function Ty(e){return e.type.prototype.ngOnChanges&&(e.setInput=LA),FA}ht.ngInherit=!0;function FA(){let e=Dy(this),t=e?.current;if(t){let n=e.previous;if(n===Hs)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function LA(e,t,n,i,r){let s=this.declaredInputs[i],o=Dy(e)||PA(e,{previous:Hs,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new Lf(c&&c.currentValue,n,l===Hs),Cy(e,t,r,n)}var Sy="__ngSimpleChanges__";function Dy(e){return e[Sy]||null}function PA(e,t){return e[Sy]=t}var _v=null;var Wn=function(e,t,n){_v?.(e,t,n)},Ey="svg",VA="math",BA=!1;function HA(){return BA}function Xn(e){for(;Array.isArray(e);)e=e[vi];return e}function Ay(e,t){return Xn(t[e])}function Cn(e,t){return Xn(t[e.index])}function Lp(e,t){return e.data[t]}function Iy(e,t){return e[t]}function Xi(e,t){let n=t[e];return yr(n)?n:n[vi]}function UA(e){return(e[ke]&4)===4}function Pp(e){return(e[ke]&128)===128}function jA(e){return yi(e[Ft])}function zs(e,t){return t==null?null:e[t]}function My(e){e[Fs]=0}function $A(e){e[ke]&1024||(e[ke]|=1024,Pp(e)&&ea(e))}function GA(e,t){for(;e>0;)t=t[qs],e--;return t}function Vp(e){return!!(e[ke]&9216||e[wr]?.dirty)}function Pf(e){e[Pn].changeDetectionScheduler?.notify(1),Vp(e)?ea(e):e[ke]&64&&(HA()?(e[ke]|=1024,ea(e)):e[Pn].changeDetectionScheduler?.notify())}function ea(e){e[Pn].changeDetectionScheduler?.notify();let t=ta(e);for(;t!==null&&!(t[ke]&8192||(t[ke]|=8192,!Pp(t)));)t=ta(t)}function ky(e,t){if((e[ke]&256)===256)throw new he(911,!1);e[zi]===null&&(e[zi]=[]),e[zi].push(t)}function zA(e,t){if(e[zi]===null)return;let n=e[zi].indexOf(t);n!==-1&&e[zi].splice(n,1)}function ta(e){let t=e[Ft];return yi(t)?t[Ft]:t}var He={lFrame:By(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function WA(){return He.lFrame.elementDepthCount}function YA(){He.lFrame.elementDepthCount++}function qA(){He.lFrame.elementDepthCount--}function Oy(){return He.bindingsEnabled}function Ny(){return He.skipHydrationRootTNode!==null}function XA(e){return He.skipHydrationRootTNode===e}function QA(){He.skipHydrationRootTNode=null}function Ue(){return He.lFrame.lView}function It(){return He.lFrame.tView}function ut(e){return He.lFrame.contextLView=e,e[wn]}function dt(e){return He.lFrame.contextLView=null,e}function ln(){let e=Ry();for(;e!==null&&e.type===64;)e=e.parent;return e}function Ry(){return He.lFrame.currentTNode}function ZA(){let e=He.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function kr(e,t){let n=He.lFrame;n.currentTNode=e,n.isParent=t}function Bp(){return He.lFrame.isParent}function Hp(){He.lFrame.isParent=!1}function KA(){return He.lFrame.contextLView}function la(){let e=He.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function JA(e){return He.lFrame.bindingIndex=e}function au(){return He.lFrame.bindingIndex++}function Fy(e){let t=He.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function eI(){return He.lFrame.inI18n}function tI(e,t){let n=He.lFrame;n.bindingIndex=n.bindingRootIndex=e,Vf(t)}function nI(){return He.lFrame.currentDirectiveIndex}function Vf(e){He.lFrame.currentDirectiveIndex=e}function iI(e){let t=He.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Ly(){return He.lFrame.currentQueryIndex}function Up(e){He.lFrame.currentQueryIndex=e}function rI(e){let t=e[Le];return t.type===2?t.declTNode:t.type===1?e[hn]:null}function Py(e,t,n){if(n&je.SkipSelf){let r=t,s=e;for(;r=r.parent,r===null&&!(n&je.Host);)if(r=rI(s),r===null||(s=s[qs],r.type&10))break;if(r===null)return!1;t=r,e=s}let i=He.lFrame=Vy();return i.currentTNode=t,i.lView=e,!0}function jp(e){let t=Vy(),n=e[Le];He.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Vy(){let e=He.lFrame,t=e===null?null:e.child;return t===null?By(e):t}function By(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Hy(){let e=He.lFrame;return He.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Uy=Hy;function $p(){let e=Hy();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function sI(e){return(He.lFrame.contextLView=GA(e,He.lFrame.contextLView))[wn]}function Or(){return He.lFrame.selectedIndex}function Tr(e){He.lFrame.selectedIndex=e}function jy(){let e=He.lFrame;return Lp(e.tView,e.selectedIndex)}function xe(){He.lFrame.currentNamespace=Ey}function oI(){return He.lFrame.currentNamespace}var $y=!0;function lu(){return $y}function cu(e){$y=e}function aI(e,t,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){let o=Ty(t);(n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o)}r&&(n.preOrderHooks??=[]).push(0-e,r),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}function uu(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){let s=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=s;o&&(e.contentHooks??=[]).push(-n,o),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),d!=null&&(e.destroyHooks??=[]).push(n,d)}}function wc(e,t,n){Gy(e,t,3,n)}function Cc(e,t,n,i){(e[ke]&3)===n&&Gy(e,t,n,i)}function mf(e,t){let n=e[ke];(n&3)===t&&(n&=16383,n+=1,e[ke]=n)}function Gy(e,t,n,i){let r=i!==void 0?e[Fs]&65535:0,s=i??-1,o=t.length-1,a=0;for(let l=r;l<o;l++)if(typeof t[l+1]=="number"){if(a=t[l],i!=null&&a>=i)break}else t[l]<0&&(e[Fs]+=65536),(a<s||s==-1)&&(lI(e,n,t,l),e[Fs]=(e[Fs]&4294901760)+l+2),l++}function vv(e,t){Wn(4,e,t);let n=qe(null);try{t.call(e)}finally{qe(n),Wn(5,e,t)}}function lI(e,t,n,i){let r=n[i]<0,s=n[i+1],o=r?-n[i]:n[i],a=e[o];r?e[ke]>>14<e[Fs]>>16&&(e[ke]&3)===t&&(e[ke]+=16384,vv(a,s)):vv(a,s)}var Bs=-1,Sr=class{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function cI(e){return e instanceof Sr}function uI(e){return(e.flags&8)!==0}function dI(e){return(e.flags&16)!==0}function zy(e){return e!==Bs}function Oc(e){return e&32767}function hI(e){return e>>16}function Nc(e,t){let n=hI(e),i=t;for(;n>0;)i=i[qs],n--;return i}var Bf=!0;function Rc(e){let t=Bf;return Bf=e,t}var fI=256,Wy=fI-1,Yy=5,pI=0,Yn={};function gI(e,t,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Wo)&&(i=n[Wo]),i==null&&(i=n[Wo]=pI++);let r=i&Wy,s=1<<r;t.data[e+(r>>Yy)]|=s}function Fc(e,t){let n=qy(e,t);if(n!==-1)return n;let i=t[Le];i.firstCreatePass&&(e.injectorIndex=t.length,_f(i.data,e),_f(t,null),_f(i.blueprint,null));let r=Gp(e,t),s=e.injectorIndex;if(zy(r)){let o=Oc(r),a=Nc(r,t),l=a[Le].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=r,s}function _f(e,t){e.push(0,0,0,0,0,0,0,0,t)}function qy(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Gp(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;r!==null;){if(i=Jy(r),i===null)return Bs;if(n++,r=r[qs],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Bs}function Hf(e,t,n){gI(e,t,n)}function Xy(e,t,n){if(n&je.Optional||e!==void 0)return e;Mp(t,"NodeInjector")}function Qy(e,t,n,i){if(n&je.Optional&&i===void 0&&(i=null),!(n&(je.Self|je.Host))){let r=e[$s],s=sn(void 0);try{return r?r.get(t,i,n&je.Optional):ty(t,i,n&je.Optional)}finally{sn(s)}}return Xy(i,t,n)}function Zy(e,t,n,i=je.Default,r){if(e!==null){if(t[ke]&2048&&!(i&je.Self)){let o=yI(e,t,n,i,Yn);if(o!==Yn)return o}let s=Ky(e,t,n,i,Yn);if(s!==Yn)return s}return Qy(t,n,i,r)}function Ky(e,t,n,i,r){let s=_I(n);if(typeof s=="function"){if(!Py(t,e,i))return i&je.Host?Xy(r,n,i):Qy(t,n,i,r);try{let o;if(o=s(i),o==null&&!(i&je.Optional))Mp(n);else return o}finally{Uy()}}else if(typeof s=="number"){let o=null,a=qy(e,t),l=Bs,c=i&je.Host?t[Vn][hn]:null;for((a===-1||i&je.SkipSelf)&&(l=a===-1?Gp(e,t):t[a+8],l===Bs||!bv(i,!1)?a=-1:(o=t[Le],a=Oc(l),t=Nc(l,t)));a!==-1;){let d=t[Le];if(yv(s,a,d.data)){let h=mI(a,t,n,o,i,c);if(h!==Yn)return h}l=t[a+8],l!==Bs&&bv(i,t[Le].data[a+8]===c)&&yv(s,a,t)?(o=d,a=Oc(l),t=Nc(l,t)):a=-1}}return r}function mI(e,t,n,i,r,s){let o=t[Le],a=o.data[e+8],l=i==null?su(a)&&Bf:i!=o&&(a.type&3)!==0,c=r&je.Host&&s===a,d=Tc(a,o,n,l,c);return d!==null?Dr(t,o,d,a):Yn}function Tc(e,t,n,i,r){let s=e.providerIndexes,o=t.data,a=s&1048575,l=e.directiveStart,c=e.directiveEnd,d=s>>20,h=i?a:a+d,f=r?a+d:c;for(let u=h;u<f;u++){let p=o[u];if(u<l&&n===p||u>=l&&p.type===n)return u}if(r){let u=o[l];if(u&&Wi(u)&&u.type===n)return l}return null}function Dr(e,t,n,i){let r=e[n],s=t.data;if(cI(r)){let o=r;o.resolving&&jE(UE(s[n]));let a=Rc(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?sn(o.injectImpl):null,d=Py(e,i,je.Default);try{r=e[n]=o.factory(void 0,s,e,i),t.firstCreatePass&&n>=i.directiveStart&&aI(n,s[n],t)}finally{c!==null&&sn(c),Rc(a),o.resolving=!1,Uy()}}return r}function _I(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Wo)?e[Wo]:void 0;return typeof t=="number"?t>=0?t&Wy:vI:t}function yv(e,t,n){let i=1<<e;return!!(n[t+(e>>Yy)]&i)}function bv(e,t){return!(e&je.Self)&&!(e&je.Host&&t)}var br=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return Zy(this._tNode,this._lView,t,Jc(i),n)}};function vI(){return new br(ln(),Ue())}function Nr(e){return ra(()=>{let t=e.prototype.constructor,n=t[Ec]||Uf(t),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let s=r[Ec]||Uf(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Uf(e){return Xv(e)?()=>{let t=Uf(qt(e));return t&&t()}:xr(e)}function yI(e,t,n,i,r){let s=e,o=t;for(;s!==null&&o!==null&&o[ke]&2048&&!(o[ke]&512);){let a=Ky(s,o,n,i|je.Self,Yn);if(a!==Yn)return a;let l=s.parent;if(!l){let c=o[xy];if(c){let d=c.get(n,Yn,i);if(d!==Yn)return d}l=Jy(o),o=o[qs]}s=l}return r}function Jy(e){let t=e[Le],n=t.type;return n===2?t.declTNode:n===1?e[hn]:null}function xv(e,t=null,n=null,i){let r=eb(e,t,n,i);return r.resolveInjectorInitializers(),r}function eb(e,t=null,n=null,i,r=new Set){let s=[n||on,bA(e)];return i=i||(typeof e=="object"?void 0:Xt(e)),new Qo(s,t||iu(),i||null,r)}var Mt=(()=>{let t=class t{static create(i,r){if(Array.isArray(i))return xv({name:""},r,i,"");{let s=i.name??"";return xv({name:s},i.parent,i.providers,s)}}};t.THROW_IF_NOT_FOUND=qo,t.NULL=new Mc,t.\u0275prov=ve({token:t,providedIn:"any",factory:()=>be(ry)}),t.__NG_ELEMENT_ID__=-1;let e=t;return e})();var bI="ngOriginalError";function vf(e){return e[bI]}var Qn=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&vf(t);for(;n&&vf(n);)n=vf(n);return n||null}},tb=new Se("",{providedIn:"root",factory:()=>de(Qn).handleError.bind(void 0)}),du=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=xI,t.__NG_ENV_ID__=i=>i;let e=t;return e})(),jf=class extends du{constructor(t){super(),this._lView=t}onDestroy(t){return ky(this._lView,t),()=>zA(this._lView,t)}};function xI(){return new jf(Ue())}function wI(){return Xs(ln(),Ue())}function Xs(e,t){return new mt(Cn(e,t))}var mt=(()=>{let t=class t{constructor(i){this.nativeElement=i}};t.__NG_ELEMENT_ID__=wI;let e=t;return e})();function CI(e){return e instanceof mt?e.nativeElement:e}var $f=class extends Ye{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,by()&&(this.destroyRef=de(du,{optional:!0})??void 0)}emit(t){let n=qe(null);try{super.next(t)}finally{qe(n)}}subscribe(t,n,i){let r=t,s=n||(()=>null),o=i;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=yf(s),r&&(r=yf(r)),o&&(o=yf(o)));let a=super.subscribe({next:r,error:s,complete:o});return t instanceof ft&&t.add(a),a}};function yf(e){return t=>{setTimeout(e,void 0,t)}}var ye=$f;function TI(){return this._results[Symbol.iterator]()}var Gf=class e{get changes(){return this._changes??=new ye}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=e.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=TI)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let i=JE(t);(this._changesDetected=!KE(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function nb(e){return(e.flags&128)===128}var ib=new Map,SI=0;function DI(){return SI++}function EI(e){ib.set(e[ru],e)}function AI(e){ib.delete(e[ru])}var wv="__ngContext__";function Yi(e,t){yr(t)?(e[wv]=t[ru],EI(t)):e[wv]=t}function rb(e){return ob(e[Jo])}function sb(e){return ob(e[Fn])}function ob(e){for(;e!==null&&!yi(e);)e=e[Fn];return e}var zf;function ab(e){zf=e}function lb(){if(zf!==void 0)return zf;if(typeof document<"u")return document;throw new he(210,!1)}var hu=new Se("",{providedIn:"root",factory:()=>II}),II="ng",zp=new Se(""),Lt=new Se("",{providedIn:"platform",factory:()=>"unknown"});var Wp=new Se(""),Yp=new Se("",{providedIn:"root",factory:()=>lb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var MI="h",kI="b";var OI=()=>null;function qp(e,t,n=!1){return OI(e,t,n)}var cb=!1,NI=new Se("",{providedIn:"root",factory:()=>cb});var gc;function RI(){if(gc===void 0&&(gc=null,yt.trustedTypes))try{gc=yt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return gc}function fu(e){return RI()?.createHTML(e)||e}var mc;function FI(){if(mc===void 0&&(mc=null,yt.trustedTypes))try{mc=yt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return mc}function Cv(e){return FI()?.createHTML(e)||e}var Lc=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Yv})`}};function ca(e){return e instanceof Lc?e.changingThisBreaksApplicationSecurity:e}function ub(e,t){let n=LI(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Yv})`)}return n===t}function LI(e){return e instanceof Lc&&e.getTypeName()||null}function PI(e){let t=new Yf(e);return VI()?new Wf(t):t}var Wf=class{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let n=new window.DOMParser().parseFromString(fu(t),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}},Yf=class{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let n=this.inertDocument.createElement("template");return n.innerHTML=fu(t),n}};function VI(){try{return!!new window.DOMParser().parseFromString(fu(""),"text/html")}catch{return!1}}var BI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function db(e){return e=String(e),e.match(BI)?e:"unsafe:"+e}function bi(e){let t={};for(let n of e.split(","))t[n]=!0;return t}function ua(...e){let t={};for(let n of e)for(let i in n)n.hasOwnProperty(i)&&(t[i]=!0);return t}var hb=bi("area,br,col,hr,img,wbr"),fb=bi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pb=bi("rp,rt"),HI=ua(pb,fb),UI=ua(fb,bi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jI=ua(pb,bi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Tv=ua(hb,UI,jI,HI),gb=bi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$I=bi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),GI=bi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),zI=ua(gb,$I,GI),WI=bi("script,style,template"),qf=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,i=!0,r=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){r.push(n),n=XI(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=qI(n);if(s){n=s;break}n=r.pop()}}return this.buf.join("")}startElement(t){let n=Sv(t).toLowerCase();if(!Tv.hasOwnProperty(n))return this.sanitizedSomething=!0,!WI.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=t.attributes;for(let r=0;r<i.length;r++){let s=i.item(r),o=s.name,a=o.toLowerCase();if(!zI.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;gb[a]&&(l=db(l)),this.buf.push(" ",o,'="',Dv(l),'"')}return this.buf.push(">"),!0}endElement(t){let n=Sv(t).toLowerCase();Tv.hasOwnProperty(n)&&!hb.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(Dv(t))}};function YI(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function qI(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw mb(t);return t}function XI(e){let t=e.firstChild;if(t&&YI(e,t))throw mb(t);return t}function Sv(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function mb(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var QI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ZI=/([^\#-~ |!])/g;function Dv(e){return e.replace(/&/g,"&amp;").replace(QI,function(t){let n=t.charCodeAt(0),i=t.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(ZI,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var _c;function _b(e,t){let n=null;try{_c=_c||PI(e);let i=t?String(t):"";n=_c.getInertBodyElement(i);let r=5,s=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=_c.getInertBodyElement(i)}while(i!==s);let a=new qf().sanitizeChildren(Ev(n)||n);return fu(a)}finally{if(n){let i=Ev(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Ev(e){return"content"in e&&KI(e)?e.content:null}function KI(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var Xp=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Xp||{});function vb(e){let t=JI();return t?Cv(t.sanitize(Xp.HTML,e)||""):ub(e,"HTML")?Cv(ca(e)):_b(lb(),Kc(e))}function JI(){let e=Ue();return e&&e[Pn].sanitizer}var eM=/^>|^->|<!--|-->|--!>|<!-$/g,tM=/(<|>)/g,nM="\u200B$1\u200B";function iM(e){return e.replace(eM,t=>t.replace(tM,nM))}function pu(e){return e.ownerDocument.defaultView}function yb(e){return e instanceof Function?e():e}function rM(e){return(e??de(Mt)).get(Lt)==="browser"}var Zn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Zn||{}),sM;function Qp(e,t){return sM(e,t)}function Ls(e,t,n,i,r){if(i!=null){let s,o=!1;yi(i)?s=i:yr(i)&&(o=!0,i=i[vi]);let a=Xn(i);e===0&&n!==null?r==null?Tb(t,n,a):Vc(t,n,a,r||null,!0):e===1&&n!==null?Vc(t,n,a,r||null,!0):e===2?xM(t,a,o):e===3&&t.destroyNode(a),s!=null&&CM(t,e,s,n,r)}}function oM(e,t){return e.createText(t)}function aM(e,t,n){e.setValue(t,n)}function lM(e,t){return e.createComment(iM(t))}function bb(e,t,n){return e.createElement(t,n)}function cM(e,t){xb(e,t),t[vi]=null,t[hn]=null}function uM(e,t,n,i,r,s){i[vi]=r,i[hn]=t,mu(e,i,n,1,r,s)}function xb(e,t){t[Pn].changeDetectionScheduler?.notify(1),mu(e,t,t[wt],2,null,null)}function dM(e){let t=e[Jo];if(!t)return bf(e[Le],e);for(;t;){let n=null;if(yr(t))n=t[Jo];else{let i=t[an];i&&(n=i)}if(!n){for(;t&&!t[Fn]&&t!==e;)yr(t)&&bf(t[Le],t),t=t[Ft];t===null&&(t=e),yr(t)&&bf(t[Le],t),n=t&&t[Fn]}t=n}}function hM(e,t,n,i){let r=an+i,s=n.length;i>0&&(n[r-1][Fn]=t),i<s-an?(t[Fn]=n[r],iy(n,an+i,t)):(n.push(t),t[Fn]=null),t[Ft]=n;let o=t[aa];o!==null&&n!==o&&fM(o,t);let a=t[gi];a!==null&&a.insertView(e),Pf(t),t[ke]|=128}function fM(e,t){let n=e[Gs],r=t[Ft][Ft][Vn];t[Vn]!==r&&(e[ke]|=Rp.HasTransplantedViews),n===null?e[Gs]=[t]:n.push(t)}function wb(e,t){let n=e[Gs],i=n.indexOf(t);n.splice(i,1)}function Pc(e,t){if(e.length<=an)return;let n=an+t,i=e[n];if(i){let r=i[aa];r!==null&&r!==e&&wb(r,i),t>0&&(e[n-1][Fn]=i[Fn]);let s=Ic(e,an+t);cM(i[Le],i);let o=s[gi];o!==null&&o.detachView(s[Le]),i[Ft]=null,i[Fn]=null,i[ke]&=-129}return i}function Zp(e,t){if(!(t[ke]&256)){let n=t[wt];n.destroyNode&&mu(e,t,n,3,null,null),dM(t)}}function bf(e,t){if(t[ke]&256)return;let n=qe(null);try{t[ke]&=-129,t[ke]|=256,t[wr]&&I_(t[wr]),gM(e,t),pM(e,t),t[Le].type===1&&t[wt].destroy();let i=t[aa];if(i!==null&&yi(t[Ft])){i!==t[Ft]&&wb(i,t);let r=t[gi];r!==null&&r.detachView(e)}AI(t)}finally{qe(n)}}function pM(e,t){let n=e.cleanup,i=t[Ko];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[n[s+1]];n[s].call(o)}i!==null&&(t[Ko]=null);let r=t[zi];if(r!==null){t[zi]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function gM(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=t[n[i]];if(!(r instanceof Sr)){let s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],l=s[o+1];Wn(4,a,l);try{l.call(a)}finally{Wn(5,a,l)}}else{Wn(4,r,s);try{s.call(r)}finally{Wn(5,r,s)}}}}}function Cb(e,t,n){return mM(e,t.parent,n)}function mM(e,t,n){let i=t;for(;i!==null&&i.type&40;)t=i,i=t.parent;if(i===null)return n[vi];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=e.data[i.directiveStart+r];if(s===qn.None||s===qn.Emulated)return null}return Cn(i,n)}}function Vc(e,t,n,i,r){e.insertBefore(t,n,i,r)}function Tb(e,t,n){e.appendChild(t,n)}function Av(e,t,n,i,r){i!==null?Vc(e,t,n,i,r):Tb(e,t,n)}function _M(e,t,n,i){e.removeChild(t,n,i)}function Kp(e,t){return e.parentNode(t)}function vM(e,t){return e.nextSibling(t)}function Sb(e,t,n){return bM(e,t,n)}function yM(e,t,n){return e.type&40?Cn(e,n):null}var bM=yM,Iv;function gu(e,t,n,i){let r=Cb(e,i,t),s=t[wt],o=i.parent||t[hn],a=Sb(o,i,t);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Av(s,r,n[l],a,!1);else Av(s,r,n,a,!1);Iv!==void 0&&Iv(s,i,t,n,r)}function Sc(e,t){if(t!==null){let n=t.type;if(n&3)return Cn(t,e);if(n&4)return Xf(-1,e[t.index]);if(n&8){let i=t.child;if(i!==null)return Sc(e,i);{let r=e[t.index];return yi(r)?Xf(-1,r):Xn(r)}}else{if(n&32)return Qp(t,e)()||Xn(e[t.index]);{let i=Db(e,t);if(i!==null){if(Array.isArray(i))return i[0];let r=ta(e[Vn]);return Sc(r,i)}else return Sc(e,t.next)}}}return null}function Db(e,t){if(t!==null){let i=e[Vn][hn],r=t.projection;return i.projection[r]}return null}function Xf(e,t){let n=an+e+1;if(n<t.length){let i=t[n],r=i[Le].firstChild;if(r!==null)return Sc(i,r)}return t[Cr]}function xM(e,t,n){let i=Kp(e,t);i&&_M(e,i,t,n)}function Jp(e,t,n,i,r,s,o){for(;n!=null;){let a=i[n.index],l=n.type;if(o&&t===0&&(a&&Yi(Xn(a),i),n.flags|=2),(n.flags&32)!==32)if(l&8)Jp(e,t,n.child,i,r,s,!1),Ls(t,e,r,a,s);else if(l&32){let c=Qp(n,i),d;for(;d=c();)Ls(t,e,r,d,s);Ls(t,e,r,a,s)}else l&16?Eb(e,t,i,n,r,s):Ls(t,e,r,a,s);n=o?n.projectionNext:n.next}}function mu(e,t,n,i,r,s){Jp(n,i,e.firstChild,t,r,s,!1)}function wM(e,t,n){let i=t[wt],r=Cb(e,n,t),s=n.parent||t[hn],o=Sb(s,n,t);Eb(i,0,t,n,r,o)}function Eb(e,t,n,i,r,s){let o=n[Vn],l=o[hn].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];Ls(t,e,r,d,s)}else{let c=l,d=o[Ft];nb(i)&&(c.flags|=128),Jp(e,t,c,d,r,s,!0)}}function CM(e,t,n,i,r){let s=n[Cr],o=Xn(n);s!==o&&Ls(t,e,i,s,r);for(let a=an;a<n.length;a++){let l=n[a];mu(l[Le],l,e,t,i,s)}}function TM(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let s=i.indexOf("-")===-1?void 0:Zn.DashCase;r==null?e.removeStyle(n,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Zn.Important),e.setStyle(n,i,r,s))}}function SM(e,t,n){e.setAttribute(t,"style",n)}function Ab(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Ib(e,t,n){let{mergedAttrs:i,classes:r,styles:s}=n;i!==null&&Of(e,t,i),r!==null&&Ab(e,t,r),s!==null&&SM(e,t,s)}var Jn={};function ae(e=1){Mb(It(),Ue(),Or()+e,!1)}function Mb(e,t,n,i){if(!i)if((t[ke]&3)===3){let s=e.preOrderCheckHooks;s!==null&&wc(t,s,n)}else{let s=e.preOrderHooks;s!==null&&Cc(t,s,0,n)}Tr(n)}function Me(e,t=je.Default){let n=Ue();if(n===null)return be(e,t);let i=ln();return Zy(i,n,qt(e),t)}function kb(){let e="invalid";throw new Error(e)}function Ob(e,t,n,i,r,s){let o=qe(null);try{let a=null;r&Ln.SignalBased&&(a=t[i][S_]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&Ln.HasDecoratorInputTransform&&(s=e.inputTransforms[i].call(t,s)),e.setInput!==null?e.setInput(t,a,s,n,i):Cy(t,a,i,s)}finally{qe(o)}}function DM(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Tr(~r);else{let s=r,o=n[++i],a=n[++i];tI(o,s);let l=t[s];a(2,l)}}}finally{Tr(-1)}}function _u(e,t,n,i,r,s,o,a,l,c,d){let h=t.blueprint.slice();return h[vi]=r,h[ke]=i|4|128|8|64,(c!==null||e&&e[ke]&2048)&&(h[ke]|=2048),My(h),h[Ft]=h[qs]=e,h[wn]=n,h[Pn]=o||e&&e[Pn],h[wt]=a||e&&e[wt],h[$s]=l||e&&e[$s]||null,h[hn]=s,h[ru]=DI(),h[Zo]=d,h[xy]=c,h[Vn]=t.type==2?e[Vn]:h,h}function Qs(e,t,n,i,r){let s=e.data[t];if(s===null)s=EM(e,t,n,i,r),eI()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=i,s.attrs=r;let o=ZA();s.injectorIndex=o===null?-1:o.injectorIndex}return kr(s,!0),s}function EM(e,t,n,i,r){let s=Ry(),o=Bp(),a=o?s:s&&s.parent,l=e.data[t]=NM(e,a,n,t,i,r);return e.firstChild===null&&(e.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function Nb(e,t,n,i){if(n===0)return-1;let r=t.length;for(let s=0;s<n;s++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function Rb(e,t,n,i,r){let s=Or(),o=i&2;try{Tr(-1),o&&t.length>Qt&&Mb(e,t,Qt,!1),Wn(o?2:0,r),n(i,r)}finally{Tr(s),Wn(o?3:1,r)}}function eg(e,t,n){if(Fp(t)){let i=qe(null);try{let r=t.directiveStart,s=t.directiveEnd;for(let o=r;o<s;o++){let a=e.data[o];if(a.contentQueries){let l=n[o];a.contentQueries(1,l,o)}}}finally{qe(i)}}}function tg(e,t,n){Oy()&&(HM(e,t,n,Cn(n,t)),(n.flags&64)===64&&Pb(e,t,n))}function ng(e,t,n=Cn){let i=t.localNames;if(i!==null){let r=t.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?n(t,e):e[o];e[r++]=a}}}function Fb(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=ig(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function ig(e,t,n,i,r,s,o,a,l,c,d){let h=Qt+i,f=h+r,u=AM(h,f),p=typeof c=="function"?c():c;return u[Le]={type:e,blueprint:u,template:n,queries:null,viewQuery:a,declTNode:t,data:u.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:d}}function AM(e,t){let n=[];for(let i=0;i<t;i++)n.push(i<e?null:Jn);return n}function IM(e,t,n,i){let s=i.get(NI,cb)||n===qn.ShadowDom,o=e.selectRootElement(t,s);return MM(o),o}function MM(e){kM(e)}var kM=()=>null;function OM(e,t,n,i){let r=Hb(t);r.push(n),e.firstCreatePass&&Ub(e).push(i,r.length-1)}function NM(e,t,n,i,r,s){let o=t?t.injectorIndex:-1,a=0;return Ny()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Mv(e,t,n,i,r){for(let s in t){if(!t.hasOwnProperty(s))continue;let o=t[s];if(o===void 0)continue;i??={};let a,l=Ln.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(r!==null){if(!r.hasOwnProperty(s))continue;c=r[s]}e===0?kv(i,n,c,a,l):kv(i,n,c,a)}return i}function kv(e,t,n,i,r){let s;e.hasOwnProperty(n)?(s=e[n]).push(t,i):s=e[n]=[t,i],r!==void 0&&s.push(r)}function RM(e,t,n){let i=t.directiveStart,r=t.directiveEnd,s=e.data,o=t.attrs,a=[],l=null,c=null;for(let d=i;d<r;d++){let h=s[d],f=n?n.get(h):null,u=f?f.inputs:null,p=f?f.outputs:null;l=Mv(0,h.inputs,d,l,u),c=Mv(1,h.outputs,d,c,p);let g=l!==null&&o!==null&&!Op(t)?ZM(l,d,o):null;a.push(g)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function FM(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function LM(e,t,n,i,r,s,o,a){let l=Cn(t,n),c=t.inputs,d;!a&&c!=null&&(d=c[i])?(sg(e,n,d,i,r),su(t)&&PM(n,t.index)):t.type&3?(i=FM(i),r=o!=null?o(r,t.value||"",i):r,s.setProperty(l,i,r)):t.type&12}function PM(e,t){let n=Xi(t,e);n[ke]&16||(n[ke]|=64)}function rg(e,t,n,i){if(Oy()){let r=i===null?null:{"":-1},s=jM(e,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&Lb(e,t,n,o,r,a),r&&$M(n,i,r)}n.mergedAttrs=Xo(n.mergedAttrs,n.attrs)}function Lb(e,t,n,i,r,s){for(let c=0;c<i.length;c++)Hf(Fc(n,t),e,i[c].type);zM(n,e.data.length,i.length);for(let c=0;c<i.length;c++){let d=i[c];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,l=Nb(e,t,i.length,null);for(let c=0;c<i.length;c++){let d=i[c];n.mergedAttrs=Xo(n.mergedAttrs,d.hostAttrs),WM(e,n,t,l,d),GM(l,d,r),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let h=d.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}RM(e,n,s)}function VM(e,t,n,i,r){let s=r.hostBindings;if(s){let o=e.hostBindingOpCodes;o===null&&(o=e.hostBindingOpCodes=[]);let a=~t.index;BM(o)!=a&&o.push(a),o.push(n,i,s)}}function BM(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function HM(e,t,n,i){let r=n.directiveStart,s=n.directiveEnd;su(n)&&YM(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Fc(n,t),Yi(i,t);let o=n.initialInputs;for(let a=r;a<s;a++){let l=e.data[a],c=Dr(t,e,a,n);if(Yi(c,t),o!==null&&QM(t,a-r,c,l,n,o),Wi(l)){let d=Xi(n.index,t);d[wn]=Dr(t,e,a,n)}}}function Pb(e,t,n){let i=n.directiveStart,r=n.directiveEnd,s=n.index,o=nI();try{Tr(s);for(let a=i;a<r;a++){let l=e.data[a],c=t[a];Vf(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&UM(l,c)}}finally{Tr(-1),Vf(o)}}function UM(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function jM(e,t){let n=e.directiveRegistry,i=null,r=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(ly(t,o.selectors,!1))if(i||(i=[]),Wi(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let l=a.length;Qf(e,t,l)}else i.unshift(o),Qf(e,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function Qf(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function $M(e,t,n){if(t){let i=e.localNames=[];for(let r=0;r<t.length;r+=2){let s=n[t[r+1]];if(s==null)throw new he(-301,!1);i.push(t[r],s)}}}function GM(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Wi(t)&&(n[""]=e)}}function zM(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function WM(e,t,n,i,r){e.data[i]=r;let s=r.factory||(r.factory=xr(r.type,!0)),o=new Sr(s,Wi(r),Me);e.blueprint[i]=o,n[i]=o,VM(e,t,i,Nb(e,n,r.hostVars,Jn),r)}function YM(e,t,n){let i=Cn(t,e),r=Fb(n),s=e[Pn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=vu(e,_u(e,r,null,o,i,t,null,s.createRenderer(i,n),null,null,null));e[t.index]=a}function qM(e,t,n,i,r,s){let o=Cn(e,t);XM(t[wt],o,s,e.value,n,i,r)}function XM(e,t,n,i,r,s,o){if(s==null)e.removeAttribute(t,r,n);else{let a=o==null?Kc(s):o(s,i||"",r);e.setAttribute(t,r,a,n)}}function QM(e,t,n,i,r,s){let o=s[t];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],d=o[a++],h=o[a++];Ob(i,n,l,c,d,h)}}function ZM(e,t,n){let i=null,r=0;for(;r<n.length;){let s=n[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(e.hasOwnProperty(s)){i===null&&(i=[]);let o=e[s];for(let a=0;a<o.length;a+=3)if(o[a]===t){i.push(s,o[a+1],o[a+2],n[r+1]);break}}r+=2}return i}function Vb(e,t,n,i){return[e,!0,0,t,null,i,null,n,null,null]}function Bb(e,t){let n=e.contentQueries;if(n!==null){let i=qe(null);try{for(let r=0;r<n.length;r+=2){let s=n[r],o=n[r+1];if(o!==-1){let a=e.data[o];Up(s),a.contentQueries(2,t[o],o)}}}finally{qe(i)}}}function vu(e,t){return e[Jo]?e[mv][Fn]=t:e[Jo]=t,e[mv]=t,t}function Zf(e,t,n){Up(0);let i=qe(null);try{t(e,n)}finally{qe(i)}}function Hb(e){return e[Ko]||(e[Ko]=[])}function Ub(e){return e.cleanup||(e.cleanup=[])}function jb(e,t){let n=e[$s],i=n?n.get(Qn,null):null;i&&i.handleError(t)}function sg(e,t,n,i,r){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],l=n[s++],c=t[o],d=e.data[o];Ob(d,c,i,a,l,r)}}function KM(e,t,n){let i=Ay(t,e);aM(e[wt],i,n)}function JM(e,t){let n=Xi(t,e),i=n[Le];ek(i,n);let r=n[vi];r!==null&&n[Zo]===null&&(n[Zo]=qp(r,n[$s])),og(i,n,n[wn])}function ek(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function og(e,t,n){jp(t);try{let i=e.viewQuery;i!==null&&Zf(1,i,n);let r=e.template;r!==null&&Rb(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[gi]?.finishViewCreation(e),e.staticContentQueries&&Bb(e,t),e.staticViewQueries&&Zf(2,e.viewQuery,n);let s=e.components;s!==null&&tk(t,s)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[ke]&=-5,$p()}}function tk(e,t){for(let n=0;n<t.length;n++)JM(e,t[n])}function $b(e,t,n,i){let r=qe(null);try{let s=t.tView,a=e[ke]&4096?4096:16,l=_u(e,s,n,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=e[t.index];l[aa]=c;let d=e[gi];return d!==null&&(l[gi]=d.createEmbeddedView(s)),og(s,l,n),l}finally{qe(r)}}function nk(e,t){let n=an+t;if(n<e.length)return e[n]}function Kf(e,t){return!t||t.firstChild===null||nb(e)}function Gb(e,t,n,i=!0){let r=t[Le];if(hM(r,t,e,n),i){let o=Xf(n,e),a=t[wt],l=Kp(a,e[Cr]);l!==null&&uM(r,e[hn],a,t,l,o)}let s=t[Zo];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function ik(e,t){let n=Pc(e,t);return n!==void 0&&Zp(n[Le],n),n}function Bc(e,t,n,i,r=!1){for(;n!==null;){let s=t[n.index];s!==null&&i.push(Xn(s)),yi(s)&&rk(s,i);let o=n.type;if(o&8)Bc(e,t,n.child,i);else if(o&32){let a=Qp(n,t),l;for(;l=a();)i.push(l)}else if(o&16){let a=Db(t,n);if(Array.isArray(a))i.push(...a);else{let l=ta(t[Vn]);Bc(l[Le],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function rk(e,t){for(let n=an;n<e.length;n++){let i=e[n],r=i[Le].firstChild;r!==null&&Bc(i[Le],i,r,t)}e[Cr]!==e[vi]&&t.push(e[Cr])}var zb=[];function sk(e){return e[wr]??ok(e)}function ok(e){let t=zb.pop()??Object.create(lk);return t.lView=e,t}function ak(e){e.lView[wr]!==e&&(e.lView=null,zb.push(e))}var lk=et(_e({},D_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ea(e.lView)},consumerOnSignalRead(){this.lView[wr]=this}}),Wb=100;function Yb(e,t=!0,n=0){let i=e[Pn],r=i.rendererFactory,s=!1;s||r.begin?.();try{ck(e,n)}catch(o){throw t&&jb(e,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function ck(e,t){Jf(e,t);let n=0;for(;Vp(e);){if(n===Wb)throw new he(103,!1);n++,Jf(e,1)}}function uk(e,t,n,i){let r=t[ke];if((r&256)===256)return;let s=!1;!s&&t[Pn].inlineEffectRunner?.flush(),jp(t);let o=null,a=null;!s&&dk(e)&&(a=sk(t),o=E_(a));try{My(t),JA(e.bindingStartIndex),n!==null&&Rb(e,t,n,2,i);let l=(r&3)===3;if(!s)if(l){let h=e.preOrderCheckHooks;h!==null&&wc(t,h,null)}else{let h=e.preOrderHooks;h!==null&&Cc(t,h,0,null),mf(t,0)}if(hk(t),qb(t,0),e.contentQueries!==null&&Bb(e,t),!s)if(l){let h=e.contentCheckHooks;h!==null&&wc(t,h)}else{let h=e.contentHooks;h!==null&&Cc(t,h,1),mf(t,1)}DM(e,t);let c=e.components;c!==null&&Qb(t,c,0);let d=e.viewQuery;if(d!==null&&Zf(2,d,i),!s)if(l){let h=e.viewCheckHooks;h!==null&&wc(t,h)}else{let h=e.viewHooks;h!==null&&Cc(t,h,2),mf(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[gf]){for(let h of t[gf])h();t[gf]=null}s||(t[ke]&=-73)}catch(l){throw ea(t),l}finally{a!==null&&(A_(a,o),ak(a)),$p()}}function dk(e){return e.type!==2}function qb(e,t){for(let n=rb(e);n!==null;n=sb(n))for(let i=an;i<n.length;i++){let r=n[i];Xb(r,t)}}function hk(e){for(let t=rb(e);t!==null;t=sb(t)){if(!(t[ke]&Rp.HasTransplantedViews))continue;let n=t[Gs];for(let i=0;i<n.length;i++){let r=n[i],s=r[Ft];$A(r)}}}function fk(e,t,n){let i=Xi(t,e);Xb(i,n)}function Xb(e,t){Pp(e)&&Jf(e,t)}function Jf(e,t){let i=e[Le],r=e[ke],s=e[wr],o=!!(t===0&&r&16);if(o||=!!(r&64&&t===0),o||=!!(r&1024),o||=!!(s?.dirty&&Uh(s)),s&&(s.dirty=!1),e[ke]&=-9217,o)uk(i,e,i.template,e[wn]);else if(r&8192){qb(e,1);let a=i.components;a!==null&&Qb(e,a,1)}}function Qb(e,t,n){for(let i=0;i<t.length;i++)fk(e,t[i],n)}function ag(e){for(e[Pn].changeDetectionScheduler?.notify();e;){e[ke]|=64;let t=ta(e);if(RA(e)&&!t)return e;e=t}return null}var Er=class{get rootNodes(){let t=this._lView,n=t[Le];return Bc(n,t,n.firstChild,[])}constructor(t,n,i=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wn]}set context(t){this._lView[wn]=t}get destroyed(){return(this._lView[ke]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ft];if(yi(t)){let n=t[kc],i=n?n.indexOf(this):-1;i>-1&&(Pc(t,i),Ic(n,i))}this._attachedToViewContainer=!1}Zp(this._lView[Le],this._lView)}onDestroy(t){ky(this._lView,t)}markForCheck(){ag(this._cdRefInjectingView||this._lView)}detach(){this._lView[ke]&=-129}reattach(){Pf(this._lView),this._lView[ke]|=128}detectChanges(){this._lView[ke]|=1024,Yb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,xb(this._lView[Le],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=t,Pf(this._lView)}},mi=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=mk;let e=t;return e})(),pk=mi,gk=class extends pk{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,i){let r=$b(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:i});return new Er(r)}};function mk(){return yu(ln(),Ue())}function yu(e,t){return e.type&4?new gk(t,e,Xs(e,t)):null}var K6=new RegExp(`^(\\d+)*(${kI}|${MI})*(.*)`);var _k=()=>null;function ep(e,t){return _k(e,t)}var Ws=class{},tp=class{},Hc=class{};function vk(e){let t=Error(`No component factory found for ${Xt(e)}.`);return t[yk]=e,t}var yk="ngComponent";var np=class{resolveComponentFactory(t){throw vk(t)}},Zs=(()=>{let t=class t{};t.NULL=new np;let e=t;return e})(),Ar=class{},xi=(()=>{let t=class t{constructor(){this.destroyNode=null}};t.__NG_ELEMENT_ID__=()=>bk();let e=t;return e})();function bk(){let e=Ue(),t=ln(),n=Xi(t.index,e);return(yr(n)?n:e)[wt]}var xk=(()=>{let t=class t{};t.\u0275prov=ve({token:t,providedIn:"root",factory:()=>null});let e=t;return e})(),xf={};var Ov=new Set;function da(e){Ov.has(e)||(Ov.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Nv(...e){}function wk(){let e=typeof yt.requestAnimationFrame=="function",t=yt[e?"requestAnimationFrame":"setTimeout"],n=yt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){let i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}var We=class e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ye(!1),this.onMicrotaskEmpty=new ye(!1),this.onStable=new ye(!1),this.onError=new ye(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=wk().nativeRequestAnimationFrame,Sk(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new he(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,Ck,Nv,Nv);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}},Ck={};function lg(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Tk(e){e.isCheckStableRunning||e.lastRequestAnimationFrameId!==-1||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(yt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,ip(e),e.isCheckStableRunning=!0,lg(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),ip(e))}function Sk(e){let t=()=>{Tk(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{if(Dk(a))return n.invokeTask(r,s,o,a);try{return Rv(e),n.invokeTask(r,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Fv(e)}},onInvoke:(n,i,r,s,o,a,l)=>{try{return Rv(e),n.invoke(r,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),Fv(e)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,ip(e),lg(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function ip(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.lastRequestAnimationFrameId!==-1?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Rv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Fv(e){e._nesting--,lg(e)}var rp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ye,this.onMicrotaskEmpty=new ye,this.onStable=new ye,this.onError=new ye}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}};function Dk(e){return!Array.isArray(e)||e.length!==1?!1:e[0].data?.__ignore_ng_zone__===!0}function Ek(e="zone.js",t){return e==="noop"?new rp:e==="zone.js"?new We(t):e}var Ps=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Ps||{}),Ak={destroy(){}};function cg(e,t){!t&&kA(cg);let n=t?.injector??de(Mt);if(!rM(n))return Ak;da("NgAfterNextRender");let i=n.get(ug),r=i.handler??=new op,s=t?.phase??Ps.MixedReadWrite,o=()=>{r.unregister(l),a()},a=n.get(du).onDestroy(o),l=_i(n,()=>new sp(s,()=>{o(),e()}));return r.register(l),{destroy:o}}var sp=class{constructor(t,n){this.phase=t,this.callbackFn=n,this.zone=de(We),this.errorHandler=de(Qn,{optional:!0}),de(Ws,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}},op=class{constructor(){this.executingCallbacks=!1,this.buckets={[Ps.EarlyRead]:new Set,[Ps.Write]:new Set,[Ps.MixedReadWrite]:new Set,[Ps.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(let t of Object.values(this.buckets))for(let n of t)n.invoke();this.executingCallbacks=!1;for(let t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(let t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}},ug=(()=>{let t=class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};t.\u0275prov=ve({token:t,providedIn:"root",factory:()=>new t});let e=t;return e})();function Uc(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,s=0;if(t!==null)for(let o=0;o<t.length;o++){let a=t[o];if(typeof a=="number")s=a;else if(s==1)r=Af(r,a);else if(s==2){let l=a,c=t[++o];i=Af(i,l+": "+c+";")}}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}var jc=class extends Zs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=pi(t);return new Ir(n,this.ngModule)}};function Lv(e){let t=[];for(let n in e){if(!e.hasOwnProperty(n))continue;let i=e[n];i!==void 0&&t.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return t}function Ik(e){let t=e.toLowerCase();return t==="svg"?Ey:t==="math"?VA:null}var ap=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=Jc(i);let r=this.injector.get(t,xf,i);return r!==xf||n===xf?r:this.parentInjector.get(t,n,i)}},Ir=class extends Hc{get inputs(){let t=this.componentDef,n=t.inputTransforms,i=Lv(t.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return Lv(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=gA(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,r){let s=qe(null);try{r=r||this.ngModule;let o=r instanceof Ut?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new ap(t,o):t,l=a.get(Ar,null);if(l===null)throw new he(407,!1);let c=a.get(xk,null),d=a.get(ug,null),h=a.get(Ws,null),f={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:h},u=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",g=i?IM(u,i,this.componentDef.encapsulation,a):bb(u,p,Ik(p)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let b=null;g!==null&&(b=qp(g,a,!0));let w=ig(0,null,null,1,0,null,null,null,null,null,null),C=_u(null,w,null,m,null,null,f,u,a,null,b);jp(C);let x,T;try{let A=this.componentDef,O,B=null;A.findHostDirectiveDefs?(O=[],B=new Map,A.findHostDirectiveDefs(A,O,B),O.push(A)):O=[A];let $=Mk(C,g),k=kk($,g,A,O,C,f,u);T=Lp(w,Qt),g&&Rk(u,A,g,i),n!==void 0&&Fk(T,this.ngContentSelectors,n),x=Nk(k,A,O,B,C,[Lk]),og(w,C,null)}finally{$p()}return new lp(this.componentType,x,Xs(T,C),C,T)}finally{qe(s)}}},lp=class extends tp{constructor(t,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Er(r,void 0,!1),this.componentType=t}setInput(t,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let s=this._rootLView;sg(s[Le],s,r,t,n),this.previousInputValues.set(t,n);let o=Xi(this._tNode.index,s);ag(o)}}get injector(){return new br(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Mk(e,t){let n=e[Le],i=Qt;return e[i]=t,Qs(n,i,2,"#host",null)}function kk(e,t,n,i,r,s,o){let a=r[Le];Ok(i,e,t,o);let l=null;t!==null&&(l=qp(t,r[$s]));let c=s.rendererFactory.createRenderer(t,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let h=_u(r,Fb(n),null,d,r[e.index],e,s,c,null,null,l);return a.firstCreatePass&&Qf(a,e,i.length-1),vu(r,h),r[e.index]=h}function Ok(e,t,n,i){for(let r of e)t.mergedAttrs=Xo(t.mergedAttrs,r.hostAttrs);t.mergedAttrs!==null&&(Uc(t,t.mergedAttrs,!0),n!==null&&Ib(i,n,t))}function Nk(e,t,n,i,r,s){let o=ln(),a=r[Le],l=Cn(o,r);Lb(a,r,o,n,null,i);for(let d=0;d<n.length;d++){let h=o.directiveStart+d,f=Dr(r,a,h,o);Yi(f,r)}Pb(a,r,o),l&&Yi(l,r);let c=Dr(r,a,o.directiveStart+o.componentOffset,o);if(e[wn]=r[wn]=c,s!==null)for(let d of s)d(c,t);return eg(a,o,r),c}function Rk(e,t,n,i){if(i)Of(e,n,["ng-version","17.3.5"]);else{let{attrs:r,classes:s}=mA(t.selectors[0]);r&&Of(e,n,r),s&&s.length>0&&Ab(e,n,s.join(" "))}}function Fk(e,t,n){let i=e.projection=[];for(let r=0;r<t.length;r++){let s=n[r];i.push(s!=null?Array.from(s):null)}}function Lk(){let e=ln();uu(Ue()[Le],e)}var Tn=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=Pk;let e=t;return e})();function Pk(){let e=ln();return Kb(e,Ue())}var Vk=Tn,Zb=class extends Vk{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Xs(this._hostTNode,this._hostLView)}get injector(){return new br(this._hostTNode,this._hostLView)}get parentInjector(){let t=Gp(this._hostTNode,this._hostLView);if(zy(t)){let n=Nc(t,this._hostLView),i=Oc(t),r=n[Le].data[i+8];return new br(r,n)}else return new br(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Pv(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-an}createEmbeddedView(t,n,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=ep(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,r,Kf(this._hostTNode,o)),a}createComponent(t,n,i,r,s){let o=t&&!NA(t),a;if(o)a=n;else{let p=n||{};a=p.index,i=p.injector,r=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let l=o?t:new Ir(pi(t)),c=i||this.parentInjector;if(!s&&l.ngModule==null){let g=(o?c:this.parentInjector).get(Ut,null);g&&(s=g)}let d=pi(l.componentType??{}),h=ep(this._lContainer,d?.id??null),f=h?.firstChild??null,u=l.create(c,r,f,s);return this.insertImpl(u.hostView,a,Kf(this._hostTNode,h)),u}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,i){let r=t._lView;if(jA(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=r[Ft],c=new Zb(l,l[hn],l[Ft]);c.detach(c.indexOf(t))}}let s=this._adjustIndex(n),o=this._lContainer;return Gb(o,r,s,i),t.attachToViewContainerRef(),iy(wf(o),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Pv(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),i=Pc(this._lContainer,n);i&&(Ic(wf(this._lContainer),n),Zp(i[Le],i))}detach(t){let n=this._adjustIndex(t,-1),i=Pc(this._lContainer,n);return i&&Ic(wf(this._lContainer),n)!=null?new Er(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function Pv(e){return e[kc]}function wf(e){return e[kc]||(e[kc]=[])}function Kb(e,t){let n,i=t[e.index];return yi(i)?n=i:(n=Vb(i,t,null,e),t[e.index]=n,vu(t,n)),Hk(n,t,e,i),new Zb(n,e,t)}function Bk(e,t){let n=e[wt],i=n.createComment(""),r=Cn(t,e),s=Kp(n,r);return Vc(n,s,i,vM(n,r),!1),i}var Hk=$k,Uk=()=>!1;function jk(e,t,n){return Uk(e,t,n)}function $k(e,t,n,i){if(e[Cr])return;let r;n.type&8?r=Xn(i):r=Bk(t,n),e[Cr]=r}var cp=class e{constructor(t){this.queryList=t,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},up=class e{constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let i=t.contentQueries!==null?t.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)dg(t,n).matches!==null&&this.queries[n].setDirty()}},$c=class{constructor(t,n,i=null){this.flags=n,this.read=i,typeof t=="string"?this.predicate=Zk(t):this.predicate=t}},dp=class e{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,n!==null?n.push(s):n=[s])}return n!==null?new e(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},hp=class e{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(t,n,Gk(n,s)),this.matchTNodeWithReadOption(t,n,Tc(n,t,s,!1,!1))}else i===mi?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Tc(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===mt||r===Tn||r===mi&&n.type&4)this.addMatch(n.index,-2);else{let s=Tc(n,t,r,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function Gk(e,t){let n=e.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1]}return null}function zk(e,t){return e.type&11?Xs(e,t):e.type&4?yu(e,t):null}function Wk(e,t,n,i){return n===-1?zk(t,e):n===-2?Yk(e,t,i):Dr(e,e[Le],n,t)}function Yk(e,t,n){if(n===mt)return Xs(t,e);if(n===mi)return yu(t,e);if(n===Tn)return Kb(t,e)}function Jb(e,t,n,i){let r=t[gi].queries[i];if(r.matches===null){let s=e.data,o=n.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let d=s[c];a.push(Wk(t,d,o[l+1],n.metadata.read))}}r.matches=a}return r.matches}function fp(e,t,n,i){let r=e.queries.getByIndex(n),s=r.matches;if(s!==null){let o=Jb(e,t,r,n);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)i.push(o[a/2]);else{let c=s[a+1],d=t[-l];for(let h=an;h<d.length;h++){let f=d[h];f[aa]===f[Ft]&&fp(f[Le],f,c,i)}if(d[Gs]!==null){let h=d[Gs];for(let f=0;f<h.length;f++){let u=h[f];fp(u[Le],u,c,i)}}}}}return i}function qk(e,t){return e[gi].queries[t].queryList}function ex(e,t,n){let i=new Gf((n&4)===4);return OM(e,t,i,i.destroy),(t[gi]??=new up).queries.push(new cp(i))-1}function Xk(e,t,n){let i=It();return i.firstCreatePass&&(tx(i,new $c(e,t,n),-1),(t&2)===2&&(i.staticViewQueries=!0)),ex(i,Ue(),t)}function Qk(e,t,n,i){let r=It();if(r.firstCreatePass){let s=ln();tx(r,new $c(t,n,i),s.index),Kk(r,e),(n&2)===2&&(r.staticContentQueries=!0)}return ex(r,Ue(),n)}function Zk(e){return e.split(",").map(t=>t.trim())}function tx(e,t,n){e.queries===null&&(e.queries=new dp),e.queries.track(new hp(t,n))}function Kk(e,t){let n=e.contentQueries||(e.contentQueries=[]),i=n.length?n[n.length-1]:-1;t!==i&&n.push(e.queries.length-1,t)}function dg(e,t){return e.queries.getByIndex(t)}function Jk(e,t){let n=e[Le],i=dg(n,t);return i.crossesNgTemplate?fp(n,e,t,[]):Jb(n,e,i,t)}function eO(e){let t=[],n=new Map;function i(r){let s=n.get(r);if(!s){let o=e(r);n.set(r,s=o.then(rO))}return s}return Gc.forEach((r,s)=>{let o=[];r.templateUrl&&o.push(i(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,d=r.styleUrls;r.styleUrls.forEach((h,f)=>{a.push(""),o.push(i(h).then(u=>{a[c+f]=u,d.splice(d.indexOf(h),1),d.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&o.push(i(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(o).then(()=>sO(s));t.push(l)}),nO(),Promise.all(t).then(()=>{})}var Gc=new Map,tO=new Set;function nO(){let e=Gc;return Gc=new Map,e}function iO(){return Gc.size===0}function rO(e){return typeof e=="string"?e:e.text()}function sO(e){tO.delete(e)}function oO(e){return Object.getPrototypeOf(e.prototype).constructor}function ha(e){let t=oO(e.type),n=!0,i=[e];for(;t;){let r;if(Wi(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new he(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);let o=e;o.inputs=vc(e.inputs),o.inputTransforms=vc(e.inputTransforms),o.declaredInputs=vc(e.declaredInputs),o.outputs=vc(e.outputs);let a=r.hostBindings;a&&dO(e,a);let l=r.viewQuery,c=r.contentQueries;if(l&&cO(e,l),c&&uO(e,c),aO(e,r),NE(e.outputs,r.outputs),Wi(r)&&r.data.animation){let d=e.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(e),a===ha&&(n=!1)}}t=Object.getPrototypeOf(t)}lO(i)}function aO(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let i=t.inputs[n];if(i!==void 0&&(e.inputs[n]=i,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!t.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=t.inputTransforms[r]}}}function lO(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Xo(r.hostAttrs,n=Xo(n,r.hostAttrs))}}function vc(e){return e===Hs?{}:e===on?[]:e}function cO(e,t){let n=e.viewQuery;n?e.viewQuery=(i,r)=>{t(i,r),n(i,r)}:e.viewQuery=t}function uO(e,t){let n=e.contentQueries;n?e.contentQueries=(i,r,s)=>{t(i,r,s),n(i,r,s)}:e.contentQueries=t}function dO(e,t){let n=e.hostBindings;n?e.hostBindings=(i,r)=>{t(i,r),n(i,r)}:e.hostBindings=t}var qi=class{},na=class{};var zc=class extends qi{constructor(t,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jc(this);let r=fy(t);this._bootstrapComponents=yb(r.bootstrap),this._r3Injector=eb(t,n,[{provide:qi,useValue:this},{provide:Zs,useValue:this.componentFactoryResolver},...i],Xt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Wc=class extends na{constructor(t){super(),this.moduleType=t}create(t){return new zc(this.moduleType,t,[])}};function hO(e,t,n){return new zc(e,t,n)}var pp=class extends qi{constructor(t){super(),this.componentFactoryResolver=new jc(this),this.instance=null;let n=new Qo([...t.providers,{provide:qi,useValue:this},{provide:Zs,useValue:this.componentFactoryResolver}],t.parent||iu(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function bu(e,t,n=null){return new pp({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var xu=(()=>{let t=class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function nx(e){return hg(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function fO(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),i;for(;!(i=n.next()).done;)t(i.value)}}function hg(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function wu(e,t,n){return e[t]=n}function pO(e,t){return e[t]}function Kn(e,t,n){let i=e[t];return Object.is(i,n)?!1:(e[t]=n,!0)}function ix(e,t,n,i){let r=Kn(e,t,n);return Kn(e,t+1,i)||r}function gO(e,t,n,i,r){let s=ix(e,t,n,i);return Kn(e,t+2,r)||s}function mO(e){return(e.flags&32)===32}function _O(e,t,n,i,r,s,o,a,l){let c=t.consts,d=Qs(t,e,4,o||null,zs(c,a));rg(t,n,d,zs(c,l)),uu(t,d);let h=d.tView=ig(2,d,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,d),h.queries=t.queries.embeddedTView(d)),d}function Ie(e,t,n,i,r,s,o,a){let l=Ue(),c=It(),d=e+Qt,h=c.firstCreatePass?_O(d,c,l,t,n,i,r,s,o):c.data[d];kr(h,!1);let f=vO(c,l,h,e);lu()&&gu(c,l,f,h),Yi(f,l);let u=Vb(f,l,f,h);return l[d]=u,vu(l,u),jk(u,h,l),ou(h)&&tg(c,l,h),o!=null&&ng(l,h,a),Ie}var vO=yO;function yO(e,t,n,i){return cu(!0),t[wt].createComment("")}function Ne(e,t,n,i){let r=Ue(),s=au();if(Kn(r,s,t)){let o=It(),a=jy();qM(a,r,e,t,n,i)}return Ne}function rx(e,t,n,i){return Kn(e,au(),n)?t+Kc(n)+i:Jn}function yc(e,t){return e<<17|t<<2}function Mr(e){return e>>17&32767}function bO(e){return(e&2)==2}function xO(e,t){return e&131071|t<<17}function gp(e){return e|2}function Ys(e){return(e&131068)>>2}function Cf(e,t){return e&-131069|t<<2}function wO(e){return(e&1)===1}function mp(e){return e|1}function CO(e,t,n,i,r,s){let o=s?t.classBindings:t.styleBindings,a=Mr(o),l=Ys(o);e[i]=n;let c=!1,d;if(Array.isArray(n)){let h=n;d=h[1],(d===null||oa(h,d)>0)&&(c=!0)}else d=n;if(r)if(l!==0){let f=Mr(e[a+1]);e[i+1]=yc(f,a),f!==0&&(e[f+1]=Cf(e[f+1],i)),e[a+1]=xO(e[a+1],i)}else e[i+1]=yc(a,0),a!==0&&(e[a+1]=Cf(e[a+1],i)),a=i;else e[i+1]=yc(l,0),a===0?a=i:e[l+1]=Cf(e[l+1],i),l=i;c&&(e[i+1]=gp(e[i+1])),Vv(e,d,i,!0),Vv(e,d,i,!1),TO(t,d,e,i,s),o=yc(a,l),s?t.classBindings=o:t.styleBindings=o}function TO(e,t,n,i,r){let s=r?e.residualClasses:e.residualStyles;s!=null&&typeof t=="string"&&oa(s,t)>=0&&(n[i+1]=mp(n[i+1]))}function Vv(e,t,n,i){let r=e[n+1],s=t===null,o=i?Mr(r):Ys(r),a=!1;for(;o!==0&&(a===!1||s);){let l=e[o],c=e[o+1];SO(l,t)&&(a=!0,e[o+1]=i?mp(c):gp(c)),o=i?Mr(c):Ys(c)}a&&(e[n+1]=i?gp(r):mp(r))}function SO(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?oa(e,t)>=0:!1}var Rn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function DO(e){return e.substring(Rn.key,Rn.keyEnd)}function EO(e){return AO(e),sx(e,ox(e,0,Rn.textEnd))}function sx(e,t){let n=Rn.textEnd;return n===t?-1:(t=Rn.keyEnd=IO(e,Rn.key=t,n),ox(e,t,n))}function AO(e){Rn.key=0,Rn.keyEnd=0,Rn.value=0,Rn.valueEnd=0,Rn.textEnd=e.length}function ox(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function IO(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function fe(e,t,n){let i=Ue(),r=au();if(Kn(i,r,t)){let s=It(),o=jy();LM(s,o,i,e,t,i[wt],n,!1)}return fe}function _p(e,t,n,i,r){let s=t.inputs,o=r?"class":"style";sg(e,n,s[o],o,i)}function Zt(e,t,n){return lx(e,t,n,!1),Zt}function fn(e,t){return lx(e,t,null,!0),fn}function Ks(e){cx(FO,ax,e,!0)}function ax(e,t){for(let n=EO(t);n>=0;n=sx(t,n))tu(e,DO(t),!0)}function lx(e,t,n,i){let r=Ue(),s=It(),o=Fy(2);if(s.firstUpdatePass&&dx(s,e,o,i),t!==Jn&&Kn(r,o,t)){let a=s.data[Or()];hx(s,a,r,r[wt],e,r[o+1]=PO(t,n),i,o)}}function cx(e,t,n,i){let r=It(),s=Fy(2);r.firstUpdatePass&&dx(r,null,s,i);let o=Ue();if(n!==Jn&&Kn(o,s,n)){let a=r.data[Or()];if(fx(a,i)&&!ux(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=Af(l,n||"")),_p(r,a,o,n,i)}else LO(r,a,o,o[wt],o[s+1],o[s+1]=RO(e,t,n),i,s)}}function ux(e,t){return t>=e.expandoStartIndex}function dx(e,t,n,i){let r=e.data;if(r[n+1]===null){let s=r[Or()],o=ux(e,n);fx(s,i)&&t===null&&!o&&(t=!1),t=MO(r,s,t,i),CO(r,s,t,n,o,i)}}function MO(e,t,n,i){let r=iI(e),s=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(n=Tf(null,e,t,n,i),n=ia(n,t.attrs,i),s=null);else{let o=t.directiveStylingLast;if(o===-1||e[o]!==r)if(n=Tf(r,e,t,n,i),s===null){let l=kO(e,t,i);l!==void 0&&Array.isArray(l)&&(l=Tf(null,e,t,l[1],i),l=ia(l,t.attrs,i),OO(e,t,i,l))}else s=NO(e,t,i)}return s!==void 0&&(i?t.residualClasses=s:t.residualStyles=s),n}function kO(e,t,n){let i=n?t.classBindings:t.styleBindings;if(Ys(i)!==0)return e[Mr(i)]}function OO(e,t,n,i){let r=n?t.classBindings:t.styleBindings;e[Mr(r)]=i}function NO(e,t,n){let i,r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++){let o=e[s].hostAttrs;i=ia(i,o,n)}return ia(i,t.attrs,n)}function Tf(e,t,n,i,r){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=t[a],i=ia(i,s.hostAttrs,r),s!==e);)a++;return e!==null&&(n.directiveStylingLast=a),i}function ia(e,t,n){let i=n?1:2,r=-1;if(t!==null)for(let s=0;s<t.length;s++){let o=t[s];typeof o=="number"?r=o:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),tu(e,o,n?!0:t[++s]))}return e===void 0?null:e}function RO(e,t,n){if(n==null||n==="")return on;let i=[],r=ca(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)e(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&e(i,s,r[s]);else typeof r=="string"&&t(i,r);return i}function FO(e,t,n){let i=String(t);i!==""&&!i.includes(" ")&&tu(e,i,n)}function LO(e,t,n,i,r,s,o,a){r===Jn&&(r=on);let l=0,c=0,d=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;d!==null||h!==null;){let f=l<r.length?r[l+1]:void 0,u=c<s.length?s[c+1]:void 0,p=null,g;d===h?(l+=2,c+=2,f!==u&&(p=h,g=u)):h===null||d!==null&&d<h?(l+=2,p=d):(c+=2,p=h,g=u),p!==null&&hx(e,t,n,i,p,g,o,a),d=l<r.length?r[l]:null,h=c<s.length?s[c]:null}}function hx(e,t,n,i,r,s,o,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],d=wO(c)?Bv(l,t,n,r,Ys(c),o):void 0;if(!Yc(d)){Yc(s)||bO(c)&&(s=Bv(l,null,n,r,a,o));let h=Ay(Or(),n);TM(i,o,h,r,s)}}function Bv(e,t,n,i,r,s){let o=t===null,a;for(;r>0;){let l=e[r],c=Array.isArray(l),d=c?l[1]:l,h=d===null,f=n[r+1];f===Jn&&(f=h?on:void 0);let u=h?ff(f,i):d===i?f:void 0;if(c&&!Yc(u)&&(u=ff(l,i)),Yc(u)&&(a=u,o))return a;let p=e[r+1];r=o?Mr(p):Ys(p)}if(t!==null){let l=s?t.residualClasses:t.residualStyles;l!=null&&(a=ff(l,i))}return a}function Yc(e){return e!==void 0}function PO(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Xt(ca(e)))),e}function fx(e,t){return(e.flags&(t?8:16))!==0}function px(e,t,n){let i=Ue(),r=rx(i,e,t,n);cx(tu,ax,r,!0)}function Js(e,t,n){da("NgControlFlow");let i=Ue(),r=au(),s=VO(i,Qt+e),o=0;if(Kn(i,r,t)){let a=qe(null);try{if(ik(s,o),t!==-1){let l=BO(i[Le],Qt+t),c=ep(s,l.tView.ssrId),d=$b(i,l,n,{dehydratedView:c});Gb(s,d,o,Kf(l,c))}}finally{qe(a)}}else{let a=nk(s,o);a!==void 0&&(a[wn]=n)}}function VO(e,t){return e[t]}function BO(e,t){return Lp(e,t)}function HO(e,t,n,i,r,s){let o=t.consts,a=zs(o,r),l=Qs(t,e,2,i,a);return rg(t,n,l,zs(o,s)),l.attrs!==null&&Uc(l,l.attrs,!1),l.mergedAttrs!==null&&Uc(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function ge(e,t,n,i){let r=Ue(),s=It(),o=Qt+e,a=r[wt],l=s.firstCreatePass?HO(o,s,r,t,n,i):s.data[o],c=UO(s,r,l,a,t,e);r[o]=c;let d=ou(l);return kr(l,!0),Ib(a,c,l),!mO(l)&&lu()&&gu(s,r,c,l),WA()===0&&Yi(c,r),YA(),d&&(tg(s,r,l),eg(s,l,r)),i!==null&&ng(r,l),ge}function pe(){let e=ln();Bp()?Hp():(e=e.parent,kr(e,!1));let t=e;XA(t)&&QA(),qA();let n=It();return n.firstCreatePass&&(uu(n,e),Fp(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&uI(t)&&_p(n,t,Ue(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&dI(t)&&_p(n,t,Ue(),t.stylesWithoutHost,!1),pe}function Re(e,t,n,i){return ge(e,t,n,i),pe(),Re}var UO=(e,t,n,i,r,s)=>(cu(!0),bb(i,r,oI()));function jO(e,t,n,i,r){let s=t.consts,o=zs(s,i),a=Qs(t,e,8,"ng-container",o);o!==null&&Uc(a,o,!0);let l=zs(s,r);return rg(t,n,a,l),t.queries!==null&&t.queries.elementStart(t,a),a}function wi(e,t,n){let i=Ue(),r=It(),s=e+Qt,o=r.firstCreatePass?jO(s,r,i,t,n):r.data[s];kr(o,!0);let a=$O(r,i,o,e);return i[s]=a,lu()&&gu(r,i,a,o),Yi(a,i),ou(o)&&(tg(r,i,o),eg(r,o,i)),n!=null&&ng(i,o),wi}function Ci(){let e=ln(),t=It();return Bp()?Hp():(e=e.parent,kr(e,!1)),t.firstCreatePass&&(uu(t,e),Fp(e)&&t.queries.elementEnd(e)),Ci}function Cu(e,t,n){return wi(e,t,n),Ci(),Cu}var $O=(e,t,n,i)=>(cu(!0),lM(t[wt],""));function Kt(){return Ue()}var vr=void 0;function GO(e){let t=e,n=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&i===0?1:5}var zO=["en",[["a","p"],["AM","PM"],vr],[["AM","PM"],vr,vr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vr,"{1} 'at' {0}",vr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",GO],Sf={};function Sn(e){let t=WO(e),n=Hv(t);if(n)return n;let i=t.split("-")[0];if(n=Hv(i),n)return n;if(i==="en")return zO;throw new he(701,!1)}function Hv(e){return e in Sf||(Sf[e]=yt.ng&&yt.ng.common&&yt.ng.common.locales&&yt.ng.common.locales[e]),Sf[e]}var bt=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(bt||{});function WO(e){return e.toLowerCase().replace(/_/g,"-")}var qc="en-US";var YO=qc;function qO(e){typeof e=="string"&&(YO=e.toLowerCase().replace(/_/g,"-"))}function it(e,t,n,i){let r=Ue(),s=It(),o=ln();return QO(s,r,r[wt],o,e,t,i),it}function XO(e,t,n,i){let r=e.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===n&&r[s+1]===i){let a=t[Ko],l=r[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function QO(e,t,n,i,r,s,o){let a=ou(i),c=e.firstCreatePass&&Ub(e),d=t[wn],h=Hb(t),f=!0;if(i.type&3||o){let g=Cn(i,t),m=o?o(g):g,b=h.length,w=o?x=>o(Xn(x[i.index])):i.index,C=null;if(!o&&a&&(C=XO(e,t,r,i.index)),C!==null){let x=C.__ngLastListenerFn__||C;x.__ngNextListenerFn__=s,C.__ngLastListenerFn__=s,f=!1}else{s=jv(i,t,d,s,!1);let x=n.listen(m,r,s);h.push(s,x),c&&c.push(r,w,b,b+1)}}else s=jv(i,t,d,s,!1);let u=i.outputs,p;if(f&&u!==null&&(p=u[r])){let g=p.length;if(g)for(let m=0;m<g;m+=2){let b=p[m],w=p[m+1],T=t[b][w].subscribe(s),A=h.length;h.push(s,T),c&&c.push(r,i.index,A,-(A+1))}}}function Uv(e,t,n,i){let r=qe(null);try{return Wn(6,t,n),n(i)!==!1}catch(s){return jb(e,s),!1}finally{Wn(7,t,n),qe(r)}}function jv(e,t,n,i,r){return function s(o){if(o===Function)return i;let a=e.componentOffset>-1?Xi(e.index,t):t;ag(a);let l=Uv(t,n,i,o),c=s.__ngNextListenerFn__;for(;c;)l=Uv(t,n,c,o)&&l,c=c.__ngNextListenerFn__;return r&&l===!1&&o.preventDefault(),l}}function me(e=1){return sI(e)}function ZO(e,t){let n=null,i=uA(e);for(let r=0;r<t.length;r++){let s=t[r];if(s==="*"){n=r;continue}if(i===null?ly(e,s,!0):fA(i,s))return r}return n}function fa(e){let t=Ue()[Vn][hn];if(!t.projection){let n=e?e.length:1,i=t.projection=eA(n,null),r=i.slice(),s=t.child;for(;s!==null;){let o=e?ZO(s,e):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function pa(e,t=0,n){let i=Ue(),r=It(),s=Qs(r,Qt+e,16,null,n||null);s.projection===null&&(s.projection=t),Hp(),(!i[Zo]||Ny())&&(s.flags&32)!==32&&wM(r,i,s)}function ga(e,t,n,i){Qk(e,t,n,i)}function Ti(e,t,n){Xk(e,t,n)}function Dn(e){let t=Ue(),n=It(),i=Ly();Up(i+1);let r=dg(n,i);if(e.dirty&&UA(t)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let s=Jk(t,i);e.reset(s,CI),e.notifyOnChanges()}return!0}return!1}function En(){return qk(Ue(),Ly())}function KO(e,t,n,i){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=i}function Qi(e){let t=KA();return Iy(t,Qt+e)}function tt(e,t=""){let n=Ue(),i=It(),r=e+Qt,s=i.firstCreatePass?Qs(i,r,1,t,null):i.data[r],o=JO(i,n,s,t,e);n[r]=o,lu()&&gu(i,n,o,s),kr(s,!1)}var JO=(e,t,n,i,r)=>(cu(!0),oM(t[wt],i));function Bn(e){return kt("",e,""),Bn}function kt(e,t,n){let i=Ue(),r=rx(i,e,t,n);return r!==Jn&&KM(i,Or(),r),kt}function eN(e,t,n){let i=It();if(i.firstCreatePass){let r=Wi(e);vp(n,i.data,i.blueprint,r,!0),vp(t,i.data,i.blueprint,r,!1)}}function vp(e,t,n,i,r){if(e=qt(e),Array.isArray(e))for(let s=0;s<e.length;s++)vp(e[s],t,n,i,r);else{let s=It(),o=Ue(),a=ln(),l=js(e)?e:qt(e.provide),c=yy(e),d=a.providerIndexes&1048575,h=a.directiveStart,f=a.providerIndexes>>20;if(js(e)||!e.multi){let u=new Sr(c,r,Me),p=Ef(l,t,r?d:d+f,h);p===-1?(Hf(Fc(a,o),s,l),Df(s,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(u),o.push(u)):(n[p]=u,o[p]=u)}else{let u=Ef(l,t,d+f,h),p=Ef(l,t,d,d+f),g=u>=0&&n[u],m=p>=0&&n[p];if(r&&!m||!r&&!g){Hf(Fc(a,o),s,l);let b=iN(r?nN:tN,n.length,r,i,c);!r&&m&&(n[p].providerFactory=b),Df(s,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(b),o.push(b)}else{let b=gx(n[r?p:u],c,!r&&i);Df(s,e,u>-1?u:p,b)}!r&&i&&m&&n[p].componentProviders++}}}function Df(e,t,n,i){let r=js(t),s=TA(t);if(r||s){let l=(s?qt(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){let d=c.indexOf(n);d===-1?c.push(n,[i,l]):c[d+1].push(i,l)}else c.push(n,l)}}}function gx(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Ef(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function tN(e,t,n,i){return yp(this.multi,[])}function nN(e,t,n,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Dr(n,n[Le],this.providerFactory.index,i);s=a.slice(0,o),yp(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],yp(r,s);return s}function yp(e,t){for(let n=0;n<e.length;n++){let i=e[n];t.push(i())}return t}function iN(e,t,n,i,r){let s=new Sr(e,n,Me);return s.multi=[],s.index=t,s.componentProviders=0,gx(s,r,i&&!n),s}function Tu(e,t=[]){return n=>{n.providersResolver=(i,r)=>eN(i,r?r(e):e,t)}}var rN=(()=>{let t=class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=my(!1,i.type),s=r.length>0?bu([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};t.\u0275prov=ve({token:t,providedIn:"environment",factory:()=>new t(be(Ut))});let e=t;return e})();function ma(e){da("NgStandalone"),e.getStandaloneInjector=t=>t.get(rN).getOrCreateStandaloneInjector(e)}function Su(e,t,n){let i=la()+e,r=Ue();return r[i]===Jn?wu(r,i,n?t.call(n):t()):pO(r,i)}function eo(e,t,n,i){return sN(Ue(),la(),e,t,n,i)}function Du(e,t,n,i,r){return mx(Ue(),la(),e,t,n,i,r)}function Eu(e,t,n,i,r,s){return oN(Ue(),la(),e,t,n,i,r,s)}function fg(e,t){let n=e[t];return n===Jn?void 0:n}function sN(e,t,n,i,r,s){let o=t+n;return Kn(e,o,r)?wu(e,o+1,s?i.call(s,r):i(r)):fg(e,o+1)}function mx(e,t,n,i,r,s,o){let a=t+n;return ix(e,a,r,s)?wu(e,a+2,o?i.call(o,r,s):i(r,s)):fg(e,a+2)}function oN(e,t,n,i,r,s,o,a){let l=t+n;return gO(e,l,r,s,o)?wu(e,l+3,a?i.call(a,r,s,o):i(r,s,o)):fg(e,l+3)}function Au(e,t){let n=It(),i,r=e+Qt;n.firstCreatePass?(i=aN(t,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let s=i.factory||(i.factory=xr(i.type,!0)),o,a=sn(Me);try{let l=Rc(!1),c=s();return Rc(l),KO(n,Ue(),r,c),c}finally{sn(a)}}function aN(e,t){if(t)for(let n=t.length-1;n>=0;n--){let i=t[n];if(e===i.name)return i}}function pg(e,t,n,i){let r=e+Qt,s=Ue(),o=Iy(s,r);return lN(s,r)?mx(s,la(),t,o.transform,n,i,o):o.transform(n,i)}function lN(e,t){return e[Le].data[t].pure}function Rr(e,t){return yu(e,t)}var bc=null;function cN(e){bc!==null&&(e.defaultEncapsulation!==bc.defaultEncapsulation||e.preserveWhitespaces!==bc.preserveWhitespaces)||(bc=e)}var Iu=(()=>{let t=class t{log(i){console.log(i)}warn(i){console.warn(i)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})();var gg=new Se(""),_a=new Se(""),Mu=(()=>{let t=class t{constructor(i,r,s){this._ngZone=i,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,mg||(uN(s),s.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{We.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(i)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),i()},r)),this._callbacks.push({doneCb:i,timeoutId:o,updateCb:s})}whenStable(i,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,s){return[]}};t.\u0275fac=function(r){return new(r||t)(be(We),be(ku),be(_a))},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})(),ku=(()=>{let t=class t{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return mg?.findTestabilityInTree(this,i,r)??null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})();function uN(e){mg=e}var mg;function to(e){return!!e&&typeof e.then=="function"}function _x(e){return!!e&&typeof e.subscribe=="function"}var Ou=new Se(""),vx=(()=>{let t=class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=de(Ou,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let o=s();if(to(o))i.push(o);else if(_x(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),i.length===0&&r(),this.initialized=!0}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),_g=new Se("");function dN(){M_(()=>{throw new he(600,!1)})}function hN(e){return e.isBoundToModule}function fN(e,t,n){try{let i=n();return to(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}function yx(e,t){return Array.isArray(t)?t.reduce(yx,e):_e(_e({},e),t)}var ei=(()=>{let t=class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=de(tb),this.afterRenderEffectManager=de(ug),this.externalTestViews=new Set,this.beforeRender=new Ye,this.afterTick=new Ye,this.componentTypes=[],this.components=[],this.isStable=de(xu).hasPendingTasks.pipe($e(i=>!i)),this._injector=de(Ut)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let s=i instanceof Hc;if(!this._injector.get(vx).done){let u=!s&&hy(i),p=!1;throw new he(405,p)}let a;s?a=i:a=this._injector.get(Zs).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let l=hN(a)?void 0:this._injector.get(qi),c=r||a.selector,d=a.create(Mt.NULL,[],c,l),h=d.location.nativeElement,f=d.injector.get(gg,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),Dc(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new he(101,!1);let r=qe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,qe(r)}}detectChangesInAttachedViews(i){let r=0,s=this.afterRenderEffectManager;for(;;){if(r===Wb)throw new he(103,!1);if(i){let o=r===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:l}of this._views)pN(a,o,l)}if(r++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>bp(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>bp(o))))break}}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;Dc(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(_g,[]);[...this._bootstrapListeners,...r].forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>Dc(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new he(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Dc(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function pN(e,t,n){!t&&!bp(e)||gN(e,n,t)}function bp(e){return Vp(e)}function gN(e,t,n){let i;n?(i=0,e[ke]|=1024):e[ke]&64?i=0:i=1,Yb(e,t,i)}var xp=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Nu=(()=>{let t=class t{compileModuleSync(i){return new Wc(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),s=fy(i),o=yb(s.declarations).reduce((a,l)=>{let c=pi(l);return c&&a.push(new Ir(c)),a},[]);return new xp(r,o)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),mN=new Se("");function _N(e,t,n){let i=new Wc(n);return Promise.resolve(i)}function $v(e){for(let t=e.length-1;t>=0;t--)if(e[t]!==void 0)return e[t]}var vN=(()=>{let t=class t{constructor(){this.zone=de(We),this.applicationRef=de(ei)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function yN(e){return[{provide:We,useFactory:e},{provide:Us,multi:!0,useFactory:()=>{let t=de(vN,{optional:!0});return()=>t.initialize()}},{provide:Us,multi:!0,useFactory:()=>{let t=de(wN);return()=>{t.initialize()}}},{provide:tb,useFactory:bN}]}function bN(){let e=de(We),t=de(Qn);return n=>e.runOutsideAngular(()=>t.handleError(n))}function xN(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var wN=(()=>{let t=class t{constructor(){this.subscription=new ft,this.initialized=!1,this.zone=de(We),this.pendingTasks=de(xu)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{We.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{We.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function CN(){return typeof $localize<"u"&&$localize.locale||qc}var va=new Se("",{providedIn:"root",factory:()=>de(va,je.Optional|je.SkipSelf)||CN()});var bx=new Se(""),xx=(()=>{let t=class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){let s=Ek(r?.ngZone,xN({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return s.run(()=>{let o=hO(i.moduleType,this.injector,yN(()=>s)),a=o.injector.get(Qn,null);return s.runOutsideAngular(()=>{let l=s.onError.subscribe({next:c=>{a.handleError(c)}});o.onDestroy(()=>{Dc(this._modules,o),l.unsubscribe()})}),fN(a,s,()=>{let l=o.injector.get(vx);return l.runInitializers(),l.donePromise.then(()=>{let c=o.injector.get(va,qc);return qO(c||qc),this._moduleDoBootstrap(o),o})})})}bootstrapModule(i,r=[]){let s=yx({},r);return _N(this.injector,s,i).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(i){let r=i.injector.get(ei);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(s=>r.bootstrap(s));else if(i.instance.ngDoBootstrap)i.instance.ngDoBootstrap(r);else throw new he(-403,!1);this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let i=this._injector.get(bx,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};t.\u0275fac=function(r){return new(r||t)(be(Mt))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})(),Yo=null,Cx=new Se("");function TN(e){if(Yo&&!Yo.get(Cx,!1))throw new he(400,!1);dN(),Yo=e;let t=e.get(xx);return EN(e),t}function vg(e,t,n=[]){let i=`Platform: ${t}`,r=new Se(i);return(s=[])=>{let o=Tx();if(!o||o.injector.get(Cx,!1)){let a=[...n,...s,{provide:r,useValue:!0}];e?e(a):TN(SN(a,i))}return DN(r)}}function SN(e=[],t){return Mt.create({name:t,providers:[{provide:nu,useValue:"platform"},{provide:bx,useValue:new Set([()=>Yo=null])},...e]})}function DN(e){let t=Tx();if(!t)throw new he(401,!1);return t}function Tx(){return Yo?.get(xx)??null}function EN(e){e.get(zp,null)?.forEach(n=>n())}var An=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=AN;let e=t;return e})();function AN(e){return IN(ln(),Ue(),(e&16)===16)}function IN(e,t,n){if(su(e)&&!n){let i=Xi(e.index,t);return new Er(i,i)}else if(e.type&47){let i=t[Vn];return new Er(i,t)}return null}var wp=class{constructor(){}supports(t){return nx(t)}create(t){return new Cp(t)}},MN=(e,t)=>t,Cp=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||MN}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,s=null;for(;n||i;){let o=!i||n&&n.currentIndex<Gv(i,r,s)?n:i,a=Gv(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(n=n._next,o.previousIndex==null)r++;else{s||(s=[]);let c=a-r,d=l-r;if(c!=d){for(let f=0;f<c;f++){let u=f<s.length?s[f]:s[f]=0,p=u+f;d<=p&&p<c&&(s[f]=u+1)}let h=o.previousIndex;s[h]=d-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!nx(t))throw new he(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,i=!1,r,s,o;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),i=!0):(i&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else r=0,fO(t,a=>{o=this._trackByFn(r,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,o,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let s;return t===null?s=this._itTail:(s=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,r)):t=this._addAfter(new Tp(n,i),s,r)),t}_verifyReinsertion(t,n,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,s=t._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){let r=n===null?this._itHead:n._next;return t._next=r,t._prev=n,r===null?this._itTail=t:r._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new Xc),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,i=t._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Xc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Tp=class{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Sp=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let n=t._prevDup,i=t._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},Xc=class{constructor(){this.map=new Map}put(t){let n=t.trackById,i=this.map.get(n);i||(i=new Sp,this.map.set(n,i)),i.add(t)}get(t,n){let i=t,r=this.map.get(i);return r?r.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Gv(e,t,n){let i=e.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}var Dp=class{constructor(){}supports(t){return t instanceof Map||hg(t)}create(){return new Ep}},Ep=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let n;for(n=this._mapHead;n!==null;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||hg(t)))throw new he(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){let i=t._prev;return n._next=t,n._prev=i,t._prev=n,i&&(i._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){let r=this._records.get(t);this._maybeAddToChanges(r,n);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}let i=new Ap(t);return this._records.set(t,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(i=>n(t[i],i))}},Ap=class{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function zv(){return new yg([new wp])}var yg=(()=>{let t=class t{constructor(i){this.factories=i}static create(i,r){if(r!=null){let s=r.factories.slice();i=i.concat(s)}return new t(i)}static extend(i){return{provide:t,useFactory:r=>t.create(i,r||zv()),deps:[[t,new eu,new sa]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r!=null)return r;throw new he(901,!1)}};t.\u0275prov=ve({token:t,providedIn:"root",factory:zv});let e=t;return e})();function Wv(){return new bg([new Dp])}var bg=(()=>{let t=class t{constructor(i){this.factories=i}static create(i,r){if(r){let s=r.factories.slice();i=i.concat(s)}return new t(i)}static extend(i){return{provide:t,useFactory:r=>t.create(i,r||Wv()),deps:[[t,new eu,new sa]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r)return r;throw new he(901,!1)}};t.\u0275prov=ve({token:t,providedIn:"root",factory:Wv});let e=t;return e})();var Sx=vg(null,"core",[]),Dx=(()=>{let t=class t{constructor(i){}};t.\u0275fac=function(r){return new(r||t)(be(ei))},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({});let e=t;return e})();function Ru(e,t){let n=pi(e),i=t.elementInjector||iu();return new Ir(n).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}function Ex(e){let t=pi(e);if(!t)return null;let n=new Ir(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var Lx=null;function Fr(){return Lx}function Px(e){Lx??=e}var $u=class{};var Tt=new Se(""),Mg=(()=>{let t=class t{historyGo(i){throw new Error("")}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:()=>de(ON),providedIn:"platform"});let e=t;return e})(),Vx=new Se(""),ON=(()=>{let t=class t extends Mg{constructor(){super(),this._doc=de(Tt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fr().getBaseHref(this._doc)}onPopState(i){let r=Fr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=Fr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:()=>new t,providedIn:"platform"});let e=t;return e})();function kg(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function Ax(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,i=n-(e[n-1]==="/"?1:0);return e.slice(0,i)+e.slice(n)}function Di(e){return e&&e[0]!=="?"?"?"+e:e}var Lr=(()=>{let t=class t{historyGo(i){throw new Error("")}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:()=>de(Og),providedIn:"root"});let e=t;return e})(),Bx=new Se(""),Og=(()=>{let t=class t extends Lr{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??de(Tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return kg(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+Di(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+Di(o));this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+Di(o));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};t.\u0275fac=function(r){return new(r||t)(be(Mg),be(Bx,8))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Hx=(()=>{let t=class t extends Lr{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=kg(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+Di(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+Di(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};t.\u0275fac=function(r){return new(r||t)(be(Mg),be(Bx,8))},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})(),no=(()=>{let t=class t{constructor(i){this._subject=new ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=FN(Ax(Ix(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+Di(r))}normalize(i){return t.stripTrailingSlash(RN(this._basePath,Ix(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Di(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Di(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}};t.normalizeQueryParams=Di,t.joinWithSlash=kg,t.stripTrailingSlash=Ax,t.\u0275fac=function(r){return new(r||t)(be(Lr))},t.\u0275prov=ve({token:t,factory:()=>NN(),providedIn:"root"});let e=t;return e})();function NN(){return new no(be(Lr))}function RN(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Ix(e){return e.replace(/\/index.html$/,"")}function FN(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var jt=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(jt||{}),rt=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(rt||{}),gn=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(gn||{}),Zi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function LN(e){return Sn(e)[bt.LocaleId]}function Ux(e,t,n){let i=Sn(e),r=[i[bt.DayPeriodsFormat],i[bt.DayPeriodsStandalone]],s=In(r,t);return In(s,n)}function jx(e,t,n){let i=Sn(e),r=[i[bt.DaysFormat],i[bt.DaysStandalone]],s=In(r,t);return In(s,n)}function $x(e,t,n){let i=Sn(e),r=[i[bt.MonthsFormat],i[bt.MonthsStandalone]],s=In(r,t);return In(s,n)}function PN(e,t){let i=Sn(e)[bt.Eras];return In(i,t)}function Fu(e,t){let n=Sn(e);return In(n[bt.DateFormat],t)}function Lu(e,t){let n=Sn(e);return In(n[bt.TimeFormat],t)}function Pu(e,t){let i=Sn(e)[bt.DateTimeFormat];return In(i,t)}function Wu(e,t){let n=Sn(e),i=n[bt.NumberSymbols][t];if(typeof i>"u"){if(t===Zi.CurrencyDecimal)return n[bt.NumberSymbols][Zi.Decimal];if(t===Zi.CurrencyGroup)return n[bt.NumberSymbols][Zi.Group]}return i}function Gx(e){if(!e[bt.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[bt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function VN(e){let t=Sn(e);return Gx(t),(t[bt.ExtraData][2]||[]).map(i=>typeof i=="string"?xg(i):[xg(i[0]),xg(i[1])])}function BN(e,t,n){let i=Sn(e);Gx(i);let r=[i[bt.ExtraData][0],i[bt.ExtraData][1]],s=In(r,t)||[];return In(s,n)||[]}function In(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined")}function xg(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}var HN=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Vu={},UN=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Ei=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(Ei||{}),Ke=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(Ke||{}),Ze=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(Ze||{});function zx(e,t,n,i){let r=QN(e);t=Si(n,t)||t;let o=[],a;for(;t;)if(a=UN.exec(t),a){o=o.concat(a.slice(1));let d=o.pop();if(!d)break;t=d}else{o.push(t);break}let l=r.getTimezoneOffset();i&&(l=Yx(i,l),r=XN(r,i,!0));let c="";return o.forEach(d=>{let h=YN(d);c+=h?h(r,n,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Gu(e,t,n){let i=new Date(0);return i.setFullYear(e,t,n),i.setHours(0,0,0),i}function Si(e,t){let n=LN(e);if(Vu[n]??={},Vu[n][t])return Vu[n][t];let i="";switch(t){case"shortDate":i=Fu(e,gn.Short);break;case"mediumDate":i=Fu(e,gn.Medium);break;case"longDate":i=Fu(e,gn.Long);break;case"fullDate":i=Fu(e,gn.Full);break;case"shortTime":i=Lu(e,gn.Short);break;case"mediumTime":i=Lu(e,gn.Medium);break;case"longTime":i=Lu(e,gn.Long);break;case"fullTime":i=Lu(e,gn.Full);break;case"short":let r=Si(e,"shortTime"),s=Si(e,"shortDate");i=Bu(Pu(e,gn.Short),[r,s]);break;case"medium":let o=Si(e,"mediumTime"),a=Si(e,"mediumDate");i=Bu(Pu(e,gn.Medium),[o,a]);break;case"long":let l=Si(e,"longTime"),c=Si(e,"longDate");i=Bu(Pu(e,gn.Long),[l,c]);break;case"full":let d=Si(e,"fullTime"),h=Si(e,"fullDate");i=Bu(Pu(e,gn.Full),[d,h]);break}return i&&(Vu[n][t]=i),i}function Bu(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,i){return t!=null&&i in t?t[i]:n})),e}function Hn(e,t,n="-",i,r){let s="";(e<0||r&&e<=0)&&(r?e=-e+1:(e=-e,s=n));let o=String(e);for(;o.length<t;)o="0"+o;return i&&(o=o.slice(o.length-t)),s+o}function jN(e,t){return Hn(e,3).substring(0,t)}function Ct(e,t,n=0,i=!1,r=!1){return function(s,o){let a=$N(e,s);if((n>0||a>-n)&&(a+=n),e===Ke.Hours)a===0&&n===-12&&(a=12);else if(e===Ke.FractionalSeconds)return jN(a,t);let l=Wu(o,Zi.MinusSign);return Hn(a,t,l,i,r)}}function $N(e,t){switch(e){case Ke.FullYear:return t.getFullYear();case Ke.Month:return t.getMonth();case Ke.Date:return t.getDate();case Ke.Hours:return t.getHours();case Ke.Minutes:return t.getMinutes();case Ke.Seconds:return t.getSeconds();case Ke.FractionalSeconds:return t.getMilliseconds();case Ke.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function ct(e,t,n=jt.Format,i=!1){return function(r,s){return GN(r,s,e,t,n,i)}}function GN(e,t,n,i,r,s){switch(n){case Ze.Months:return $x(t,r,i)[e.getMonth()];case Ze.Days:return jx(t,r,i)[e.getDay()];case Ze.DayPeriods:let o=e.getHours(),a=e.getMinutes();if(s){let c=VN(t),d=BN(t,r,i),h=c.findIndex(f=>{if(Array.isArray(f)){let[u,p]=f,g=o>=u.hours&&a>=u.minutes,m=o<p.hours||o===p.hours&&a<p.minutes;if(u.hours<p.hours){if(g&&m)return!0}else if(g||m)return!0}else if(f.hours===o&&f.minutes===a)return!0;return!1});if(h!==-1)return d[h]}return Ux(t,r,i)[o<12?0:1];case Ze.Eras:return PN(t,i)[e.getFullYear()<=0?0:1];default:let l=n;throw new Error(`unexpected translation type ${l}`)}}function Hu(e){return function(t,n,i){let r=-1*i,s=Wu(n,Zi.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case Ei.Short:return(r>=0?"+":"")+Hn(o,2,s)+Hn(Math.abs(r%60),2,s);case Ei.ShortGMT:return"GMT"+(r>=0?"+":"")+Hn(o,1,s);case Ei.Long:return"GMT"+(r>=0?"+":"")+Hn(o,2,s)+":"+Hn(Math.abs(r%60),2,s);case Ei.Extended:return i===0?"Z":(r>=0?"+":"")+Hn(o,2,s)+":"+Hn(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}var zN=0,ju=4;function WN(e){let t=Gu(e,zN,1).getDay();return Gu(e,0,1+(t<=ju?ju:ju+7)-t)}function Wx(e){let t=e.getDay(),n=t===0?-3:ju-t;return Gu(e.getFullYear(),e.getMonth(),e.getDate()+n)}function wg(e,t=!1){return function(n,i){let r;if(t){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();r=1+Math.floor((o+s)/7)}else{let s=Wx(n),o=WN(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return Hn(r,e,Wu(i,Zi.MinusSign))}}function Uu(e,t=!1){return function(n,i){let s=Wx(n).getFullYear();return Hn(s,e,Wu(i,Zi.MinusSign),t)}}var Cg={};function YN(e){if(Cg[e])return Cg[e];let t;switch(e){case"G":case"GG":case"GGG":t=ct(Ze.Eras,rt.Abbreviated);break;case"GGGG":t=ct(Ze.Eras,rt.Wide);break;case"GGGGG":t=ct(Ze.Eras,rt.Narrow);break;case"y":t=Ct(Ke.FullYear,1,0,!1,!0);break;case"yy":t=Ct(Ke.FullYear,2,0,!0,!0);break;case"yyy":t=Ct(Ke.FullYear,3,0,!1,!0);break;case"yyyy":t=Ct(Ke.FullYear,4,0,!1,!0);break;case"Y":t=Uu(1);break;case"YY":t=Uu(2,!0);break;case"YYY":t=Uu(3);break;case"YYYY":t=Uu(4);break;case"M":case"L":t=Ct(Ke.Month,1,1);break;case"MM":case"LL":t=Ct(Ke.Month,2,1);break;case"MMM":t=ct(Ze.Months,rt.Abbreviated);break;case"MMMM":t=ct(Ze.Months,rt.Wide);break;case"MMMMM":t=ct(Ze.Months,rt.Narrow);break;case"LLL":t=ct(Ze.Months,rt.Abbreviated,jt.Standalone);break;case"LLLL":t=ct(Ze.Months,rt.Wide,jt.Standalone);break;case"LLLLL":t=ct(Ze.Months,rt.Narrow,jt.Standalone);break;case"w":t=wg(1);break;case"ww":t=wg(2);break;case"W":t=wg(1,!0);break;case"d":t=Ct(Ke.Date,1);break;case"dd":t=Ct(Ke.Date,2);break;case"c":case"cc":t=Ct(Ke.Day,1);break;case"ccc":t=ct(Ze.Days,rt.Abbreviated,jt.Standalone);break;case"cccc":t=ct(Ze.Days,rt.Wide,jt.Standalone);break;case"ccccc":t=ct(Ze.Days,rt.Narrow,jt.Standalone);break;case"cccccc":t=ct(Ze.Days,rt.Short,jt.Standalone);break;case"E":case"EE":case"EEE":t=ct(Ze.Days,rt.Abbreviated);break;case"EEEE":t=ct(Ze.Days,rt.Wide);break;case"EEEEE":t=ct(Ze.Days,rt.Narrow);break;case"EEEEEE":t=ct(Ze.Days,rt.Short);break;case"a":case"aa":case"aaa":t=ct(Ze.DayPeriods,rt.Abbreviated);break;case"aaaa":t=ct(Ze.DayPeriods,rt.Wide);break;case"aaaaa":t=ct(Ze.DayPeriods,rt.Narrow);break;case"b":case"bb":case"bbb":t=ct(Ze.DayPeriods,rt.Abbreviated,jt.Standalone,!0);break;case"bbbb":t=ct(Ze.DayPeriods,rt.Wide,jt.Standalone,!0);break;case"bbbbb":t=ct(Ze.DayPeriods,rt.Narrow,jt.Standalone,!0);break;case"B":case"BB":case"BBB":t=ct(Ze.DayPeriods,rt.Abbreviated,jt.Format,!0);break;case"BBBB":t=ct(Ze.DayPeriods,rt.Wide,jt.Format,!0);break;case"BBBBB":t=ct(Ze.DayPeriods,rt.Narrow,jt.Format,!0);break;case"h":t=Ct(Ke.Hours,1,-12);break;case"hh":t=Ct(Ke.Hours,2,-12);break;case"H":t=Ct(Ke.Hours,1);break;case"HH":t=Ct(Ke.Hours,2);break;case"m":t=Ct(Ke.Minutes,1);break;case"mm":t=Ct(Ke.Minutes,2);break;case"s":t=Ct(Ke.Seconds,1);break;case"ss":t=Ct(Ke.Seconds,2);break;case"S":t=Ct(Ke.FractionalSeconds,1);break;case"SS":t=Ct(Ke.FractionalSeconds,2);break;case"SSS":t=Ct(Ke.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Hu(Ei.Short);break;case"ZZZZZ":t=Hu(Ei.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Hu(Ei.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Hu(Ei.Long);break;default:return null}return Cg[e]=t,t}function Yx(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function qN(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function XN(e,t,n){let i=n?-1:1,r=e.getTimezoneOffset(),s=Yx(t,r);return qN(e,i*(s-r))}function QN(e){if(Mx(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[r,s=1,o=1]=e.split("-").map(a=>+a);return Gu(r,s-1,o)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let i;if(i=e.match(HN))return ZN(i)}let t=new Date(e);if(!Mx(t))throw new Error(`Unable to convert "${e}" into a date`);return t}function ZN(e){let t=new Date(0),n=0,i=0,r=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),i=Number(e[9]+e[11])),r.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let o=Number(e[4]||0)-n,a=Number(e[5]||0)-i,l=Number(e[6]||0),c=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return s.call(t,o,a,l,c),t}function Mx(e){return e instanceof Date&&!isNaN(e.valueOf())}function qx(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let i=n.indexOf("="),[r,s]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}var Tg=/\s+/,kx=[],Xx=(()=>{let t=class t{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=kx,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(Tg):kx}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(Tg):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let s=this.stateMap.get(i);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],s=i[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(Tg).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};t.\u0275fac=function(r){return new(r||t)(Me(mt),Me(xi))},t.\u0275dir=dn({type:t,selectors:[["","ngClass",""]],inputs:{klass:[Ln.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let e=t;return e})();var Sg=class{constructor(t,n,i,r){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Pr=(()=>{let t=class t{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,s){this._viewContainer=i,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new Sg(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let l=r.get(o);r.move(l,a),Ox(l,s)}});for(let s=0,o=r.length;s<o;s++){let l=r.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);Ox(o,s)})}static ngTemplateContextGuard(i,r){return!0}};t.\u0275fac=function(r){return new(r||t)(Me(Tn),Me(mi),Me(yg))},t.\u0275dir=dn({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let e=t;return e})();function Ox(e,t){e.context.$implicit=t.item}var mn=(()=>{let t=class t{constructor(i,r){this._viewContainer=i,this._context=new Dg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Nx("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Nx("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};t.\u0275fac=function(r){return new(r||t)(Me(Tn),Me(mi))},t.\u0275dir=dn({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let e=t;return e})(),Dg=class{constructor(){this.$implicit=null,this.ngIf=null}};function Nx(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${Xt(t)}'.`)}var Qx=(()=>{let t=class t{constructor(i,r,s){this._ngEl=i,this._differs=r,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){let i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,r){let[s,o]=i.split("."),a=s.indexOf("-")===-1?void 0:Zn.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${r}${o}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(i){i.forEachRemovedItem(r=>this._setStyle(r.key,null)),i.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),i.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}};t.\u0275fac=function(r){return new(r||t)(Me(mt),Me(bg),Me(xi))},t.\u0275dir=dn({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let e=t;return e})(),Ng=(()=>{let t=class t{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(this._shouldRecreateView(i)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(i){return!!i.ngTemplateOutlet||!!i.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(i,r,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,s):!1,get:(i,r,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,s)}})}};t.\u0275fac=function(r){return new(r||t)(Me(Tn))},t.\u0275dir=dn({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ht]});let e=t;return e})();function KN(e,t){return new he(2100,!1)}var JN="mediumDate",eR=new Se(""),tR=new Se(""),Zx=(()=>{let t=class t{constructor(i,r,s){this.locale=i,this.defaultTimezone=r,this.defaultOptions=s}transform(i,r,s,o){if(i==null||i===""||i!==i)return null;try{let a=r??this.defaultOptions?.dateFormat??JN,l=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return zx(i,a,o||this.locale,l)}catch(a){throw KN(t,a.message)}}};t.\u0275fac=function(r){return new(r||t)(Me(va,16),Me(eR,24),Me(tR,24))},t.\u0275pipe=cy({name:"date",type:t,pure:!0,standalone:!0});let e=t;return e})();var Vr=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({});let e=t;return e})(),Rg="browser",nR="server";function ti(e){return e===Rg}function Ki(e){return e===nR}var Kx=(()=>{let t=class t{};t.\u0275prov=ve({token:t,providedIn:"root",factory:()=>ti(de(Lt))?new Eg(de(Tt),window):new Ag});let e=t;return e})(),Eg=class{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=iR(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function iR(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}var Ag=class{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}},zu=class{};var Pg=class extends $u{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Vg=class e extends Pg{static makeCurrent(){Px(new e)}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=sR();return n==null?null:oR(n)}resetBaseElement(){ya=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return qx(document.cookie,t)}},ya=null;function sR(){return ya=ya||document.querySelector("base"),ya?ya.getAttribute("href"):null}function oR(e){return new URL(e,document.baseURI).pathname}var Bg=class{addToWindow(t){yt.getAngularTestability=(i,r=!0)=>{let s=t.findTestabilityInTree(i,r);if(s==null)throw new he(5103,!1);return s},yt.getAllAngularTestabilities=()=>t.getAllTestabilities(),yt.getAllAngularRootElements=()=>t.getAllRootElements();let n=i=>{let r=yt.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&i()};r.forEach(a=>{a.whenStable(o)})};yt.frameworkStabilizers||(yt.frameworkStabilizers=[]),yt.frameworkStabilizers.push(n)}findTestabilityInTree(t,n,i){if(n==null)return null;let r=t.getTestability(n);return r??(i?Fr().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},aR=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})(),Hg=new Se(""),nw=(()=>{let t=class t{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new he(5101,!1);return this._eventNameToPlugin.set(i,r),r}};t.\u0275fac=function(r){return new(r||t)(be(Hg),be(We))},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})(),Yu=class{constructor(t){this._doc=t}},Fg="ng-app-id",iw=(()=>{let t=class t{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ki(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${Fg}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(Fg),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Fg,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};t.\u0275fac=function(r){return new(r||t)(be(Tt),be(hu),be(Yp,8),be(Lt))},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})(),Lg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jg=/%COMP%/g,rw="%COMP%",lR=`_nghost-${rw}`,cR=`_ngcontent-${rw}`,uR=!0,dR=new Se("",{providedIn:"root",factory:()=>uR});function hR(e){return cR.replace(jg,e)}function fR(e){return lR.replace(jg,e)}function sw(e,t){return t.map(n=>n.replace(jg,e))}var qu=(()=>{let t=class t{constructor(i,r,s,o,a,l,c,d=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Ki(l),this.defaultRenderer=new ba(i,a,c,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===qn.ShadowDom&&(r=et(_e({},r),{encapsulation:qn.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof Xu?s.applyToHost(i):s instanceof xa&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case qn.Emulated:o=new Xu(c,d,r,this.appId,h,a,l,f);break;case qn.ShadowDom:return new Ug(c,d,i,r,a,l,this.nonce,f);default:o=new xa(c,d,r,h,a,l,f);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(r){return new(r||t)(be(nw),be(iw),be(hu),be(dR),be(Tt),be(Lt),be(We),be(Yp))},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})(),ba=class{constructor(t,n,i,r){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Lg[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(ew(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(ew(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new he(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;let s=Lg[r];s?t.setAttributeNS(s,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let r=Lg[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(Zn.DashCase|Zn.Important)?t.style.setProperty(n,i,r&Zn.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&Zn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i){if(typeof t=="string"&&(t=Fr().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function ew(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Ug=class extends ba{constructor(t,n,i,r,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=sw(r.id,r.styles);for(let d of c){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},xa=class extends ba{constructor(t,n,i,r,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?sw(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Xu=class extends xa{constructor(t,n,i,r,s,o,a,l){let c=r+"-"+i.id;super(t,n,i,s,o,a,l,c),this.contentAttr=hR(c),this.hostAttr=fR(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}},pR=(()=>{let t=class t extends Yu{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};t.\u0275fac=function(r){return new(r||t)(be(Tt))},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})(),tw=["alt","control","meta","shift"],gR={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mR={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},_R=(()=>{let t=class t extends Yu{constructor(i){super(i)}supports(i){return t.parseEventName(i)!=null}addEventListener(i,r,s){let o=t.parseEventName(r),a=t.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fr().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=t._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),tw.forEach(d=>{let h=r.indexOf(d);h>-1&&(r.splice(h,1),a+=d+".")}),a+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(i,r){let s=gR[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),tw.forEach(a=>{if(a!==s){let l=mR[a];l(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{t.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};t.\u0275fac=function(r){return new(r||t)(be(Tt))},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})();function vR(){Vg.makeCurrent()}function yR(){return new Qn}function bR(){return ab(document),document}var xR=[{provide:Lt,useValue:Rg},{provide:zp,useValue:vR,multi:!0},{provide:Tt,useFactory:bR,deps:[]}],ow=vg(Sx,"browser",xR),wR=new Se(""),CR=[{provide:_a,useClass:Bg,deps:[]},{provide:gg,useClass:Mu,deps:[We,ku,_a]},{provide:Mu,useClass:Mu,deps:[We,ku,_a]}],TR=[{provide:nu,useValue:"root"},{provide:Qn,useFactory:yR,deps:[]},{provide:Hg,useClass:pR,multi:!0,deps:[Tt,We,Lt]},{provide:Hg,useClass:_R,multi:!0,deps:[Tt]},qu,iw,nw,{provide:Ar,useExisting:qu},{provide:zu,useClass:aR,deps:[]},[]],Qu=(()=>{let t=class t{constructor(i){}static withServerTransition(i){return{ngModule:t,providers:[{provide:hu,useValue:i.appId}]}}};t.\u0275fac=function(r){return new(r||t)(be(wR,12))},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({providers:[...TR,...CR],imports:[Vr,Dx]});let e=t;return e})();var aw=(()=>{let t=class t{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};t.\u0275fac=function(r){return new(r||t)(be(Tt))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Pe="primary",La=Symbol("RouteTitle"),Yg=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ao(e){return new Yg(e)}function SR(e,t,n){let i=n.path.split("/");if(i.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=e[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function DR(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!ni(e[n],t[n]))return!1;return!0}function ni(e,t){let n=e?qg(e):void 0,i=t?qg(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!_w(e[r],t[r]))return!1;return!0}function qg(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function _w(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),i=[...t].sort();return n.every((r,s)=>i[s]===r)}else return e===t}function vw(e){return e.length>0?e[e.length-1]:null}function nr(e){return tf(e)?e:to(e)?pt(Promise.resolve(e)):Ae(e)}var ER={exact:bw,subset:xw},yw={exact:AR,subset:IR,ignored:()=>!0};function cw(e,t,n){return ER[n.paths](e.root,t.root,n.matrixParams)&&yw[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function AR(e,t){return ni(e,t)}function bw(e,t,n){if(!Hr(e.segments,t.segments)||!Ju(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!bw(e.children[i],t.children[i],n))return!1;return!0}function IR(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>_w(e[n],t[n]))}function xw(e,t,n){return ww(e,t,t.segments,n)}function ww(e,t,n,i){if(e.segments.length>n.length){let r=e.segments.slice(0,n.length);return!(!Hr(r,n)||t.hasChildren()||!Ju(r,n,i))}else if(e.segments.length===n.length){if(!Hr(e.segments,n)||!Ju(e.segments,n,i))return!1;for(let r in t.children)if(!e.children[r]||!xw(e.children[r],t.children[r],i))return!1;return!0}else{let r=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!Hr(e.segments,r)||!Ju(e.segments,r,i)||!e.children[Pe]?!1:ww(e.children[Pe],t,s,i)}}function Ju(e,t,n){return t.every((i,r)=>yw[n](e[r].parameters,i.parameters))}var Ji=class{constructor(t=new Je([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=ao(this.queryParams),this._queryParamMap}toString(){return OR.serialize(this)}},Je=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ed(this)}},Br=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=ao(this.parameters),this._parameterMap}toString(){return Tw(this)}};function MR(e,t){return Hr(e,t)&&e.every((n,i)=>ni(n.parameters,t[i].parameters))}function Hr(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.path===t[i].path)}function kR(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===Pe&&(n=n.concat(t(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==Pe&&(n=n.concat(t(r,i)))}),n}var Pa=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:()=>new Aa,providedIn:"root"});let e=t;return e})(),Aa=class{parse(t){let n=new Qg(t);return new Ji(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${wa(t.root,!0)}`,i=FR(t.queryParams),r=typeof t.fragment=="string"?`#${NR(t.fragment)}`:"";return`${n}${i}${r}`}},OR=new Aa;function ed(e){return e.segments.map(t=>Tw(t)).join("/")}function wa(e,t){if(!e.hasChildren())return ed(e);if(t){let n=e.children[Pe]?wa(e.children[Pe],!1):"",i=[];return Object.entries(e.children).forEach(([r,s])=>{r!==Pe&&i.push(`${r}:${wa(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=kR(e,(i,r)=>r===Pe?[wa(e.children[Pe],!1)]:[`${r}:${wa(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[Pe]!=null?`${ed(e)}/${n[0]}`:`${ed(e)}/(${n.join("//")})`}}function Cw(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zu(e){return Cw(e).replace(/%3B/gi,";")}function NR(e){return encodeURI(e)}function Xg(e){return Cw(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function td(e){return decodeURIComponent(e)}function uw(e){return td(e.replace(/\+/g,"%20"))}function Tw(e){return`${Xg(e.path)}${RR(e.parameters)}`}function RR(e){return Object.entries(e).map(([t,n])=>`;${Xg(t)}=${Xg(n)}`).join("")}function FR(e){let t=Object.entries(e).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Zu(n)}=${Zu(r)}`).join("&"):`${Zu(n)}=${Zu(i)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var LR=/^[^\/()?;#]+/;function $g(e){let t=e.match(LR);return t?t[0]:""}var PR=/^[^\/()?;=#]+/;function VR(e){let t=e.match(PR);return t?t[0]:""}var BR=/^[^=?&#]+/;function HR(e){let t=e.match(BR);return t?t[0]:""}var UR=/^[^&#]+/;function jR(e){let t=e.match(UR);return t?t[0]:""}var Qg=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Je([],{}):new Je([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[Pe]=new Je(t,n)),i}parseSegment(){let t=$g(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new he(4009,!1);return this.capture(t),new Br(td(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=VR(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=$g(this.remaining);r&&(i=r,this.capture(i))}t[td(n)]=td(i)}parseQueryParam(t){let n=HR(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let o=jR(this.remaining);o&&(i=o,this.capture(i))}let r=uw(n),s=uw(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=$g(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new he(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Pe);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[Pe]:new Je([],o),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new he(4011,!1)}};function Sw(e){return e.segments.length>0?new Je([],{[Pe]:e}):e}function Dw(e){let t={};for(let[i,r]of Object.entries(e.children)){let s=Dw(r);if(i===Pe&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}let n=new Je(e.segments,t);return $R(n)}function $R(e){if(e.numberOfChildren===1&&e.children[Pe]){let t=e.children[Pe];return new Je(e.segments.concat(t.segments),t.children)}return e}function lo(e){return e instanceof Ji}function GR(e,t,n=null,i=null){let r=Ew(e);return Aw(r,t,n,i)}function Ew(e){let t;function n(s){let o={};for(let l of s.children){let c=n(l);o[l.outlet]=c}let a=new Je(s.url,o);return s===e&&(t=a),a}let i=n(e.root),r=Sw(i);return t??r}function Aw(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return Gg(r,r,r,n,i);let s=zR(t);if(s.toRoot())return Gg(r,r,new Je([],{}),n,i);let o=WR(s,r,e),a=o.processChildren?Sa(o.segmentGroup,o.index,s.commands):Mw(o.segmentGroup,o.index,s.commands);return Gg(r,o.segmentGroup,a,n,i)}function nd(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Ia(e){return typeof e=="object"&&e!=null&&e.outlets}function Gg(e,t,n,i,r){let s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let o;e===t?o=n:o=Iw(e,t,n);let a=Sw(Dw(o));return new Ji(a,s,r)}function Iw(e,t,n){let i={};return Object.entries(e.children).forEach(([r,s])=>{s===t?i[r]=n:i[r]=Iw(s,t,n)}),new Je(e.segments,i)}var id=class{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&nd(i[0]))throw new he(4003,!1);let r=i.find(Ia);if(r&&r!==vw(i))throw new he(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function zR(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new id(!0,0,e);let t=0,n=!1,i=e.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new id(n,t,i)}var so=class{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}};function WR(e,t,n){if(e.isAbsolute)return new so(t,!0,0);if(!n)return new so(t,!1,NaN);if(n.parent===null)return new so(n,!0,0);let i=nd(e.commands[0])?0:1,r=n.segments.length-1+i;return YR(n,r,e.numberOfDoubleDots)}function YR(e,t,n){let i=e,r=t,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new he(4005,!1);r=i.segments.length}return new so(i,!1,r-s)}function qR(e){return Ia(e[0])?e[0].outlets:{[Pe]:e}}function Mw(e,t,n){if(e??=new Je([],{}),e.segments.length===0&&e.hasChildren())return Sa(e,t,n);let i=XR(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let s=new Je(e.segments.slice(0,i.pathIndex),{});return s.children[Pe]=new Je(e.segments.slice(i.pathIndex),e.children),Sa(s,0,r)}else return i.match&&r.length===0?new Je(e.segments,{}):i.match&&!e.hasChildren()?Zg(e,t,n):i.match?Sa(e,0,r):Zg(e,t,n)}function Sa(e,t,n){if(n.length===0)return new Je(e.segments,{});{let i=qR(n),r={};if(Object.keys(i).some(s=>s!==Pe)&&e.children[Pe]&&e.numberOfChildren===1&&e.children[Pe].segments.length===0){let s=Sa(e.children[Pe],t,n);return new Je(e.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=Mw(e.children[s],t,o))}),Object.entries(e.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new Je(e.segments,r)}}function XR(e,t,n){let i=0,r=t,s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return s;let o=e.segments[r],a=n[i];if(Ia(a))break;let l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!hw(l,c,o))return s;i+=2}else{if(!hw(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Zg(e,t,n){let i=e.segments.slice(0,t),r=0;for(;r<n.length;){let s=n[r];if(Ia(s)){let l=QR(s.outlets);return new Je(i,l)}if(r===0&&nd(n[0])){let l=e.segments[t];i.push(new Br(l.path,dw(n[0]))),r++;continue}let o=Ia(s)?s.outlets[Pe]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&nd(a)?(i.push(new Br(o,dw(a))),r+=2):(i.push(new Br(o,{})),r++)}return new Je(i,{})}function QR(e){let t={};return Object.entries(e).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[n]=Zg(new Je([],{}),0,i))}),t}function dw(e){let t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function hw(e,t,n){return e==n.path&&ni(t,n.parameters)}var Da="imperative",Nt=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Nt||{}),Mn=class{constructor(t,n){this.id=t,this.url=n}},co=class extends Mn{constructor(t,n,i="imperative",r=null){super(t,n),this.type=Nt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ai=class extends Mn{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=Nt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},vn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(vn||{}),rd=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(rd||{}),er=class extends Mn{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=Nt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},tr=class extends Mn{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=Nt.NavigationSkipped}},Ma=class extends Mn{constructor(t,n,i,r){super(t,n),this.error=i,this.target=r,this.type=Nt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},sd=class extends Mn{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Nt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kg=class extends Mn{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Nt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jg=class extends Mn{constructor(t,n,i,r,s){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=Nt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},em=class extends Mn{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Nt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tm=class extends Mn{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Nt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nm=class{constructor(t){this.route=t,this.type=Nt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},im=class{constructor(t){this.route=t,this.type=Nt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},rm=class{constructor(t){this.snapshot=t,this.type=Nt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sm=class{constructor(t){this.snapshot=t,this.type=Nt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},om=class{constructor(t){this.snapshot=t,this.type=Nt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},am=class{constructor(t){this.snapshot=t,this.type=Nt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},od=class{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=Nt.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},ka=class{},Oa=class{constructor(t){this.url=t}};var lm=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Va,this.attachRef=null}},Va=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new lm,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),ad=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=cm(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){let n=cm(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=um(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return um(t,this._root).map(n=>n.value)}};function cm(e,t){if(e===t.value)return t;for(let n of t.children){let i=cm(e,n);if(i)return i}return null}function um(e,t){if(e===t.value)return[t];for(let n of t.children){let i=um(e,n);if(i.length)return i.unshift(t),i}return[]}var _n=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function ro(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var ld=class extends ad{constructor(t,n){super(t),this.snapshot=n,bm(this,t)}toString(){return this.snapshot.toString()}};function kw(e){let t=ZR(e),n=new xt([new Br("",{})]),i=new xt({}),r=new xt({}),s=new xt({}),o=new xt(""),a=new uo(n,i,s,o,r,Pe,e,t.root);return a.snapshot=t.root,new ld(new _n(a,[]),t)}function ZR(e){let t={},n={},i={},r="",s=new Na([],t,i,r,n,Pe,e,null,{});return new cd("",new _n(s,[]))}var uo=class{constructor(t,n,i,r,s,o,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe($e(c=>c[La]))??Ae(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe($e(t=>ao(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe($e(t=>ao(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ym(e,t,n="emptyOnly"){let i,{routeConfig:r}=e;return t!==null&&(n==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:_e(_e({},t.params),e.params),data:_e(_e({},t.data),e.data),resolve:_e(_e(_e(_e({},e.data),t.data),r?.data),e._resolvedData)}:i={params:_e({},e.params),data:_e({},e.data),resolve:_e(_e({},e.data),e._resolvedData??{})},r&&Nw(r)&&(i.resolve[La]=r.title),i}var Na=class{get title(){return this.data?.[La]}constructor(t,n,i,r,s,o,a,l,c){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ao(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ao(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},cd=class extends ad{constructor(t,n){super(n),this.url=t,bm(this,n)}toString(){return Ow(this._root)}};function bm(e,t){t.value._routerState=e,t.children.forEach(n=>bm(e,n))}function Ow(e){let t=e.children.length>0?` { ${e.children.map(Ow).join(", ")} } `:"";return`${e.value}${t}`}function zg(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ni(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),ni(t.params,n.params)||e.paramsSubject.next(n.params),DR(t.url,n.url)||e.urlSubject.next(n.url),ni(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function dm(e,t){let n=ni(e.params,t.params)&&MR(e.url,t.url),i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||dm(e.parent,t.parent))}function Nw(e){return typeof e.title=="string"||e.title===null}var KR=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Pe,this.activateEvents=new ye,this.deactivateEvents=new ye,this.attachEvents=new ye,this.detachEvents=new ye,this.parentContexts=de(Va),this.location=de(Tn),this.changeDetector=de(An),this.environmentInjector=de(Ut),this.inputBinder=de(pd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new he(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new he(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new he(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new he(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new hm(i,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=dn({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ht]});let e=t;return e})(),hm=class{constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i,this.__ngOutletInjector=!0}get(t,n){return t===uo?this.route:t===Va?this.childContexts:this.parent.get(t,n)}},pd=new Se(""),fw=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=ks([r.queryParams,r.params,r.data]).pipe(rn(([o,a,l],c)=>(l=_e(_e(_e({},o),a),l),c===0?Ae(l):Promise.resolve(l)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=Ex(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:l}of a.inputs)i.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(i,s)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})();function JR(e,t,n){let i=Ra(e,t._root,n?n._root:void 0);return new ld(i,t)}function Ra(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=t.value;let r=eF(e,t,n);return new _n(i,r)}else{if(e.shouldAttach(t.value)){let s=e.retrieve(t.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Ra(e,a)),o}}let i=tF(t.value),r=t.children.map(s=>Ra(e,s));return new _n(i,r)}}function eF(e,t,n){return t.children.map(i=>{for(let r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return Ra(e,i,r);return Ra(e,i)})}function tF(e){return new uo(new xt(e.url),new xt(e.params),new xt(e.queryParams),new xt(e.fragment),new xt(e.data),e.outlet,e.component,e)}var Rw="ngNavigationCancelingError";function Fw(e,t){let{redirectTo:n,navigationBehaviorOptions:i}=lo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Lw(!1,vn.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function Lw(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[Rw]=!0,n.cancellationCode=t,n}function nF(e){return Pw(e)&&lo(e.url)}function Pw(e){return!!e&&e[Rw]}var iF=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=nt({type:t,selectors:[["ng-component"]],standalone:!0,features:[ma],decls:1,vars:0,template:function(r,s){r&1&&Re(0,"router-outlet")},dependencies:[KR],encapsulation:2});let e=t;return e})();function rF(e,t){return e.providers&&!e._injector&&(e._injector=bu(e.providers,t,`Route: ${e.path}`)),e._injector??t}function xm(e){let t=e.children&&e.children.map(xm),n=t?et(_e({},e),{children:t}):_e({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Pe&&(n.component=iF),n}function ii(e){return e.outlet||Pe}function sF(e,t){let n=e.filter(i=>ii(i)===t);return n.push(...e.filter(i=>ii(i)!==t)),n}function Ba(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var oF=(e,t,n,i)=>$e(r=>(new fm(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)),fm=class{constructor(t,n,i,r,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),zg(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){let r=ro(n);t.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,n,i){let r=t.value,s=n?n.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,n,o.children)}else this.deactivateChildRoutes(t,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,s=ro(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,s=ro(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){let r=ro(n);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new am(s.value.snapshot))}),t.children.length&&this.forwardEvent(new sm(t.value.snapshot))}activateRoutes(t,n,i){let r=t.value,s=n?n.value:null;if(zg(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,o.children)}else this.activateChildRoutes(t,n,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),zg(a.route.value),this.activateChildRoutes(t,null,o.children)}else{let a=Ba(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}},ud=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},oo=class{constructor(t,n){this.component=t,this.route=n}};function aF(e,t,n){let i=e._root,r=t?t._root:null;return Ca(i,r,n,[i.value])}function lF(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function fo(e,t){let n=Symbol(),i=t.get(e,n);return i===n?typeof e=="function"&&!Qv(e)?e:t.get(e):i}function Ca(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=ro(t);return e.children.forEach(o=>{cF(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ea(a,n.getContext(o),r)),r}function cF(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=uF(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new ud(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ca(e,t,a?a.children:null,i,r):Ca(e,t,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new oo(a.outlet.component,o))}else o&&Ea(t,a,r),r.canActivateChecks.push(new ud(i)),s.component?Ca(e,null,a?a.children:null,i,r):Ca(e,null,n,i,r);return r}function uF(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Hr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Hr(e.url,t.url)||!ni(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dm(e,t)||!ni(e.queryParams,t.queryParams);case"paramsChange":default:return!dm(e,t)}}function Ea(e,t,n){let i=ro(e),r=e.value;Object.entries(i).forEach(([s,o])=>{r.component?t?Ea(o,t.children.getContext(s),n):Ea(o,null,n):Ea(o,t,n)}),r.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new oo(t.outlet.component,r)):n.canDeactivateChecks.push(new oo(null,r)):n.canDeactivateChecks.push(new oo(null,r))}function Ha(e){return typeof e=="function"}function dF(e){return typeof e=="boolean"}function hF(e){return e&&Ha(e.canLoad)}function fF(e){return e&&Ha(e.canActivate)}function pF(e){return e&&Ha(e.canActivateChild)}function gF(e){return e&&Ha(e.canDeactivate)}function mF(e){return e&&Ha(e.canMatch)}function Vw(e){return e instanceof fi||e?.name==="EmptyError"}var Ku=Symbol("INITIAL_VALUE");function ho(){return rn(e=>ks(e.map(t=>t.pipe(nn(1),hc(Ku)))).pipe($e(t=>{for(let n of t)if(n!==!0){if(n===Ku)return Ku;if(n===!1||n instanceof Ji)return n}return!0}),Et(t=>t!==Ku),nn(1)))}function _F(e,t){return gt(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Ae(et(_e({},n),{guardsResult:!0})):vF(o,i,r,e).pipe(gt(a=>a&&dF(a)?yF(i,s,e,t):Ae(a)),$e(a=>et(_e({},n),{guardsResult:a})))})}function vF(e,t,n,i){return pt(e).pipe(gt(r=>TF(r.component,r.route,n,t,i)),zn(r=>r!==!0,!0))}function yF(e,t,n,i){return pt(t).pipe(_r(r=>Ui(xF(r.route.parent,i),bF(r.route,i),CF(e,r.path,n),wF(e,r.route,n))),zn(r=>r!==!0,!0))}function bF(e,t){return e!==null&&t&&t(new om(e)),Ae(!0)}function xF(e,t){return e!==null&&t&&t(new rm(e)),Ae(!0)}function wF(e,t,n){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return Ae(!0);let r=i.map(s=>oc(()=>{let o=Ba(t)??n,a=fo(s,o),l=fF(a)?a.canActivate(t,e):_i(o,()=>a(t,e));return nr(l).pipe(zn())}));return Ae(r).pipe(ho())}function CF(e,t,n){let i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>lF(o)).filter(o=>o!==null).map(o=>oc(()=>{let a=o.guards.map(l=>{let c=Ba(o.node)??n,d=fo(l,c),h=pF(d)?d.canActivateChild(i,e):_i(c,()=>d(i,e));return nr(h).pipe(zn())});return Ae(a).pipe(ho())}));return Ae(s).pipe(ho())}function TF(e,t,n,i,r){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return Ae(!0);let o=s.map(a=>{let l=Ba(t)??r,c=fo(a,l),d=gF(c)?c.canDeactivate(e,t,n,i):_i(l,()=>c(e,t,n,i));return nr(d).pipe(zn())});return Ae(o).pipe(ho())}function SF(e,t,n,i){let r=t.canLoad;if(r===void 0||r.length===0)return Ae(!0);let s=r.map(o=>{let a=fo(o,e),l=hF(a)?a.canLoad(t,n):_i(e,()=>a(t,n));return nr(l)});return Ae(s).pipe(ho(),Bw(i))}function Bw(e){return Xh(At(t=>{if(lo(t))throw Fw(e,t)}),$e(t=>t===!0))}function DF(e,t,n,i){let r=t.canMatch;if(!r||r.length===0)return Ae(!0);let s=r.map(o=>{let a=fo(o,e),l=mF(a)?a.canMatch(t,n):_i(e,()=>a(t,n));return nr(l)});return Ae(s).pipe(ho(),Bw(i))}var Fa=class{constructor(t){this.segmentGroup=t||null}},dd=class extends Error{constructor(t){super(),this.urlTree=t}};function io(e){return Ms(new Fa(e))}function EF(e){return Ms(new he(4e3,!1))}function AF(e){return Ms(Lw(!1,vn.GuardRejected))}var pm=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Ae(i);if(r.numberOfChildren>1||!r.children[Pe])return EF(t.redirectTo);r=r.children[Pe]}}applyRedirectCommands(t,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i);if(n.startsWith("/"))throw new dd(r);return r}applyRedirectCreateUrlTree(t,n,i,r){let s=this.createSegmentGroup(t,n.root,i,r);return new Ji(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let i={};return Object.entries(t).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);i[r]=n[a]}else i[r]=s}),i}createSegmentGroup(t,n,i,r){let s=this.createSegments(t,n.segments,i,r),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,i,r)}),new Je(s,o)}createSegments(t,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,n,i){let r=i[n.path.substring(1)];if(!r)throw new he(4001,!1);return r}findOrReturn(t,n){let i=0;for(let r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}},gm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function IF(e,t,n,i,r){let s=wm(e,t,n);return s.matched?(i=rF(t,i),DF(i,t,n,r).pipe($e(o=>o===!0?s:_e({},gm)))):Ae(s)}function wm(e,t,n){if(t.path==="**")return MF(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?_e({},gm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(t.matcher||SR)(n,e,t);if(!r)return _e({},gm);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?_e(_e({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function MF(e){return{matched:!0,parameters:e.length>0?vw(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function pw(e,t,n,i){return n.length>0&&NF(e,n,i)?{segmentGroup:new Je(t,OF(i,new Je(n,e.children))),slicedSegments:[]}:n.length===0&&RF(e,n,i)?{segmentGroup:new Je(e.segments,kF(e,n,i,e.children)),slicedSegments:n}:{segmentGroup:new Je(e.segments,e.children),slicedSegments:n}}function kF(e,t,n,i){let r={};for(let s of n)if(gd(e,t,s)&&!i[ii(s)]){let o=new Je([],{});r[ii(s)]=o}return _e(_e({},i),r)}function OF(e,t){let n={};n[Pe]=t;for(let i of e)if(i.path===""&&ii(i)!==Pe){let r=new Je([],{});n[ii(i)]=r}return n}function NF(e,t,n){return n.some(i=>gd(e,t,i)&&ii(i)!==Pe)}function RF(e,t,n){return n.some(i=>gd(e,t,i))}function gd(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function FF(e,t,n,i){return ii(e)!==i&&(i===Pe||!gd(t,n,e))?!1:wm(t,e,n).matched}function LF(e,t,n){return t.length===0&&!e.children[n]}var mm=class{};function PF(e,t,n,i,r,s,o="emptyOnly"){return new _m(e,t,n,i,r,o,s).recognize()}var VF=31,_m=class{constructor(t,n,i,r,s,o,a){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new pm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new he(4002,`'${t.segmentGroup}'`)}recognize(){let t=pw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe($e(n=>{let i=new Na([],Object.freeze({}),Object.freeze(_e({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pe,this.rootComponentType,null,{}),r=new _n(i,n),s=new cd("",r),o=GR(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,Pe).pipe(ji(i=>{if(i instanceof dd)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Fa?this.noMatchError(i):i}))}inheritParamsAndData(t,n){let i=t.value,r=ym(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),t.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(t,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,n,i):this.processSegment(t,n,i,i.segments,r,!0).pipe($e(s=>s instanceof _n?[s]:[]))}processChildren(t,n,i){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return pt(r).pipe(_r(s=>{let o=i.children[s],a=sF(n,s);return this.processSegmentGroup(t,a,o,s)}),hf((s,o)=>(s.push(...o),s)),$i(null),cf(),gt(s=>{if(s===null)return io(i);let o=Hw(s);return BF(o),Ae(o)}))}processSegment(t,n,i,r,s,o){return pt(n).pipe(_r(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,i,r,s,o).pipe(ji(l=>{if(l instanceof Fa)return Ae(null);throw l}))),zn(a=>!!a),ji(a=>{if(Vw(a))return LF(i,r,s)?Ae(new mm):io(i);throw a}))}processSegmentAgainstRoute(t,n,i,r,s,o,a){return FF(i,r,s,o)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,s,o):io(r):io(r)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,s,o){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:d}=wm(n,r,s);if(!a)return io(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>VF&&(this.allowRedirects=!1));let h=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,h).pipe(gt(f=>this.processSegment(t,i,n,f.concat(d),o,!1)))}matchSegmentAgainstRoute(t,n,i,r,s){let o=IF(n,i,r,t,this.urlSerializer);return i.path==="**"&&(n.children={}),o.pipe(rn(a=>a.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(rn(({routes:l})=>{let c=i._loadedInjector??t,{consumedSegments:d,remainingSegments:h,parameters:f}=a,u=new Na(d,f,Object.freeze(_e({},this.urlTree.queryParams)),this.urlTree.fragment,UF(i),ii(i),i.component??i._loadedComponent??null,i,jF(i)),{segmentGroup:p,slicedSegments:g}=pw(n,d,h,l);if(g.length===0&&p.hasChildren())return this.processChildren(c,l,p).pipe($e(b=>b===null?null:new _n(u,b)));if(l.length===0&&g.length===0)return Ae(new _n(u,[]));let m=ii(i)===s;return this.processSegment(c,l,p,g,m?Pe:s,!0).pipe($e(b=>new _n(u,b instanceof _n?[b]:[])))}))):io(n)))}getChildConfig(t,n,i){return n.children?Ae({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?Ae({routes:n._loadedRoutes,injector:n._loadedInjector}):SF(t,n,i,this.urlSerializer).pipe(gt(r=>r?this.configLoader.loadChildren(t,n).pipe(At(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):AF(n))):Ae({routes:[],injector:t})}};function BF(e){e.sort((t,n)=>t.value.outlet===Pe?-1:n.value.outlet===Pe?1:t.value.outlet.localeCompare(n.value.outlet))}function HF(e){let t=e.value.routeConfig;return t&&t.path===""}function Hw(e){let t=[],n=new Set;for(let i of e){if(!HF(i)){t.push(i);continue}let r=t.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):t.push(i)}for(let i of n){let r=Hw(i.children);t.push(new _n(i.value,r))}return t.filter(i=>!n.has(i))}function UF(e){return e.data||{}}function jF(e){return e.resolve||{}}function $F(e,t,n,i,r,s){return gt(o=>PF(e,t,n,i,o.extractedUrl,r,s).pipe($e(({state:a,tree:l})=>et(_e({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function GF(e,t){return gt(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Ae(n);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of Uw(l))o.add(c);let a=0;return pt(o).pipe(_r(l=>s.has(l)?zF(l,i,e,t):(l.data=ym(l,l.parent,e).resolve,Ae(void 0))),At(()=>a++),Ns(1),gt(l=>a===o.size?Ae(n):vt))})}function Uw(e){let t=e.children.map(n=>Uw(n)).flat();return[e,...t]}function zF(e,t,n,i){let r=e.routeConfig,s=e._resolve;return r?.title!==void 0&&!Nw(r)&&(s[La]=r.title),WF(s,e,t,i).pipe($e(o=>(e._resolvedData=o,e.data=ym(e,e.parent,n).resolve,null)))}function WF(e,t,n,i){let r=qg(e);if(r.length===0)return Ae({});let s={};return pt(r).pipe(gt(o=>YF(e[o],t,n,i).pipe(zn(),At(a=>{s[o]=a}))),Ns(1),af(s),ji(o=>Vw(o)?vt:Ms(o)))}function YF(e,t,n,i){let r=Ba(t)??i,s=fo(e,r),o=s.resolve?s.resolve(t,n):_i(r,()=>s(t,n));return nr(o)}function Wg(e){return rn(t=>{let n=e(t);return n?pt(n).pipe($e(()=>t)):Ae(t)})}var jw=(()=>{let t=class t{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===Pe);return r}getResolvedTitleForRoute(i){return i.data[La]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:()=>de(qF),providedIn:"root"});let e=t;return e})(),qF=(()=>{let t=class t extends jw{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};t.\u0275fac=function(r){return new(r||t)(be(aw))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Ua=new Se("",{providedIn:"root",factory:()=>({})}),hd=new Se(""),Cm=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=de(Nu)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Ae(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=nr(i.loadComponent()).pipe($e($w),At(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),Os(()=>{this.componentLoaders.delete(i)})),s=new Bi(r,()=>new Ye).pipe(Vi());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ae({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=XF(r,this.compiler,i,this.onLoadEndListener).pipe(Os(()=>{this.childrenLoaders.delete(r)})),a=new Bi(o,()=>new Ye).pipe(Vi());return this.childrenLoaders.set(r,a),a}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function XF(e,t,n,i){return nr(e.loadChildren()).pipe($e($w),gt(r=>r instanceof na||Array.isArray(r)?Ae(r):pt(t.compileModuleAsync(r))),$e(r=>{i&&i(e);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(n).injector,o=s.get(hd,[],{optional:!0,self:!0}).flat()),{routes:o.map(xm),injector:s}}))}function QF(e){return e&&typeof e=="object"&&"default"in e}function $w(e){return QF(e)?e.default:e}var Tm=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:()=>de(ZF),providedIn:"root"});let e=t;return e})(),ZF=(()=>{let t=class t{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Gw=new Se(""),zw=new Se("");function KF(e,t,n){let i=e.get(zw),r=e.get(Tt);return e.get(We).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),JF(e))),{onViewTransitionCreated:l}=i;return l&&_i(e,()=>l({transition:a,from:t,to:n})),o})}function JF(e){return new Promise(t=>{cg(t,{injector:e})})}var Sm=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ye,this.transitionAbortSubject=new Ye,this.configLoader=de(Cm),this.environmentInjector=de(Ut),this.urlSerializer=de(Pa),this.rootContexts=de(Va),this.location=de(no),this.inputBindingEnabled=de(pd,{optional:!0})!==null,this.titleStrategy=de(jw),this.options=de(Ua,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=de(Tm),this.createViewTransition=de(Gw,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ae(void 0),this.rootComponentType=null;let i=s=>this.events.next(new nm(s)),r=s=>this.events.next(new im(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(et(_e(_e({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new xt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Da,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Et(o=>o.id!==0),$e(o=>et(_e({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),rn(o=>{let a=!1,l=!1;return Ae(o).pipe(rn(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",vn.SupersededByNewNavigation),vt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?et(_e({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!d&&h!=="reload"){let f="";return this.events.next(new tr(c.id,this.urlSerializer.serialize(c.rawUrl),f,rd.IgnoredSameUrlNavigation)),c.resolve(null),vt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Ae(c).pipe(rn(f=>{let u=this.transitions?.getValue();return this.events.next(new co(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),u!==this.transitions?.getValue()?vt:Promise.resolve(f)}),$F(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),At(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=et(_e({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let u=new sd(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(u)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:u,source:p,restoredState:g,extras:m}=c,b=new co(f,this.urlSerializer.serialize(u),p,g);this.events.next(b);let w=kw(this.rootComponentType).snapshot;return this.currentTransition=o=et(_e({},c),{targetSnapshot:w,urlAfterRedirects:u,extras:et(_e({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,Ae(o)}else{let f="";return this.events.next(new tr(c.id,this.urlSerializer.serialize(c.extractedUrl),f,rd.IgnoredByUrlHandlingStrategy)),c.resolve(null),vt}}),At(c=>{let d=new Kg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),$e(c=>(this.currentTransition=o=et(_e({},c),{guards:aF(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),_F(this.environmentInjector,c=>this.events.next(c)),At(c=>{if(o.guardsResult=c.guardsResult,lo(c.guardsResult))throw Fw(this.urlSerializer,c.guardsResult);let d=new Jg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),Et(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",vn.GuardRejected),!1)),Wg(c=>{if(c.guards.canActivateChecks.length)return Ae(c).pipe(At(d=>{let h=new em(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),rn(d=>{let h=!1;return Ae(d).pipe(GF(this.paramsInheritanceStrategy,this.environmentInjector),At({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",vn.NoDataFromResolver)}}))}),At(d=>{let h=new tm(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),Wg(c=>{let d=h=>{let f=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(h.routeConfig).pipe(At(u=>{h.component=u}),$e(()=>{})));for(let u of h.children)f.push(...d(u));return f};return ks(d(c.targetSnapshot.root)).pipe($i(null),nn(1))}),Wg(()=>this.afterPreactivation()),rn(()=>{let{currentSnapshot:c,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return h?pt(h).pipe($e(()=>o)):Ae(o)}),$e(c=>{let d=JR(i.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=et(_e({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),At(()=>{this.events.next(new ka)}),oF(this.rootContexts,i.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),nn(1),At({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ai(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),Ht(this.transitionAbortSubject.pipe(At(c=>{throw c}))),Os(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",vn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ji(c=>{if(l=!0,Pw(c))this.events.next(new er(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),nF(c)?this.events.next(new Oa(c.url)):o.resolve(!1);else{this.events.next(new Ma(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(i.errorHandler(c))}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return vt}))}))}cancelNavigationTransition(i,r,s){let o=new er(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function eL(e){return e!==Da}var tL=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:()=>de(nL),providedIn:"root"});let e=t;return e})(),vm=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},nL=(()=>{let t=class t extends vm{};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Nr(t)))(s||t)}})(),t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Ww=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:()=>de(iL),providedIn:"root"});let e=t;return e})(),iL=(()=>{let t=class t extends Ww{constructor(){super(...arguments),this.location=de(no),this.urlSerializer=de(Pa),this.options=de(Ua,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=de(Tm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ji,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=kw(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof co)this.stateMemento=this.createStateMemento();else if(i instanceof tr)this.rawUrlTree=r.initialUrl;else if(i instanceof sd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else i instanceof ka?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof er&&(i.code===vn.GuardRejected||i.code===vn.NoDataFromResolver)?this.restoreHistory(r):i instanceof Ma?this.restoreHistory(r,!0):i instanceof Ai&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=_e(_e({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=_e(_e({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Nr(t)))(s||t)}})(),t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Ta=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Ta||{});function Yw(e,t){e.events.pipe(Et(n=>n instanceof Ai||n instanceof er||n instanceof Ma||n instanceof tr),$e(n=>n instanceof Ai||n instanceof tr?Ta.COMPLETE:(n instanceof er?n.code===vn.Redirect||n.code===vn.SupersededByNewNavigation:!1)?Ta.REDIRECTING:Ta.FAILED),Et(n=>n!==Ta.REDIRECTING),nn(1)).subscribe(()=>{t()})}function rL(e){throw e}var sL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ur=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=de(Iu),this.stateManager=de(Ww),this.options=de(Ua,{optional:!0})||{},this.pendingTasks=de(xu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=de(Sm),this.urlSerializer=de(Pa),this.location=de(no),this.urlHandlingStrategy=de(Tm),this._events=new Ye,this.errorHandler=this.options.errorHandler||rL,this.navigated=!1,this.routeReuseStrategy=de(tL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=de(hd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!de(pd,{optional:!0}),this.eventsSubscription=new ft,this.isNgZoneEnabled=de(We)instanceof We&&We.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof er&&r.code!==vn.Redirect&&r.code!==vn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ai)this.navigated=!0;else if(r instanceof Oa){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),l={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||eL(s.source)};this.scheduleNavigation(a,Da,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}lL(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Da,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=_e({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(i);this.scheduleNavigation(l,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(xm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,d=c?this.currentUrlTree.fragment:a,h=null;switch(l){case"merge":h=_e(_e({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let f;try{let u=s?s.snapshot:this.routerState.snapshot.root;f=Ew(u)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),f=this.currentUrlTree.root}return Aw(f,i,h,d??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=lo(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Da,null,r)}navigate(i,r={skipLocationChange:!1}){return aL(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=_e({},sL):r===!1?s=_e({},oL):s=r,lo(i))return cw(this.currentUrlTree,i,s);let o=this.parseUrl(i);return cw(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,d;a?(l=a.resolve,c=a.reject,d=a.promise):d=new Promise((f,u)=>{l=f,c=u});let h=this.pendingTasks.add();return Yw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(f=>Promise.reject(f))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function aL(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new he(4008,!1)}function lL(e){return!(e instanceof ka)&&!(e instanceof Oa)}var fd=class{};var cL=(()=>{let t=class t{constructor(i,r,s,o,a){this.router=i,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Et(i=>i instanceof Ai),_r(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=bu(o.providers,i,`Route: ${o.path}`));let a=o._injector??i,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return pt(s).pipe(Hi())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(i,r):s=Ae(null);let o=s.pipe(gt(a=>a===null?Ae(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return pt([o,a]).pipe(Hi())}else return o})}};t.\u0275fac=function(r){return new(r||t)(be(Ur),be(Nu),be(Ut),be(fd),be(Cm))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),qw=new Se(""),uL=(()=>{let t=class t{constructor(i,r,s,o,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof co?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Ai?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof tr&&i.code===rd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof od&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new od(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(r){kb()},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})();function dL(e){return e.routerState.root}function ja(e,t){return{\u0275kind:e,\u0275providers:t}}function hL(){let e=de(Mt);return t=>{let n=e.get(ei);if(t!==n.components[0])return;let i=e.get(Ur),r=e.get(Xw);e.get(Dm)===1&&i.initialNavigation(),e.get(Qw,null,je.Optional)?.setUpPreloading(),e.get(qw,null,je.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Xw=new Se("",{factory:()=>new Ye}),Dm=new Se("",{providedIn:"root",factory:()=>1});function fL(){return ja(2,[{provide:Dm,useValue:0},{provide:Ou,multi:!0,deps:[Mt],useFactory:t=>{let n=t.get(Vx,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=t.get(Ur),s=t.get(Xw);Yw(r,()=>{i(!0)}),t.get(Sm).afterPreactivation=()=>(i(!0),s.closed?Ae(void 0):s),r.initialNavigation()}))}}])}function pL(){return ja(3,[{provide:Ou,multi:!0,useFactory:()=>{let t=de(Ur);return()=>{t.setUpLocationChangeListener()}}},{provide:Dm,useValue:2}])}var Qw=new Se("");function gL(e){return ja(0,[{provide:Qw,useExisting:cL},{provide:fd,useExisting:e}])}function mL(){return ja(8,[fw,{provide:pd,useExisting:fw}])}function _L(e){let t=[{provide:Gw,useValue:KF},{provide:zw,useValue:_e({skipNextTransition:!!e?.skipInitialTransition},e)}];return ja(9,t)}var gw=new Se("ROUTER_FORROOT_GUARD"),vL=[no,{provide:Pa,useClass:Aa},Ur,Va,{provide:uo,useFactory:dL,deps:[Ur]},Cm,[]],Em=(()=>{let t=class t{constructor(i){}static forRoot(i,r){return{ngModule:t,providers:[vL,[],{provide:hd,multi:!0,useValue:i},{provide:gw,useFactory:wL,deps:[[Ur,new sa,new eu]]},{provide:Ua,useValue:r||{}},r?.useHash?bL():xL(),yL(),r?.preloadingStrategy?gL(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?CL(r):[],r?.bindToComponentInputs?mL().\u0275providers:[],r?.enableViewTransitions?_L().\u0275providers:[],TL()]}}static forChild(i){return{ngModule:t,providers:[{provide:hd,multi:!0,useValue:i}]}}};t.\u0275fac=function(r){return new(r||t)(be(gw,8))},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({});let e=t;return e})();function yL(){return{provide:qw,useFactory:()=>{let e=de(Kx),t=de(We),n=de(Ua),i=de(Sm),r=de(Pa);return n.scrollOffset&&e.setOffset(n.scrollOffset),new uL(r,i,e,t,n)}}}function bL(){return{provide:Lr,useClass:Hx}}function xL(){return{provide:Lr,useClass:Og}}function wL(e){return"guarded"}function CL(e){return[e.initialNavigation==="disabled"?pL().\u0275providers:[],e.initialNavigation==="enabledBlocking"?fL().\u0275providers:[]]}var mw=new Se("");function TL(){return[{provide:mw,useFactory:hL},{provide:_g,multi:!0,useExisting:mw}]}var SL=[],Zw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({imports:[Em.forRoot(SL),Em]});let e=t;return e})();var dq=Bh(Im(),1),Jw=Bh(Im(),1);var ir=function(e){return e[e.CLOSED=0]="CLOSED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED",e}(ir||{});var e1=new Se("NgxMqttServiceConfig"),t1=new Se("NgxMqttClientService"),n1=(()=>{let t=class t{static forRoot(i,r){return{ngModule:t,providers:[{provide:e1,useValue:i},{provide:t1,useValue:r}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({});let e=t;return e})();function md(e,...t){if(!t.length)return e;let n=t.shift();if(Mm(e)&&Mm(n))for(let i in n)Mm(n[i])?(e[i]||Object.assign(e,{[i]:{}}),md(e[i],n[i])):Object.assign(e,{[i]:n[i]});return md(e,...t)}function Mm(e){return e&&typeof e=="object"&&!Array.isArray(e)}var i1=(()=>{let t=class t{constructor(i,r){this.options=i,this.observables={},this.state=new xt(ir.CLOSED),this.messages=new Ye,this._clientId=this._generateClientId(),this._connectTimeout=1e4,this._reconnectPeriod=1e4,this._onConnect=new ye,this._onReconnect=new ye,this._onClose=new ye,this._onOffline=new ye,this._onError=new ye,this._onEnd=new ye,this._onMessage=new ye,this._onSuback=new ye,this._onPacketsend=new ye,this._onPacketreceive=new ye,this._handleOnConnect=s=>{this.options.connectOnCreate===!0&&Object.keys(this.observables).forEach(o=>{this.client.subscribe(o)}),this.state.next(ir.CONNECTED),this._onConnect.emit(s)},this._handleOnReconnect=()=>{this.options.connectOnCreate===!0&&Object.keys(this.observables).forEach(s=>{this.client.subscribe(s)}),this.state.next(ir.CONNECTING),this._onReconnect.emit()},this._handleOnClose=()=>{this.state.next(ir.CLOSED),this._onClose.emit()},this._handleOnOffline=()=>{this._onOffline.emit()},this._handleOnError=s=>{this._onError.emit(s),console.error(s)},this._handleOnEnd=()=>{this._onEnd.emit()},this._handleOnMessage=(s,o,a)=>{this._onMessage.emit(a),a.cmd==="publish"&&this.messages.next(a)},this._handleOnPacketsend=s=>{this._onPacketsend.emit(s)},this._handleOnPacketreceive=s=>{this._onPacketreceive.emit(s)},i.connectOnCreate!==!1&&this.connect({},r),this.state.subscribe()}get clientId(){return this._clientId}get onConnect(){return this._onConnect}get onReconnect(){return this._onReconnect}get onClose(){return this._onClose}get onOffline(){return this._onOffline}get onError(){return this._onError}get onEnd(){return this._onEnd}get onMessage(){return this._onMessage}get onPacketsend(){return this._onPacketsend}get onPacketreceive(){return this._onPacketreceive}get onSuback(){return this._onSuback}static filterMatchesTopic(i,r){if(i[0]==="#"&&r[0]==="$")return!1;let s=(i||"").split("/").reverse(),o=(r||"").split("/").reverse(),a=()=>{let l=s.pop(),c=o.pop();switch(l){case"#":return!0;case"+":return c?a():!1;default:return l===c&&(l===void 0?!0:a())}};return a()}connect(i,r){let s=md(this.options||{},i),o=s.protocol||"ws",a=s.hostname||"localhost";s.url?this._url=s.url:(this._url=`${o}://${a}`,this._url+=s.port?`:${s.port}`:"",this._url+=s.path?`${s.path}`:""),this.state.next(ir.CONNECTING);let l=md({clientId:this._clientId,reconnectPeriod:this._reconnectPeriod,connectTimeout:this._connectTimeout},s);this.client&&this.client.end(!0),r?this.client=r:this.client=(0,Jw.connect)(this._url,l),this._clientId=l.clientId,this.client.on("connect",this._handleOnConnect),this.client.on("reconnect",this._handleOnReconnect),this.client.on("close",this._handleOnClose),this.client.on("offline",this._handleOnOffline),this.client.on("error",this._handleOnError),this.client.stream.on("error",this._handleOnError),this.client.on("end",this._handleOnEnd),this.client.on("message",this._handleOnMessage),this.client.on("packetsend",this._handleOnPacketsend),this.client.on("packetreceive",this._handleOnPacketreceive)}disconnect(i=!0){if(!this.client)throw new Error("mqtt client not connected");this.client.end(i)}observeRetained(i,r={qos:1}){return this._generalObserve(i,()=>df(1),r)}observe(i,r={qos:1}){return this._generalObserve(i,()=>uf(),r)}_generalObserve(i,r,s){if(!this.client)throw new Error("mqtt client not connected");if(!this.observables[i]){let o=new Ye;this.observables[i]=sf(()=>{let a=new ft;return this.client.subscribe(i,s,(l,c)=>{c&&c.forEach(d=>{d.qos===128&&(delete this.observables[d.topic],this.client.unsubscribe(d.topic),o.error(`subscription for '${d.topic}' rejected!`)),this._onSuback.emit({filter:i,granted:d.qos!==128})})}),a.add(()=>{delete this.observables[i],this.client.unsubscribe(i)}),a},a=>ac(o,this.messages)).pipe(Et(a=>t.filterMatchesTopic(i,a.topic)),r(),Vi())}return this.observables[i]}publish(i,r,s={}){if(!this.client)throw new Error("mqtt client not connected");return Oe.create(o=>{this.client.publish(i,r,s,a=>{a?o.error(a):(o.next(),o.complete())})})}unsafePublish(i,r,s={}){if(!this.client)throw new Error("mqtt client not connected");this.client.publish(i,r,s,o=>{if(o)throw o})}_generateClientId(){return"client-"+Math.random().toString(36).substr(2,19)}};t.\u0275fac=function(r){return new(r||t)(be(e1),be(t1))},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var $a=class{constructor(t,n){let i=new Date,r=i.getHours().toString().padStart(2,"0"),s=i.getMinutes().toString().padStart(2,"0"),o=i.getSeconds().toString().padStart(2,"0");switch(n){case 0:this.value=t.temp;break;case 1:this.value=t.humi;break;case 2:this.value=t.lux;break;default:this.value=0}this.name=`${r}:${s}:${o}`}},jr=class{constructor(t){this.name=t,this.series=[]}};var r1=(()=>{let t=class t{constructor(){this.granted=!1}requestPermission(){return"Notification"in window&&Notification.requestPermission().then(i=>this.granted=i==="granted"),this.granted}sendNotification(i){if(this.granted){let r=new Notification("High Temperature Alert!",{body:`The current temperature is ${i}\xB0C, which is extremely high.`,icon:"/assets/danger.png"});r.onclick=()=>window.focus()}else console.log("No permission to send notifications.")}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Ga=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},za=class extends Ga{constructor(t,n,i,r,s){super(),this.component=t,this.viewContainerRef=n,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}},km=class extends Ga{constructor(t,n,i,r){super(),this.templateRef=t,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,n=this.context){return this.context=n,super.attach(t)}detach(){return this.context=void 0,super.detach()}},Om=class extends Ga{constructor(t){super(),this.element=t instanceof mt?t.nativeElement:t}},Nm=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof za)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof km)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof Om)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var _d=class extends Nm{constructor(t,n,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=n,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(t){let i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||Mt.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let n=t.viewContainerRef,i=n.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);r!==-1&&n.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var Ve=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(Ve||{}),ri="*";function Ya(e,t){return{type:Ve.Trigger,name:e,definitions:t,options:{}}}function po(e,t=null){return{type:Ve.Animate,styles:t,timings:e}}function s1(e,t=null){return{type:Ve.Sequence,steps:e,options:t}}function cn(e){return{type:Ve.Style,styles:e,offset:null}}function go(e,t,n=null){return{type:Ve.Transition,expr:e,animation:t,options:n}}var rr=class{constructor(t=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let n=t=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},Wa=class{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let n=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let n=t*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){let t=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let n=t=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},vd="!";var yd="http://www.w3.org/1999/xhtml",Rm={svg:"http://www.w3.org/2000/svg",xhtml:yd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ii(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Rm.hasOwnProperty(t)?{space:Rm[t],local:e}:e}function AL(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===yd&&t.documentElement.namespaceURI===yd?t.createElement(e):t.createElementNS(n,e)}}function IL(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function bd(e){var t=Ii(e);return(t.local?IL:AL)(t)}function ML(){}function $r(e){return e==null?ML:function(){return this.querySelector(e)}}function o1(e){typeof e!="function"&&(e=$r(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],o=s.length,a=i[r]=new Array(o),l,c,d=0;d<o;++d)(l=s[d])&&(c=e.call(l,l.__data__,d,s))&&("__data__"in l&&(c.__data__=l.__data__),a[d]=c);return new _t(i,this._parents)}function Fm(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function kL(){return[]}function qa(e){return e==null?kL:function(){return this.querySelectorAll(e)}}function OL(e){return function(){return Fm(e.apply(this,arguments))}}function a1(e){typeof e=="function"?e=OL(e):e=qa(e);for(var t=this._groups,n=t.length,i=[],r=[],s=0;s<n;++s)for(var o=t[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(i.push(e.call(l,l.__data__,c,o)),r.push(l));return new _t(i,r)}function Xa(e){return function(){return this.matches(e)}}function xd(e){return function(t){return t.matches(e)}}var NL=Array.prototype.find;function RL(e){return function(){return NL.call(this.children,e)}}function FL(){return this.firstElementChild}function l1(e){return this.select(e==null?FL:RL(typeof e=="function"?e:xd(e)))}var LL=Array.prototype.filter;function PL(){return Array.from(this.children)}function VL(e){return function(){return LL.call(this.children,e)}}function c1(e){return this.selectAll(e==null?PL:VL(typeof e=="function"?e:xd(e)))}function u1(e){typeof e!="function"&&(e=Xa(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],o=s.length,a=i[r]=[],l,c=0;c<o;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new _t(i,this._parents)}function wd(e){return new Array(e.length)}function d1(){return new _t(this._enter||this._groups.map(wd),this._parents)}function Qa(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Qa.prototype={constructor:Qa,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function h1(e){return function(){return e}}function BL(e,t,n,i,r,s){for(var o=0,a,l=t.length,c=s.length;o<c;++o)(a=t[o])?(a.__data__=s[o],i[o]=a):n[o]=new Qa(e,s[o]);for(;o<l;++o)(a=t[o])&&(r[o]=a)}function HL(e,t,n,i,r,s,o){var a,l,c=new Map,d=t.length,h=s.length,f=new Array(d),u;for(a=0;a<d;++a)(l=t[a])&&(f[a]=u=o.call(l,l.__data__,a,t)+"",c.has(u)?r[a]=l:c.set(u,l));for(a=0;a<h;++a)u=o.call(e,s[a],a,s)+"",(l=c.get(u))?(i[a]=l,l.__data__=s[a],c.delete(u)):n[a]=new Qa(e,s[a]);for(a=0;a<d;++a)(l=t[a])&&c.get(f[a])===l&&(r[a]=l)}function UL(e){return e.__data__}function f1(e,t){if(!arguments.length)return Array.from(this,UL);var n=t?HL:BL,i=this._parents,r=this._groups;typeof e!="function"&&(e=h1(e));for(var s=r.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var d=i[c],h=r[c],f=h.length,u=jL(e.call(d,d&&d.__data__,c,i)),p=u.length,g=a[c]=new Array(p),m=o[c]=new Array(p),b=l[c]=new Array(f);n(d,h,g,m,b,u,t);for(var w=0,C=0,x,T;w<p;++w)if(x=g[w]){for(w>=C&&(C=w+1);!(T=m[C])&&++C<p;);x._next=T||null}}return o=new _t(o,i),o._enter=a,o._exit=l,o}function jL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function p1(){return new _t(this._exit||this._groups.map(wd),this._parents)}function g1(e,t,n){var i=this.enter(),r=this,s=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?s.remove():n(s),i&&r?i.merge(r).order():r}function m1(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,s=i.length,o=Math.min(r,s),a=new Array(r),l=0;l<o;++l)for(var c=n[l],d=i[l],h=c.length,f=a[l]=new Array(h),u,p=0;p<h;++p)(u=c[p]||d[p])&&(f[p]=u);for(;l<r;++l)a[l]=n[l];return new _t(a,this._parents)}function _1(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],r=i.length-1,s=i[r],o;--r>=0;)(o=i[r])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function v1(e){e||(e=$L);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var n=this._groups,i=n.length,r=new Array(i),s=0;s<i;++s){for(var o=n[s],a=o.length,l=r[s]=new Array(a),c,d=0;d<a;++d)(c=o[d])&&(l[d]=c);l.sort(t)}return new _t(r,this._parents).order()}function $L(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function y1(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function b1(){return Array.from(this)}function x1(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null}function w1(){let e=0;for(let t of this)++e;return e}function C1(){return!this.node()}function T1(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r=t[n],s=0,o=r.length,a;s<o;++s)(a=r[s])&&e.call(a,a.__data__,s,r);return this}function GL(e){return function(){this.removeAttribute(e)}}function zL(e){return function(){this.removeAttributeNS(e.space,e.local)}}function WL(e,t){return function(){this.setAttribute(e,t)}}function YL(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function qL(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function XL(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function S1(e,t){var n=Ii(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?zL:GL:typeof t=="function"?n.local?XL:qL:n.local?YL:WL)(n,t))}function Cd(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function QL(e){return function(){this.style.removeProperty(e)}}function ZL(e,t,n){return function(){this.style.setProperty(e,t,n)}}function KL(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function D1(e,t,n){return arguments.length>1?this.each((t==null?QL:typeof t=="function"?KL:ZL)(e,t,n??"")):sr(this.node(),e)}function sr(e,t){return e.style.getPropertyValue(t)||Cd(e).getComputedStyle(e,null).getPropertyValue(t)}function JL(e){return function(){delete this[e]}}function eP(e,t){return function(){this[e]=t}}function tP(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function E1(e,t){return arguments.length>1?this.each((t==null?JL:typeof t=="function"?tP:eP)(e,t)):this.node()[e]}function A1(e){return e.trim().split(/^|\s+/)}function Lm(e){return e.classList||new I1(e)}function I1(e){this._node=e,this._names=A1(e.getAttribute("class")||"")}I1.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function M1(e,t){for(var n=Lm(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function k1(e,t){for(var n=Lm(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function nP(e){return function(){M1(this,e)}}function iP(e){return function(){k1(this,e)}}function rP(e,t){return function(){(t.apply(this,arguments)?M1:k1)(this,e)}}function O1(e,t){var n=A1(e+"");if(arguments.length<2){for(var i=Lm(this.node()),r=-1,s=n.length;++r<s;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?rP:t?nP:iP)(n,t))}function sP(){this.textContent=""}function oP(e){return function(){this.textContent=e}}function aP(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function N1(e){return arguments.length?this.each(e==null?sP:(typeof e=="function"?aP:oP)(e)):this.node().textContent}function lP(){this.innerHTML=""}function cP(e){return function(){this.innerHTML=e}}function uP(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function R1(e){return arguments.length?this.each(e==null?lP:(typeof e=="function"?uP:cP)(e)):this.node().innerHTML}function dP(){this.nextSibling&&this.parentNode.appendChild(this)}function F1(){return this.each(dP)}function hP(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function L1(){return this.each(hP)}function P1(e){var t=typeof e=="function"?e:bd(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function fP(){return null}function V1(e,t){var n=typeof e=="function"?e:bd(e),i=t==null?fP:typeof t=="function"?t:$r(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function pP(){var e=this.parentNode;e&&e.removeChild(this)}function B1(){return this.each(pP)}function gP(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function mP(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function H1(e){return this.select(e?mP:gP)}function U1(e){return arguments.length?this.property("__data__",e):this.node().__data__}function _P(e){return function(t){e.call(this,t,this.__data__)}}function vP(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function yP(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,r=t.length,s;n<r;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++i]=s;++i?t.length=i:delete this.__on}}}function bP(e,t,n){return function(){var i=this.__on,r,s=_P(t);if(i){for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=t;return}}this.addEventListener(e.type,s,n),r={type:e.type,name:e.name,value:t,listener:s,options:n},i?i.push(r):this.__on=[r]}}function j1(e,t,n){var i=vP(e+""),r,s=i.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,d;l<c;++l)for(r=0,d=a[l];r<s;++r)if((o=i[r]).type===d.type&&o.name===d.name)return d.value}return}for(a=t?bP:yP,r=0;r<s;++r)this.each(a(i[r],t,n));return this}function $1(e,t,n){var i=Cd(e),r=i.CustomEvent;typeof r=="function"?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function xP(e,t){return function(){return $1(this,e,t)}}function wP(e,t){return function(){return $1(this,e,t.apply(this,arguments))}}function G1(e,t){return this.each((typeof t=="function"?wP:xP)(e,t))}function*z1(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,s=i.length,o;r<s;++r)(o=i[r])&&(yield o)}var Pm=[null];function _t(e,t){this._groups=e,this._parents=t}function W1(){return new _t([[document.documentElement]],Pm)}function CP(){return this}_t.prototype=W1.prototype={constructor:_t,select:o1,selectAll:a1,selectChild:l1,selectChildren:c1,filter:u1,data:f1,enter:d1,exit:p1,join:g1,merge:m1,selection:CP,order:_1,sort:v1,call:y1,nodes:b1,node:x1,size:w1,empty:C1,each:T1,attr:S1,style:D1,property:E1,classed:O1,text:N1,html:R1,raise:F1,lower:L1,append:P1,insert:V1,remove:B1,clone:H1,datum:U1,on:j1,dispatch:G1,[Symbol.iterator]:z1};var Mi=W1;function $t(e){return typeof e=="string"?new _t([[document.querySelector(e)]],[document.documentElement]):new _t([[e]],Pm)}function Y1(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Td(e,t){if(e=Y1(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}var TP={value:()=>{}};function X1(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Sd(n)}function Sd(e){this._=e}function SP(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Sd.prototype=X1.prototype={constructor:Sd,on:function(e,t){var n=this._,i=SP(e+"",n),r,s=-1,o=i.length;if(arguments.length<2){for(;++s<o;)if((r=(e=i[s]).type)&&(r=DP(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(r=(e=i[s]).type)n[r]=q1(n[r],e.name,t);else if(t==null)for(r in n)n[r]=q1(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Sd(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,s;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],i=0,r=s.length;i<r;++i)s[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)}};function DP(e,t){for(var n=0,i=e.length,r;n<i;++n)if((r=e[n]).name===t)return r.value}function q1(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=TP,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var Za=X1;var Dd={capture:!0,passive:!1};function Ed(e){e.preventDefault(),e.stopImmediatePropagation()}function Vm(e){var t=e.document.documentElement,n=$t(e).on("dragstart.drag",Ed,Dd);"onselectstart"in t?n.on("selectstart.drag",Ed,Dd):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Bm(e,t){var n=e.document.documentElement,i=$t(e).on("dragstart.drag",null);t&&(i.on("click.drag",Ed,Dd),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ad(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Hm(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function el(){}var Ka=.7,kd=1/Ka,mo="\\s*([+-]?\\d+)\\s*",Ja="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",si="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",EP=/^#([0-9a-f]{3,8})$/,AP=new RegExp(`^rgb\\(${mo},${mo},${mo}\\)$`),IP=new RegExp(`^rgb\\(${si},${si},${si}\\)$`),MP=new RegExp(`^rgba\\(${mo},${mo},${mo},${Ja}\\)$`),kP=new RegExp(`^rgba\\(${si},${si},${si},${Ja}\\)$`),OP=new RegExp(`^hsl\\(${Ja},${si},${si}\\)$`),NP=new RegExp(`^hsla\\(${Ja},${si},${si},${Ja}\\)$`),Q1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ad(el,jn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Z1,formatHex:Z1,formatHex8:RP,formatHsl:FP,formatRgb:K1,toString:K1});function Z1(){return this.rgb().formatHex()}function RP(){return this.rgb().formatHex8()}function FP(){return rC(this).formatHsl()}function K1(){return this.rgb().formatRgb()}function jn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=EP.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?J1(t):n===3?new un(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Id(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Id(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=AP.exec(e))?new un(t[1],t[2],t[3],1):(t=IP.exec(e))?new un(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=MP.exec(e))?Id(t[1],t[2],t[3],t[4]):(t=kP.exec(e))?Id(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=OP.exec(e))?nC(t[1],t[2]/100,t[3]/100,1):(t=NP.exec(e))?nC(t[1],t[2]/100,t[3]/100,t[4]):Q1.hasOwnProperty(e)?J1(Q1[e]):e==="transparent"?new un(NaN,NaN,NaN,0):null}function J1(e){return new un(e>>16&255,e>>8&255,e&255,1)}function Id(e,t,n,i){return i<=0&&(e=t=n=NaN),new un(e,t,n,i)}function LP(e){return e instanceof el||(e=jn(e)),e?(e=e.rgb(),new un(e.r,e.g,e.b,e.opacity)):new un}function _o(e,t,n,i){return arguments.length===1?LP(e):new un(e,t,n,i??1)}function un(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Ad(un,_o,Hm(el,{brighter(e){return e=e==null?kd:Math.pow(kd,e),new un(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ka:Math.pow(Ka,e),new un(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new un(zr(this.r),zr(this.g),zr(this.b),Od(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eC,formatHex:eC,formatHex8:PP,formatRgb:tC,toString:tC}));function eC(){return`#${Gr(this.r)}${Gr(this.g)}${Gr(this.b)}`}function PP(){return`#${Gr(this.r)}${Gr(this.g)}${Gr(this.b)}${Gr((isNaN(this.opacity)?1:this.opacity)*255)}`}function tC(){let e=Od(this.opacity);return`${e===1?"rgb(":"rgba("}${zr(this.r)}, ${zr(this.g)}, ${zr(this.b)}${e===1?")":`, ${e})`}`}function Od(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gr(e){return e=zr(e),(e<16?"0":"")+e.toString(16)}function nC(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Un(e,t,n,i)}function rC(e){if(e instanceof Un)return new Un(e.h,e.s,e.l,e.opacity);if(e instanceof el||(e=jn(e)),!e)return new Un;if(e instanceof Un)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),s=Math.max(t,n,i),o=NaN,a=s-r,l=(s+r)/2;return a?(t===s?o=(n-i)/a+(n<i)*6:n===s?o=(i-t)/a+2:o=(t-n)/a+4,a/=l<.5?s+r:2-s-r,o*=60):a=l>0&&l<1?0:o,new Un(o,a,l,e.opacity)}function sC(e,t,n,i){return arguments.length===1?rC(e):new Un(e,t,n,i??1)}function Un(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Ad(Un,sC,Hm(el,{brighter(e){return e=e==null?kd:Math.pow(kd,e),new Un(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ka:Math.pow(Ka,e),new Un(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new un(Um(e>=240?e-240:e+120,r,i),Um(e,r,i),Um(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new Un(iC(this.h),Md(this.s),Md(this.l),Od(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=Od(this.opacity);return`${e===1?"hsl(":"hsla("}${iC(this.h)}, ${Md(this.s)*100}%, ${Md(this.l)*100}%${e===1?")":`, ${e})`}`}}));function iC(e){return e=(e||0)%360,e<0?e+360:e}function Md(e){return Math.max(0,Math.min(1,e||0))}function Um(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function jm(e,t,n,i,r){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*n+(1+3*e+3*s-3*o)*i+o*r)/6}function oC(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[i],s=e[i+1],o=i>0?e[i-1]:2*r-s,a=i<t-1?e[i+2]:2*s-r;return jm((n-i/t)*t,o,r,s,a)}}function aC(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),r=e[(i+t-1)%t],s=e[i%t],o=e[(i+1)%t],a=e[(i+2)%t];return jm((n-i/t)*t,r,s,o,a)}}var tl=e=>()=>e;function VP(e,t){return function(n){return e+n*t}}function BP(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function lC(e){return(e=+e)==1?Nd:function(t,n){return n-t?BP(t,n,e):tl(isNaN(t)?n:t)}}function Nd(e,t){var n=t-e;return n?VP(e,n):tl(isNaN(e)?t:e)}var Wr=function e(t){var n=lC(t);function i(r,s){var o=n((r=_o(r)).r,(s=_o(s)).r),a=n(r.g,s.g),l=n(r.b,s.b),c=Nd(r.opacity,s.opacity);return function(d){return r.r=o(d),r.g=a(d),r.b=l(d),r.opacity=c(d),r+""}}return i.gamma=e,i}(1);function cC(e){return function(t){var n=t.length,i=new Array(n),r=new Array(n),s=new Array(n),o,a;for(o=0;o<n;++o)a=_o(t[o]),i[o]=a.r||0,r[o]=a.g||0,s[o]=a.b||0;return i=e(i),r=e(r),s=e(s),a.opacity=1,function(l){return a.r=i(l),a.g=r(l),a.b=s(l),a+""}}}var HP=cC(oC),UP=cC(aC);function uC(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),r;return function(s){for(r=0;r<n;++r)i[r]=e[r]*(1-s)+t[r]*s;return i}}function dC(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function hC(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),s=new Array(n),o;for(o=0;o<i;++o)r[o]=ki(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<i;++o)s[o]=r[o](a);return s}}function fC(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function Pt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function pC(e,t){var n={},i={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=ki(e[r],t[r]):i[r]=t[r];return function(s){for(r in n)i[r]=n[r](s);return i}}var Gm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$m=new RegExp(Gm.source,"g");function jP(e){return function(){return e}}function $P(e){return function(t){return e(t)+""}}function nl(e,t){var n=Gm.lastIndex=$m.lastIndex=0,i,r,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(i=Gm.exec(e))&&(r=$m.exec(t));)(s=r.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(i=i[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:Pt(i,r)})),n=$m.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?$P(l[0].x):jP(t):(t=l.length,function(c){for(var d=0,h;d<t;++d)a[(h=l[d]).i]=h.x(c);return a.join("")})}function ki(e,t){var n=typeof t,i;return t==null||n==="boolean"?tl(t):(n==="number"?Pt:n==="string"?(i=jn(t))?(t=i,Wr):nl:t instanceof jn?Wr:t instanceof Date?fC:dC(t)?uC:Array.isArray(t)?hC:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?pC:Pt)(e,t)}function zm(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var gC=180/Math.PI,Rd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Wm(e,t,n,i,r,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),e*i<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(t,e)*gC,skewX:Math.atan(l)*gC,scaleX:o,scaleY:a}}var Fd;function mC(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Rd:Wm(t.a,t.b,t.c,t.d,t.e,t.f)}function _C(e){return e==null?Rd:(Fd||(Fd=document.createElementNS("http://www.w3.org/2000/svg","g")),Fd.setAttribute("transform",e),(e=Fd.transform.baseVal.consolidate())?(e=e.matrix,Wm(e.a,e.b,e.c,e.d,e.e,e.f)):Rd)}function vC(e,t,n,i){function r(c){return c.length?c.pop()+" ":""}function s(c,d,h,f,u,p){if(c!==h||d!==f){var g=u.push("translate(",null,t,null,n);p.push({i:g-4,x:Pt(c,h)},{i:g-2,x:Pt(d,f)})}else(h||f)&&u.push("translate("+h+t+f+n)}function o(c,d,h,f){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),f.push({i:h.push(r(h)+"rotate(",null,i)-2,x:Pt(c,d)})):d&&h.push(r(h)+"rotate("+d+i)}function a(c,d,h,f){c!==d?f.push({i:h.push(r(h)+"skewX(",null,i)-2,x:Pt(c,d)}):d&&h.push(r(h)+"skewX("+d+i)}function l(c,d,h,f,u,p){if(c!==h||d!==f){var g=u.push(r(u)+"scale(",null,",",null,")");p.push({i:g-4,x:Pt(c,h)},{i:g-2,x:Pt(d,f)})}else(h!==1||f!==1)&&u.push(r(u)+"scale("+h+","+f+")")}return function(c,d){var h=[],f=[];return c=e(c),d=e(d),s(c.translateX,c.translateY,d.translateX,d.translateY,h,f),o(c.rotate,d.rotate,h,f),a(c.skewX,d.skewX,h,f),l(c.scaleX,c.scaleY,d.scaleX,d.scaleY,h,f),c=d=null,function(u){for(var p=-1,g=f.length,m;++p<g;)h[(m=f[p]).i]=m.x(u);return h.join("")}}}var Ym=vC(mC,"px, ","px)","deg)"),qm=vC(_C,", ",")",")");var vo=0,rl=0,il=0,bC=1e3,Ld,sl,Pd=0,Yr=0,Vd=0,ol=typeof performance=="object"&&performance.now?performance:Date,xC=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ll(){return Yr||(xC(GP),Yr=ol.now()+Vd)}function GP(){Yr=0}function al(){this._call=this._time=this._next=null}al.prototype=Bd.prototype={constructor:al,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ll():+n)+(t==null?0:+t),!this._next&&sl!==this&&(sl?sl._next=this:Ld=this,sl=this),this._call=e,this._time=n,Xm()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xm())}};function Bd(e,t,n){var i=new al;return i.restart(e,t,n),i}function wC(){ll(),++vo;for(var e=Ld,t;e;)(t=Yr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--vo}function yC(){Yr=(Pd=ol.now())+Vd,vo=rl=0;try{wC()}finally{vo=0,WP(),Yr=0}}function zP(){var e=ol.now(),t=e-Pd;t>bC&&(Vd-=t,Pd=e)}function WP(){for(var e,t=Ld,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ld=n);sl=e,Xm(i)}function Xm(e){if(!vo){rl&&(rl=clearTimeout(rl));var t=e-Yr;t>24?(e<1/0&&(rl=setTimeout(yC,e-ol.now()-Vd)),il&&(il=clearInterval(il))):(il||(Pd=ol.now(),il=setInterval(zP,bC)),vo=1,xC(yC))}}function Hd(e,t,n){var i=new al;return t=t==null?0:+t,i.restart(r=>{i.stop(),e(r+t)},t,n),i}var YP=Za("start","end","cancel","interrupt"),qP=[],SC=0,CC=1,jd=2,Ud=3,TC=4,$d=5,cl=6;function or(e,t,n,i,r,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;XP(e,n,{name:t,index:i,group:r,on:YP,tween:qP,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:SC})}function ul(e,t){var n=Ot(e,t);if(n.state>SC)throw new Error("too late; already scheduled");return n}function Vt(e,t){var n=Ot(e,t);if(n.state>Ud)throw new Error("too late; already running");return n}function Ot(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function XP(e,t,n){var i=e.__transition,r;i[t]=n,n.timer=Bd(s,0,n.time);function s(c){n.state=CC,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var d,h,f,u;if(n.state!==CC)return l();for(d in i)if(u=i[d],u.name===n.name){if(u.state===Ud)return Hd(o);u.state===TC?(u.state=cl,u.timer.stop(),u.on.call("interrupt",e,e.__data__,u.index,u.group),delete i[d]):+d<t&&(u.state=cl,u.timer.stop(),u.on.call("cancel",e,e.__data__,u.index,u.group),delete i[d])}if(Hd(function(){n.state===Ud&&(n.state=TC,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=jd,n.on.call("start",e,e.__data__,n.index,n.group),n.state===jd){for(n.state=Ud,r=new Array(f=n.tween.length),d=0,h=-1;d<f;++d)(u=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(r[++h]=u);r.length=h+1}}function a(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=$d,1),h=-1,f=r.length;++h<f;)r[h].call(e,d);n.state===$d&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=cl,n.timer.stop(),delete i[t];for(var c in i)return;delete e.__transition}}function yo(e,t){var n=e.__transition,i,r,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((i=n[o]).name!==t){s=!1;continue}r=i.state>jd&&i.state<$d,i.state=cl,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[o]}s&&delete e.__transition}}function DC(e){return this.each(function(){yo(this,e)})}function QP(e,t){var n,i;return function(){var r=Vt(this,e),s=r.tween;if(s!==n){i=n=s;for(var o=0,a=i.length;o<a;++o)if(i[o].name===t){i=i.slice(),i.splice(o,1);break}}r.tween=i}}function ZP(e,t,n){var i,r;if(typeof n!="function")throw new Error;return function(){var s=Vt(this,e),o=s.tween;if(o!==i){r=(i=o).slice();for(var a={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=a;break}l===c&&r.push(a)}s.tween=r}}function EC(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=Ot(this.node(),n).tween,r=0,s=i.length,o;r<s;++r)if((o=i[r]).name===e)return o.value;return null}return this.each((t==null?QP:ZP)(n,e,t))}function bo(e,t,n){var i=e._id;return e.each(function(){var r=Vt(this,i);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return Ot(r,i).value[t]}}function Gd(e,t){var n;return(typeof t=="number"?Pt:t instanceof jn?Wr:(n=jn(t))?(t=n,Wr):nl)(e,t)}function KP(e){return function(){this.removeAttribute(e)}}function JP(e){return function(){this.removeAttributeNS(e.space,e.local)}}function e2(e,t,n){var i,r=n+"",s;return function(){var o=this.getAttribute(e);return o===r?null:o===i?s:s=t(i=o,n)}}function t2(e,t,n){var i,r=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===r?null:o===i?s:s=t(i=o,n)}}function n2(e,t,n){var i,r,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===i&&l===r?s:(r=l,s=t(i=o,a)))}}function i2(e,t,n){var i,r,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===i&&l===r?s:(r=l,s=t(i=o,a)))}}function AC(e,t){var n=Ii(e),i=n==="transform"?qm:Gd;return this.attrTween(e,typeof t=="function"?(n.local?i2:n2)(n,i,bo(this,"attr."+e,t)):t==null?(n.local?JP:KP)(n):(n.local?t2:e2)(n,i,t))}function r2(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function s2(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function o2(e,t){var n,i;function r(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&s2(e,s)),n}return r._value=t,r}function a2(e,t){var n,i;function r(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&r2(e,s)),n}return r._value=t,r}function IC(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=Ii(e);return this.tween(n,(i.local?o2:a2)(i,t))}function l2(e,t){return function(){ul(this,e).delay=+t.apply(this,arguments)}}function c2(e,t){return t=+t,function(){ul(this,e).delay=t}}function MC(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?l2:c2)(t,e)):Ot(this.node(),t).delay}function u2(e,t){return function(){Vt(this,e).duration=+t.apply(this,arguments)}}function d2(e,t){return t=+t,function(){Vt(this,e).duration=t}}function kC(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?u2:d2)(t,e)):Ot(this.node(),t).duration}function h2(e,t){if(typeof t!="function")throw new Error;return function(){Vt(this,e).ease=t}}function OC(e){var t=this._id;return arguments.length?this.each(h2(t,e)):Ot(this.node(),t).ease}function f2(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Vt(this,e).ease=n}}function NC(e){if(typeof e!="function")throw new Error;return this.each(f2(this._id,e))}function RC(e){typeof e!="function"&&(e=Xa(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],o=s.length,a=i[r]=[],l,c=0;c<o;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new Jt(i,this._parents,this._name,this._id)}function FC(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,s=Math.min(i,r),o=new Array(i),a=0;a<s;++a)for(var l=t[a],c=n[a],d=l.length,h=o[a]=new Array(d),f,u=0;u<d;++u)(f=l[u]||c[u])&&(h[u]=f);for(;a<i;++a)o[a]=t[a];return new Jt(o,this._parents,this._name,this._id)}function p2(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function g2(e,t,n){var i,r,s=p2(t)?ul:Vt;return function(){var o=s(this,e),a=o.on;a!==i&&(r=(i=a).copy()).on(t,n),o.on=r}}function LC(e,t){var n=this._id;return arguments.length<2?Ot(this.node(),n).on.on(e):this.each(g2(n,e,t))}function m2(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function PC(){return this.on("end.remove",m2(this._id))}function VC(e){var t=this._name,n=this._id;typeof e!="function"&&(e=$r(e));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var a=i[o],l=a.length,c=s[o]=new Array(l),d,h,f=0;f<l;++f)(d=a[f])&&(h=e.call(d,d.__data__,f,a))&&("__data__"in d&&(h.__data__=d.__data__),c[f]=h,or(c[f],t,n,f,c,Ot(d,n)));return new Jt(s,this._parents,t,n)}function BC(e){var t=this._name,n=this._id;typeof e!="function"&&(e=qa(e));for(var i=this._groups,r=i.length,s=[],o=[],a=0;a<r;++a)for(var l=i[a],c=l.length,d,h=0;h<c;++h)if(d=l[h]){for(var f=e.call(d,d.__data__,h,l),u,p=Ot(d,n),g=0,m=f.length;g<m;++g)(u=f[g])&&or(u,t,n,g,f,p);s.push(f),o.push(d)}return new Jt(s,o,t,n)}var _2=Mi.prototype.constructor;function HC(){return new _2(this._groups,this._parents)}function v2(e,t){var n,i,r;return function(){var s=sr(this,e),o=(this.style.removeProperty(e),sr(this,e));return s===o?null:s===n&&o===i?r:r=t(n=s,i=o)}}function UC(e){return function(){this.style.removeProperty(e)}}function y2(e,t,n){var i,r=n+"",s;return function(){var o=sr(this,e);return o===r?null:o===i?s:s=t(i=o,n)}}function b2(e,t,n){var i,r,s;return function(){var o=sr(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),sr(this,e))),o===l?null:o===i&&l===r?s:(r=l,s=t(i=o,a))}}function x2(e,t){var n,i,r,s="style."+t,o="end."+s,a;return function(){var l=Vt(this,e),c=l.on,d=l.value[s]==null?a||(a=UC(t)):void 0;(c!==n||r!==d)&&(i=(n=c).copy()).on(o,r=d),l.on=i}}function jC(e,t,n){var i=(e+="")=="transform"?Ym:Gd;return t==null?this.styleTween(e,v2(e,i)).on("end.style."+e,UC(e)):typeof t=="function"?this.styleTween(e,b2(e,i,bo(this,"style."+e,t))).each(x2(this._id,e)):this.styleTween(e,y2(e,i,t),n).on("end.style."+e,null)}function w2(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function C2(e,t,n){var i,r;function s(){var o=t.apply(this,arguments);return o!==r&&(i=(r=o)&&w2(e,o,n)),i}return s._value=t,s}function $C(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,C2(e,t,n??""))}function T2(e){return function(){this.textContent=e}}function S2(e){return function(){var t=e(this);this.textContent=t??""}}function GC(e){return this.tween("text",typeof e=="function"?S2(bo(this,"text",e)):T2(e==null?"":e+""))}function D2(e){return function(t){this.textContent=e.call(this,t)}}function E2(e){var t,n;function i(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&D2(r)),t}return i._value=e,i}function zC(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,E2(e))}function WC(){for(var e=this._name,t=this._id,n=zd(),i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var d=Ot(l,t);or(l,e,n,c,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Jt(i,this._parents,e,n)}function YC(){var e,t,n=this,i=n._id,r=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--r===0&&s()}};n.each(function(){var c=Vt(this,i),d=c.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),r===0&&s()})}var A2=0;function Jt(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function qC(e){return Mi().transition(e)}function zd(){return++A2}var Oi=Mi.prototype;Jt.prototype=qC.prototype={constructor:Jt,select:VC,selectAll:BC,selectChild:Oi.selectChild,selectChildren:Oi.selectChildren,filter:RC,merge:FC,selection:HC,transition:WC,call:Oi.call,nodes:Oi.nodes,node:Oi.node,size:Oi.size,empty:Oi.empty,each:Oi.each,on:LC,attr:AC,attrTween:IC,style:jC,styleTween:$C,text:GC,textTween:zC,remove:PC,tween:EC,delay:MC,duration:kC,ease:OC,easeVarying:NC,end:YC,[Symbol.iterator]:Oi[Symbol.iterator]};function Wd(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var I2={time:null,delay:0,duration:250,ease:Wd};function M2(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function XC(e){var t,n;e instanceof Jt?(t=e._id,e=e._name):(t=zd(),(n=I2).time=ll(),e=e==null?null:e+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&or(l,e,t,c,o,n||M2(l,t));return new Jt(i,this._parents,e,t)}Mi.prototype.interrupt=DC;Mi.prototype.transition=XC;var Yd=e=>()=>e;function Qm(e,{sourceEvent:t,target:n,selection:i,mode:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function QC(e){e.stopImmediatePropagation()}function qd(e){e.preventDefault(),e.stopImmediatePropagation()}var ZC={name:"drag"},Zm={name:"space"},xo={name:"handle"},wo={name:"center"},{abs:KC,max:Gt,min:zt}=Math;function JC(e){return[+e[0],+e[1]]}function e0(e){return[JC(e[0]),JC(e[1])]}var Xd={name:"x",handles:["w","e"].map(dl),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Km={name:"y",handles:["n","s"].map(dl),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},WZ={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(dl),input:function(e){return e==null?null:e0(e)},output:function(e){return e}},Ni={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},eT={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},tT={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},k2={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},O2={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function dl(e){return{type:e}}function N2(e){return!e.ctrlKey&&!e.button}function R2(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function F2(){return navigator.maxTouchPoints||"ontouchstart"in this}function Jm(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function L2(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function t0(){return P2(Xd)}function P2(e){var t=R2,n=N2,i=F2,r=!0,s=Za("start","brush","end"),o=6,a;function l(m){var b=m.property("__brush",g).selectAll(".overlay").data([dl("overlay")]);b.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ni.overlay).merge(b).each(function(){var C=Jm(this).extent;$t(this).attr("x",C[0][0]).attr("y",C[0][1]).attr("width",C[1][0]-C[0][0]).attr("height",C[1][1]-C[0][1])}),m.selectAll(".selection").data([dl("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ni.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var w=m.selectAll(".handle").data(e.handles,function(C){return C.type});w.exit().remove(),w.enter().append("rect").attr("class",function(C){return"handle handle--"+C.type}).attr("cursor",function(C){return Ni[C.type]}),m.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(i).on("touchstart.brush",f).on("touchmove.brush",u).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(m,b,w){m.tween?m.on("start.brush",function(C){d(this,arguments).beforestart().start(C)}).on("interrupt.brush end.brush",function(C){d(this,arguments).end(C)}).tween("brush",function(){var C=this,x=C.__brush,T=d(C,arguments),A=x.selection,O=e.input(typeof b=="function"?b.apply(this,arguments):b,x.extent),B=ki(A,O);function $(k){x.selection=k===1&&O===null?null:B(k),c.call(C),T.brush()}return A!==null&&O!==null?$:$(1)}):m.each(function(){var C=this,x=arguments,T=C.__brush,A=e.input(typeof b=="function"?b.apply(C,x):b,T.extent),O=d(C,x).beforestart();yo(C),T.selection=A===null?null:A,c.call(C),O.start(w).brush(w).end(w)})},l.clear=function(m,b){l.move(m,null,b)};function c(){var m=$t(this),b=Jm(this).selection;b?(m.selectAll(".selection").style("display",null).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1]),m.selectAll(".handle").style("display",null).attr("x",function(w){return w.type[w.type.length-1]==="e"?b[1][0]-o/2:b[0][0]-o/2}).attr("y",function(w){return w.type[0]==="s"?b[1][1]-o/2:b[0][1]-o/2}).attr("width",function(w){return w.type==="n"||w.type==="s"?b[1][0]-b[0][0]+o:o}).attr("height",function(w){return w.type==="e"||w.type==="w"?b[1][1]-b[0][1]+o:o})):m.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function d(m,b,w){var C=m.__brush.emitter;return C&&(!w||!C.clean)?C:new h(m,b,w)}function h(m,b,w){this.that=m,this.args=b,this.state=m.__brush,this.active=0,this.clean=w}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(m,b){return this.starting?(this.starting=!1,this.emit("start",m,b)):this.emit("brush",m),this},brush:function(m,b){return this.emit("brush",m,b),this},end:function(m,b){return--this.active===0&&(delete this.state.emitter,this.emit("end",m,b)),this},emit:function(m,b,w){var C=$t(this.that).datum();s.call(m,this.that,new Qm(m,{sourceEvent:b,target:l,selection:e.output(this.state.selection),mode:w,dispatch:s}),C)}};function f(m){if(a&&!m.touches||!n.apply(this,arguments))return;var b=this,w=m.target.__data__.type,C=(r&&m.metaKey?w="overlay":w)==="selection"?ZC:r&&m.altKey?wo:xo,x=e===Km?null:k2[w],T=e===Xd?null:O2[w],A=Jm(b),O=A.extent,B=A.selection,$=O[0][0],k,N,M=O[0][1],G,P,ue=O[1][0],X,Q,W=O[1][1],S,R,U=0,z=0,ce,re=x&&T&&r&&m.shiftKey,q,Y,te=Array.from(m.touches||[m],L=>{let Z=L.identifier;return L=Td(L,b),L.point0=L.slice(),L.identifier=Z,L});yo(b);var ie=d(b,arguments,!0).beforestart();if(w==="overlay"){B&&(ce=!0);let L=[te[0],te[1]||te[0]];A.selection=B=[[k=e===Km?$:zt(L[0][0],L[1][0]),G=e===Xd?M:zt(L[0][1],L[1][1])],[X=e===Km?ue:Gt(L[0][0],L[1][0]),S=e===Xd?W:Gt(L[0][1],L[1][1])]],te.length>1&&K(m)}else k=B[0][0],G=B[0][1],X=B[1][0],S=B[1][1];N=k,P=G,Q=X,R=S;var ee=$t(b).attr("pointer-events","none"),J=ee.selectAll(".overlay").attr("cursor",Ni[w]);if(m.touches)ie.moved=E,ie.ended=oe;else{var H=$t(m.view).on("mousemove.brush",E,!0).on("mouseup.brush",oe,!0);r&&H.on("keydown.brush",V,!0).on("keyup.brush",F,!0),Vm(m.view)}c.call(b),ie.start(m,C.name);function E(L){for(let Z of L.changedTouches||[L])for(let se of te)se.identifier===Z.identifier&&(se.cur=Td(Z,b));if(re&&!q&&!Y&&te.length===1){let Z=te[0];KC(Z.cur[0]-Z[0])>KC(Z.cur[1]-Z[1])?Y=!0:q=!0}for(let Z of te)Z.cur&&(Z[0]=Z.cur[0],Z[1]=Z.cur[1]);ce=!0,qd(L),K(L)}function K(L){let Z=te[0],se=Z.point0;var D;switch(U=Z[0]-se[0],z=Z[1]-se[1],C){case Zm:case ZC:{x&&(U=Gt($-k,zt(ue-X,U)),N=k+U,Q=X+U),T&&(z=Gt(M-G,zt(W-S,z)),P=G+z,R=S+z);break}case xo:{te[1]?(x&&(N=Gt($,zt(ue,te[0][0])),Q=Gt($,zt(ue,te[1][0])),x=1),T&&(P=Gt(M,zt(W,te[0][1])),R=Gt(M,zt(W,te[1][1])),T=1)):(x<0?(U=Gt($-k,zt(ue-k,U)),N=k+U,Q=X):x>0&&(U=Gt($-X,zt(ue-X,U)),N=k,Q=X+U),T<0?(z=Gt(M-G,zt(W-G,z)),P=G+z,R=S):T>0&&(z=Gt(M-S,zt(W-S,z)),P=G,R=S+z));break}case wo:{x&&(N=Gt($,zt(ue,k-U*x)),Q=Gt($,zt(ue,X+U*x))),T&&(P=Gt(M,zt(W,G-z*T)),R=Gt(M,zt(W,S+z*T)));break}}Q<N&&(x*=-1,D=k,k=X,X=D,D=N,N=Q,Q=D,w in eT&&J.attr("cursor",Ni[w=eT[w]])),R<P&&(T*=-1,D=G,G=S,S=D,D=P,P=R,R=D,w in tT&&J.attr("cursor",Ni[w=tT[w]])),A.selection&&(B=A.selection),q&&(N=B[0][0],Q=B[1][0]),Y&&(P=B[0][1],R=B[1][1]),(B[0][0]!==N||B[0][1]!==P||B[1][0]!==Q||B[1][1]!==R)&&(A.selection=[[N,P],[Q,R]],c.call(b),ie.brush(L,C.name))}function oe(L){if(QC(L),L.touches){if(L.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else Bm(L.view,ce),H.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);ee.attr("pointer-events","all"),J.attr("cursor",Ni.overlay),A.selection&&(B=A.selection),L2(B)&&(A.selection=null,c.call(b)),ie.end(L,C.name)}function V(L){switch(L.keyCode){case 16:{re=x&&T;break}case 18:{C===xo&&(x&&(X=Q-U*x,k=N+U*x),T&&(S=R-z*T,G=P+z*T),C=wo,K(L));break}case 32:{(C===xo||C===wo)&&(x<0?X=Q-U:x>0&&(k=N-U),T<0?S=R-z:T>0&&(G=P-z),C=Zm,J.attr("cursor",Ni.selection),K(L));break}default:return}qd(L)}function F(L){switch(L.keyCode){case 16:{re&&(q=Y=re=!1,K(L));break}case 18:{C===wo&&(x<0?X=Q:x>0&&(k=N),T<0?S=R:T>0&&(G=P),C=xo,K(L));break}case 32:{C===Zm&&(L.altKey?(x&&(X=Q-U*x,k=N+U*x),T&&(S=R-z*T,G=P+z*T),C=wo):(x<0?X=Q:x>0&&(k=N),T<0?S=R:T>0&&(G=P),C=xo),J.attr("cursor",Ni[w]),K(L));break}default:return}qd(L)}}function u(m){d(this,arguments).moved(m)}function p(m){d(this,arguments).ended(m)}function g(){var m=this.__brush||{selection:null};return m.extent=e0(t.apply(this,arguments)),m.dim=e,m}return l.extent=function(m){return arguments.length?(t=typeof m=="function"?m:Yd(e0(m)),l):t},l.filter=function(m){return arguments.length?(n=typeof m=="function"?m:Yd(!!m),l):n},l.touchable=function(m){return arguments.length?(i=typeof m=="function"?m:Yd(!!m),l):i},l.handleSize=function(m){return arguments.length?(o=+m,l):o},l.keyModifiers=function(m){return arguments.length?(r=!!m,l):r},l.on=function(){var m=s.on.apply(s,arguments);return m===s?l:m},l}function oi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function n0(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qr(e){let t,n,i;e.length!==2?(t=oi,n=(a,l)=>oi(e(a),l),i=(a,l)=>e(a)-l):(t=e===oi||e===n0?e:V2,n=e,i=e);function r(a,l,c=0,d=a.length){if(c<d){if(t(l,l)!==0)return d;do{let h=c+d>>>1;n(a[h],l)<0?c=h+1:d=h}while(c<d)}return c}function s(a,l,c=0,d=a.length){if(c<d){if(t(l,l)!==0)return d;do{let h=c+d>>>1;n(a[h],l)<=0?c=h+1:d=h}while(c<d)}return c}function o(a,l,c=0,d=a.length){let h=r(a,l,c,d-1);return h>c&&i(a[h-1],l)>-i(a[h],l)?h-1:h}return{left:r,center:o,right:s}}function V2(){return 0}function hl(e){return e===null?NaN:+e}var nT=qr(oi),iT=nT.right,B2=nT.left,H2=qr(hl).center,fl=iT;var Co=class extends Map{constructor(t,n=$2){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(let[i,r]of t)this.set(i,r)}get(t){return super.get(rT(this,t))}has(t){return super.has(rT(this,t))}set(t,n){return super.set(U2(this,t),n)}delete(t){return super.delete(j2(this,t))}};function rT({_intern:e,_key:t},n){let i=t(n);return e.has(i)?e.get(i):n}function U2({_intern:e,_key:t},n){let i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function j2({_intern:e,_key:t},n){let i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function $2(e){return e!==null&&typeof e=="object"?e.valueOf():e}var G2=Math.sqrt(50),z2=Math.sqrt(10),W2=Math.sqrt(2);function Qd(e,t,n){let i=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),o=s>=G2?10:s>=z2?5:s>=W2?2:1,a,l,c;return r<0?(c=Math.pow(10,-r)/o,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,r)*o,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?Qd(e,t,n*2):[a,l,c]}function Zd(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];let i=t<e,[r,s,o]=i?Qd(t,e,n):Qd(e,t,n);if(!(s>=r))return[];let a=s-r+1,l=new Array(a);if(i)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(r+c)/-o;else for(let c=0;c<a;++c)l[c]=(r+c)*o;return l}function pl(e,t,n){return t=+t,e=+e,n=+n,Qd(e,t,n)[2]}function To(e,t,n){t=+t,e=+e,n=+n;let i=t<e,r=i?pl(t,e,n):pl(e,t,n);return(i?-1:1)*(r<0?1/-r:r)}function i0(e,t,n=hl){if(!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,r=(i-1)*t,s=Math.floor(r),o=+n(e[s],s,e),a=+n(e[s+1],s+1,e);return o+(a-o)*(r-s)}}function So(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(r);++i<r;)s[i]=e+i*n;return s}function ai(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var r0=Symbol("implicit");function Xr(){var e=new Co,t=[],n=[],i=r0;function r(s){let o=e.get(s);if(o===void 0){if(i!==r0)return i;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return r.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Co;for(let o of s)e.has(o)||e.set(o,t.push(o)-1);return r},r.range=function(s){return arguments.length?(n=Array.from(s),r):n.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return Xr(t,n).unknown(i)},ai.apply(r,arguments),r}function Do(){var e=Xr().unknown(void 0),t=e.domain,n=e.range,i=0,r=1,s,o,a=!1,l=0,c=0,d=.5;delete e.unknown;function h(){var f=t().length,u=r<i,p=u?r:i,g=u?i:r;s=(g-p)/Math.max(1,f-l+c*2),a&&(s=Math.floor(s)),p+=(g-p-s*(f-l))*d,o=s*(1-l),a&&(p=Math.round(p),o=Math.round(o));var m=So(f).map(function(b){return p+s*b});return n(u?m.reverse():m)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([i,r]=f,i=+i,r=+r,h()):[i,r]},e.rangeRound=function(f){return[i,r]=f,i=+i,r=+r,a=!0,h()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(f){return arguments.length?(a=!!f,h()):a},e.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),h()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},e.paddingOuter=function(f){return arguments.length?(c=+f,h()):c},e.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},e.copy=function(){return Do(t(),[i,r]).round(a).paddingInner(l).paddingOuter(c).align(d)},ai.apply(h(),arguments)}function sT(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return sT(t())},e}function Kd(){return sT(Do.apply(null,arguments).paddingInner(1))}function s0(e){return function(){return e}}function o0(e){return+e}var oT=[0,1];function Eo(e){return e}function a0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:s0(isNaN(t)?NaN:.5)}function q2(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function X2(e,t,n){var i=e[0],r=e[1],s=t[0],o=t[1];return r<i?(i=a0(r,i),s=n(o,s)):(i=a0(i,r),s=n(s,o)),function(a){return s(i(a))}}function Q2(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),s=new Array(i),o=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<i;)r[o]=a0(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var l=fl(e,a,1,i)-1;return s[l](r[l](a))}}function Jd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Z2(){var e=oT,t=oT,n=ki,i,r,s,o=Eo,a,l,c;function d(){var f=Math.min(e.length,t.length);return o!==Eo&&(o=q2(e[0],e[f-1])),a=f>2?Q2:X2,l=c=null,h}function h(f){return f==null||isNaN(f=+f)?s:(l||(l=a(e.map(i),t,n)))(i(o(f)))}return h.invert=function(f){return o(r((c||(c=a(t,e.map(i),Pt)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,o0),d()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),d()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),n=zm,d()},h.clamp=function(f){return arguments.length?(o=f?!0:Eo,d()):o!==Eo},h.interpolate=function(f){return arguments.length?(n=f,d()):n},h.unknown=function(f){return arguments.length?(s=f,h):s},function(f,u){return i=f,r=u,d()}}function gl(){return Z2()(Eo,Eo)}function aT(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Qr(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function li(e){return e=Qr(Math.abs(e)),e?e[1]:NaN}function lT(e,t){return function(n,i){for(var r=n.length,s=[],o=0,a=e[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),s.push(n.substring(r-=a,r+a)),!((l+=a+1)>i));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function cT(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var K2=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ar(e){if(!(t=K2.exec(e)))throw new Error("invalid format: "+e);var t;return new eh({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ar.prototype=eh.prototype;function eh(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}eh.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uT(e){e:for(var t=e.length,n=1,i=-1,r;n<t;++n)switch(e[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(r+1):e}var l0;function dT(e,t){var n=Qr(e,t);if(!n)return e+"";var i=n[0],r=n[1],s=r-(l0=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+Qr(e,Math.max(0,t+s-1))[0]}function c0(e,t){var n=Qr(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}var u0={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:aT,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>c0(e*100,t),r:c0,s:dT,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function d0(e){return e}var hT=Array.prototype.map,fT=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function pT(e){var t=e.grouping===void 0||e.thousands===void 0?d0:lT(hT.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?d0:cT(hT.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"\u2212":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(h){h=ar(h);var f=h.fill,u=h.align,p=h.sign,g=h.symbol,m=h.zero,b=h.width,w=h.comma,C=h.precision,x=h.trim,T=h.type;T==="n"?(w=!0,T="g"):u0[T]||(C===void 0&&(C=12),x=!0,T="g"),(m||f==="0"&&u==="=")&&(m=!0,f="0",u="=");var A=g==="$"?n:g==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",O=g==="$"?i:/[%p]/.test(T)?o:"",B=u0[T],$=/[defgprs%]/.test(T);C=C===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function k(N){var M=A,G=O,P,ue,X;if(T==="c")G=B(N)+G,N="";else{N=+N;var Q=N<0||1/N<0;if(N=isNaN(N)?l:B(Math.abs(N),C),x&&(N=uT(N)),Q&&+N==0&&p!=="+"&&(Q=!1),M=(Q?p==="("?p:a:p==="-"||p==="("?"":p)+M,G=(T==="s"?fT[8+l0/3]:"")+G+(Q&&p==="("?")":""),$){for(P=-1,ue=N.length;++P<ue;)if(X=N.charCodeAt(P),48>X||X>57){G=(X===46?r+N.slice(P+1):N.slice(P))+G,N=N.slice(0,P);break}}}w&&!m&&(N=t(N,1/0));var W=M.length+N.length+G.length,S=W<b?new Array(b-W+1).join(f):"";switch(w&&m&&(N=t(S+N,S.length?b-G.length:1/0),S=""),u){case"<":N=M+N+G+S;break;case"=":N=M+S+N+G;break;case"^":N=S.slice(0,W=S.length>>1)+M+N+G+S.slice(W);break;default:N=S+M+N+G;break}return s(N)}return k.toString=function(){return h+""},k}function d(h,f){var u=c((h=ar(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(li(f)/3)))*3,g=Math.pow(10,-p),m=fT[8+p/3];return function(b){return u(g*b)+m}}return{format:c,formatPrefix:d}}var th,nh,ih;h0({thousands:",",grouping:[3],currency:["$",""]});function h0(e){return th=pT(e),nh=th.format,ih=th.formatPrefix,th}function f0(e){return Math.max(0,-li(Math.abs(e)))}function p0(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(li(t)/3)))*3-li(Math.abs(e)))}function g0(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,li(t)-li(e))+1}function m0(e,t,n,i){var r=To(e,t,n),s;switch(i=ar(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(s=p0(r,o))&&(i.precision=s),ih(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=g0(r,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=f0(r))&&(i.precision=s-(i.type==="%")*2);break}}return nh(i)}function J2(e){var t=e.domain;return e.ticks=function(n){var i=t();return Zd(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var r=t();return m0(r[0],r[r.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),r=0,s=i.length-1,o=i[r],a=i[s],l,c,d=10;for(a<o&&(c=o,o=a,a=c,c=r,r=s,s=c);d-- >0;){if(c=pl(o,a,n),c===l)return i[r]=o,i[s]=a,t(i);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function ci(){var e=gl();return e.copy=function(){return Jd(e,ci())},ai.apply(e,arguments),J2(e)}function _0(e,t){e=e.slice();var n=0,i=e.length-1,r=e[n],s=e[i],o;return s<r&&(o=n,n=i,i=o,o=r,r=s,s=o),e[n]=t.floor(r),e[i]=t.ceil(s),e}function ml(){var e=[],t=[],n=[],i;function r(){var o=0,a=Math.max(1,t.length);for(n=new Array(a-1);++o<a;)n[o-1]=i0(e,o/a);return s}function s(o){return o==null||isNaN(o=+o)?i:t[fl(n,o)]}return s.invertExtent=function(o){var a=t.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let a of o)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(oi),r()},s.range=function(o){return arguments.length?(t=Array.from(o),r()):t.slice()},s.unknown=function(o){return arguments.length?(i=o,s):i},s.quantiles=function(){return n.slice()},s.copy=function(){return ml().domain(e).range(t).unknown(i)},ai.apply(s,arguments)}var v0=new Date,y0=new Date;function ot(e,t,n,i){function r(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return r.floor=s=>(e(s=new Date(+s)),s),r.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),r.round=s=>{let o=r(s),a=r.ceil(s);return s-o<a-s?o:a},r.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),r.range=(s,o,a)=>{let l=[];if(s=r.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let c;do l.push(c=new Date(+s)),t(s,a),e(s);while(c<s&&s<o);return l},r.filter=s=>ot(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(r.count=(s,o)=>(v0.setTime(+s),y0.setTime(+o),e(v0),e(y0),Math.floor(n(v0,y0))),r.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?r.filter(i?o=>i(o)%s===0:o=>r.count(0,o)%s===0):r)),r}var _l=ot(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);_l.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ot(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):_l);var BJ=_l.range;var ui=ot(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*1e3)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds()),gT=ui.range;var Ao=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getMinutes()),eV=Ao.range,rh=ot(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes()),tV=rh.range;var Io=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getHours()),nV=Io.range,sh=ot(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours()),iV=sh.range;var Mo=ot(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),rV=Mo.range,mT=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1),sV=mT.range,oh=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5)),oV=oh.range;function Jr(e){return ot(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5)}var es=Jr(0),vT=Jr(1),yT=Jr(2),bT=Jr(3),xT=Jr(4),wT=Jr(5),CT=Jr(6),TT=es.range,aV=vT.range,lV=yT.range,cV=bT.range,uV=xT.range,dV=wT.range,hV=CT.range;function ts(e){return ot(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/6048e5)}var yl=ts(0),ST=ts(1),DT=ts(2),ET=ts(3),AT=ts(4),IT=ts(5),MT=ts(6),kT=yl.range,fV=ST.range,pV=DT.range,gV=ET.range,mV=AT.range,_V=IT.range,vV=MT.range;var ko=ot(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),yV=ko.range,ah=ot(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),bV=ah.range;var ns=ot(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ns.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});var xV=ns.range,bl=ot(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());bl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});var wV=bl.range;function NT(e,t,n,i,r,s){let o=[[ui,1,1e3],[ui,5,5*1e3],[ui,15,15*1e3],[ui,30,30*1e3],[s,1,6e4],[s,5,5*6e4],[s,15,15*6e4],[s,30,30*6e4],[r,1,36e5],[r,3,3*36e5],[r,6,6*36e5],[r,12,12*36e5],[i,1,864e5],[i,2,2*864e5],[n,1,6048e5],[t,1,2592e6],[t,3,3*2592e6],[e,1,31536e6]];function a(c,d,h){let f=d<c;f&&([c,d]=[d,c]);let u=h&&typeof h.range=="function"?h:l(c,d,h),p=u?u.range(c,+d+1):[];return f?p.reverse():p}function l(c,d,h){let f=Math.abs(d-c)/h,u=qr(([,,m])=>m).right(o,f);if(u===o.length)return e.every(To(c/31536e6,d/31536e6,h));if(u===0)return _l.every(Math.max(To(c,d,h),1));let[p,g]=o[f/o[u-1][2]<o[u][2]/f?u-1:u];return p.every(g)}return[a,l]}var[TV,SV]=NT(bl,ah,yl,oh,sh,rh),[b0,x0]=NT(ns,ko,es,Mo,Io,Ao);var w0=new Date,C0=new Date;function Wt(e,t,n,i){function r(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return r.floor=function(s){return e(s=new Date(+s)),s},r.ceil=function(s){return e(s=new Date(s-1)),t(s,1),e(s),s},r.round=function(s){var o=r(s),a=r.ceil(s);return s-o<a-s?o:a},r.offset=function(s,o){return t(s=new Date(+s),o==null?1:Math.floor(o)),s},r.range=function(s,o,a){var l=[],c;if(s=r.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;do l.push(c=new Date(+s)),t(s,a),e(s);while(c<s&&s<o);return l},r.filter=function(s){return Wt(function(o){if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},function(o,a){if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););})},n&&(r.count=function(s,o){return w0.setTime(+s),C0.setTime(+o),e(w0),e(C0),Math.floor(n(w0,C0))},r.every=function(s){return s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?r.filter(i?function(o){return i(o)%s===0}:function(o){return r.count(0,o)%s===0}):r}),r}var RT=Wt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),lh=RT,AV=RT.range;function is(e){return Wt(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n*7)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5})}var xl=is(0),Oo=is(1),FT=is(2),LT=is(3),lr=is(4),PT=is(5),VT=is(6),BT=xl.range,MV=Oo.range,kV=FT.range,OV=LT.range,NV=lr.range,RV=PT.range,FV=VT.range;var T0=Wt(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});T0.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Wt(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)})};var rs=T0,LV=T0.range;var HT=Wt(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1}),ch=HT,PV=HT.range;function ss(e){return Wt(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n*7)},function(t,n){return(n-t)/6048e5})}var wl=ss(0),No=ss(1),UT=ss(2),jT=ss(3),cr=ss(4),$T=ss(5),GT=ss(6),zT=wl.range,VV=No.range,BV=UT.range,HV=jT.range,UV=cr.range,jV=$T.range,$V=GT.range;var S0=Wt(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});S0.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Wt(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})};var os=S0,GV=S0.range;function D0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function E0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Cl(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function A0(e){var t=e.dateTime,n=e.date,i=e.time,r=e.periods,s=e.days,o=e.shortDays,a=e.months,l=e.shortMonths,c=Tl(r),d=Sl(r),h=Tl(s),f=Sl(s),u=Tl(o),p=Sl(o),g=Tl(a),m=Sl(a),b=Tl(l),w=Sl(l),C={a:Q,A:W,b:S,B:R,c:null,d:ZT,e:ZT,f:fB,g:CB,G:SB,H:uB,I:dB,j:hB,L:nS,m:pB,M:gB,p:U,q:z,Q:eS,s:tS,S:mB,u:_B,U:vB,V:yB,w:bB,W:xB,x:null,X:null,y:wB,Y:TB,Z:DB,"%":JT},x={a:ce,A:re,b:q,B:Y,c:null,d:KT,e:KT,f:MB,g:HB,G:jB,H:EB,I:AB,j:IB,L:rS,m:kB,M:OB,p:te,q:ie,Q:eS,s:tS,S:NB,u:RB,U:FB,V:LB,w:PB,W:VB,x:null,X:null,y:BB,Y:UB,Z:$B,"%":JT},T={a:k,A:N,b:M,B:G,c:P,d:XT,e:XT,f:oB,g:qT,G:YT,H:QT,I:QT,j:nB,L:sB,m:tB,M:iB,p:$,q:eB,Q:lB,s:cB,S:rB,u:XV,U:QV,V:ZV,w:qV,W:KV,x:ue,X,y:qT,Y:YT,Z:JV,"%":aB};C.x=A(n,C),C.X=A(i,C),C.c=A(t,C),x.x=A(n,x),x.X=A(i,x),x.c=A(t,x);function A(ee,J){return function(H){var E=[],K=-1,oe=0,V=ee.length,F,L,Z;for(H instanceof Date||(H=new Date(+H));++K<V;)ee.charCodeAt(K)===37&&(E.push(ee.slice(oe,K)),(L=WT[F=ee.charAt(++K)])!=null?F=ee.charAt(++K):L=F==="e"?" ":"0",(Z=J[F])&&(F=Z(H,L)),E.push(F),oe=K+1);return E.push(ee.slice(oe,K)),E.join("")}}function O(ee,J){return function(H){var E=Cl(1900,void 0,1),K=B(E,ee,H+="",0),oe,V;if(K!=H.length)return null;if("Q"in E)return new Date(E.Q);if("s"in E)return new Date(E.s*1e3+("L"in E?E.L:0));if(J&&!("Z"in E)&&(E.Z=0),"p"in E&&(E.H=E.H%12+E.p*12),E.m===void 0&&(E.m="q"in E?E.q:0),"V"in E){if(E.V<1||E.V>53)return null;"w"in E||(E.w=1),"Z"in E?(oe=E0(Cl(E.y,0,1)),V=oe.getUTCDay(),oe=V>4||V===0?No.ceil(oe):No(oe),oe=ch.offset(oe,(E.V-1)*7),E.y=oe.getUTCFullYear(),E.m=oe.getUTCMonth(),E.d=oe.getUTCDate()+(E.w+6)%7):(oe=D0(Cl(E.y,0,1)),V=oe.getDay(),oe=V>4||V===0?Oo.ceil(oe):Oo(oe),oe=lh.offset(oe,(E.V-1)*7),E.y=oe.getFullYear(),E.m=oe.getMonth(),E.d=oe.getDate()+(E.w+6)%7)}else("W"in E||"U"in E)&&("w"in E||(E.w="u"in E?E.u%7:"W"in E?1:0),V="Z"in E?E0(Cl(E.y,0,1)).getUTCDay():D0(Cl(E.y,0,1)).getDay(),E.m=0,E.d="W"in E?(E.w+6)%7+E.W*7-(V+5)%7:E.w+E.U*7-(V+6)%7);return"Z"in E?(E.H+=E.Z/100|0,E.M+=E.Z%100,E0(E)):D0(E)}}function B(ee,J,H,E){for(var K=0,oe=J.length,V=H.length,F,L;K<oe;){if(E>=V)return-1;if(F=J.charCodeAt(K++),F===37){if(F=J.charAt(K++),L=T[F in WT?J.charAt(K++):F],!L||(E=L(ee,H,E))<0)return-1}else if(F!=H.charCodeAt(E++))return-1}return E}function $(ee,J,H){var E=c.exec(J.slice(H));return E?(ee.p=d.get(E[0].toLowerCase()),H+E[0].length):-1}function k(ee,J,H){var E=u.exec(J.slice(H));return E?(ee.w=p.get(E[0].toLowerCase()),H+E[0].length):-1}function N(ee,J,H){var E=h.exec(J.slice(H));return E?(ee.w=f.get(E[0].toLowerCase()),H+E[0].length):-1}function M(ee,J,H){var E=b.exec(J.slice(H));return E?(ee.m=w.get(E[0].toLowerCase()),H+E[0].length):-1}function G(ee,J,H){var E=g.exec(J.slice(H));return E?(ee.m=m.get(E[0].toLowerCase()),H+E[0].length):-1}function P(ee,J,H){return B(ee,t,J,H)}function ue(ee,J,H){return B(ee,n,J,H)}function X(ee,J,H){return B(ee,i,J,H)}function Q(ee){return o[ee.getDay()]}function W(ee){return s[ee.getDay()]}function S(ee){return l[ee.getMonth()]}function R(ee){return a[ee.getMonth()]}function U(ee){return r[+(ee.getHours()>=12)]}function z(ee){return 1+~~(ee.getMonth()/3)}function ce(ee){return o[ee.getUTCDay()]}function re(ee){return s[ee.getUTCDay()]}function q(ee){return l[ee.getUTCMonth()]}function Y(ee){return a[ee.getUTCMonth()]}function te(ee){return r[+(ee.getUTCHours()>=12)]}function ie(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var J=A(ee+="",C);return J.toString=function(){return ee},J},parse:function(ee){var J=O(ee+="",!1);return J.toString=function(){return ee},J},utcFormat:function(ee){var J=A(ee+="",x);return J.toString=function(){return ee},J},utcParse:function(ee){var J=O(ee+="",!0);return J.toString=function(){return ee},J}}}var WT={"-":"",_:" ",0:"0"},Rt=/^\s*\d+/,zV=/^%/,WV=/[\\^$*+?|[\]().{}]/g;function Qe(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",s=r.length;return i+(s<n?new Array(n-s+1).join(t)+r:r)}function YV(e){return e.replace(WV,"\\$&")}function Tl(e){return new RegExp("^(?:"+e.map(YV).join("|")+")","i")}function Sl(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function qV(e,t,n){var i=Rt.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function XV(e,t,n){var i=Rt.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function QV(e,t,n){var i=Rt.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function ZV(e,t,n){var i=Rt.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function KV(e,t,n){var i=Rt.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function YT(e,t,n){var i=Rt.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function qT(e,t,n){var i=Rt.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function JV(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function eB(e,t,n){var i=Rt.exec(t.slice(n,n+1));return i?(e.q=i[0]*3-3,n+i[0].length):-1}function tB(e,t,n){var i=Rt.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function XT(e,t,n){var i=Rt.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function nB(e,t,n){var i=Rt.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function QT(e,t,n){var i=Rt.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function iB(e,t,n){var i=Rt.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function rB(e,t,n){var i=Rt.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function sB(e,t,n){var i=Rt.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function oB(e,t,n){var i=Rt.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function aB(e,t,n){var i=zV.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function lB(e,t,n){var i=Rt.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function cB(e,t,n){var i=Rt.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function ZT(e,t){return Qe(e.getDate(),t,2)}function uB(e,t){return Qe(e.getHours(),t,2)}function dB(e,t){return Qe(e.getHours()%12||12,t,2)}function hB(e,t){return Qe(1+lh.count(rs(e),e),t,3)}function nS(e,t){return Qe(e.getMilliseconds(),t,3)}function fB(e,t){return nS(e,t)+"000"}function pB(e,t){return Qe(e.getMonth()+1,t,2)}function gB(e,t){return Qe(e.getMinutes(),t,2)}function mB(e,t){return Qe(e.getSeconds(),t,2)}function _B(e){var t=e.getDay();return t===0?7:t}function vB(e,t){return Qe(xl.count(rs(e)-1,e),t,2)}function iS(e){var t=e.getDay();return t>=4||t===0?lr(e):lr.ceil(e)}function yB(e,t){return e=iS(e),Qe(lr.count(rs(e),e)+(rs(e).getDay()===4),t,2)}function bB(e){return e.getDay()}function xB(e,t){return Qe(Oo.count(rs(e)-1,e),t,2)}function wB(e,t){return Qe(e.getFullYear()%100,t,2)}function CB(e,t){return e=iS(e),Qe(e.getFullYear()%100,t,2)}function TB(e,t){return Qe(e.getFullYear()%1e4,t,4)}function SB(e,t){var n=e.getDay();return e=n>=4||n===0?lr(e):lr.ceil(e),Qe(e.getFullYear()%1e4,t,4)}function DB(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qe(t/60|0,"0",2)+Qe(t%60,"0",2)}function KT(e,t){return Qe(e.getUTCDate(),t,2)}function EB(e,t){return Qe(e.getUTCHours(),t,2)}function AB(e,t){return Qe(e.getUTCHours()%12||12,t,2)}function IB(e,t){return Qe(1+ch.count(os(e),e),t,3)}function rS(e,t){return Qe(e.getUTCMilliseconds(),t,3)}function MB(e,t){return rS(e,t)+"000"}function kB(e,t){return Qe(e.getUTCMonth()+1,t,2)}function OB(e,t){return Qe(e.getUTCMinutes(),t,2)}function NB(e,t){return Qe(e.getUTCSeconds(),t,2)}function RB(e){var t=e.getUTCDay();return t===0?7:t}function FB(e,t){return Qe(wl.count(os(e)-1,e),t,2)}function sS(e){var t=e.getUTCDay();return t>=4||t===0?cr(e):cr.ceil(e)}function LB(e,t){return e=sS(e),Qe(cr.count(os(e),e)+(os(e).getUTCDay()===4),t,2)}function PB(e){return e.getUTCDay()}function VB(e,t){return Qe(No.count(os(e)-1,e),t,2)}function BB(e,t){return Qe(e.getUTCFullYear()%100,t,2)}function HB(e,t){return e=sS(e),Qe(e.getUTCFullYear()%100,t,2)}function UB(e,t){return Qe(e.getUTCFullYear()%1e4,t,4)}function jB(e,t){var n=e.getUTCDay();return e=n>=4||n===0?cr(e):cr.ceil(e),Qe(e.getUTCFullYear()%1e4,t,4)}function $B(){return"+0000"}function JT(){return"%"}function eS(e){return+e}function tS(e){return Math.floor(+e/1e3)}var Ro,uh,oS,aS,lS;I0({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function I0(e){return Ro=A0(e),uh=Ro.format,oS=Ro.parse,aS=Ro.utcFormat,lS=Ro.utcParse,Ro}function GB(e){return new Date(e)}function zB(e){return e instanceof Date?+e:+new Date(+e)}function cS(e,t,n,i,r,s,o,a,l,c){var d=gl(),h=d.invert,f=d.domain,u=c(".%L"),p=c(":%S"),g=c("%I:%M"),m=c("%I %p"),b=c("%a %d"),w=c("%b %d"),C=c("%B"),x=c("%Y");function T(A){return(l(A)<A?u:a(A)<A?p:o(A)<A?g:s(A)<A?m:i(A)<A?r(A)<A?b:w:n(A)<A?C:x)(A)}return d.invert=function(A){return new Date(h(A))},d.domain=function(A){return arguments.length?f(Array.from(A,zB)):f().map(GB)},d.ticks=function(A){var O=f();return e(O[0],O[O.length-1],A??10)},d.tickFormat=function(A,O){return O==null?T:c(O)},d.nice=function(A){var O=f();return(!A||typeof A.range!="function")&&(A=t(O[0],O[O.length-1],A??10)),A?f(_0(O,A)):d},d.copy=function(){return Jd(d,cS(e,t,n,i,r,s,o,a,l,c))},d}function Dl(){return ai.apply(cS(b0,x0,ns,ko,es,Mo,Io,Ao,ui,uh).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function St(e){return function(){return e}}var M0=Math.PI,k0=2*M0,as=1e-6,WB=k0-as;function uS(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function YB(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return uS;let n=10**t;return function(i){this._+=i[0];for(let r=1,s=i.length;r<s;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}var ls=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?uS:YB(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,i,r){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(t,n,i,r,s,o){this._append`C${+t},${+n},${+i},${+r},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,i,r,s){if(t=+t,n=+n,i=+i,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=i-t,c=r-n,d=o-t,h=a-n,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>as)if(!(Math.abs(h*l-c*d)>as)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let u=i-o,p=r-a,g=l*l+c*c,m=u*u+p*p,b=Math.sqrt(g),w=Math.sqrt(f),C=s*Math.tan((M0-Math.acos((g+f-m)/(2*b*w)))/2),x=C/w,T=C/b;Math.abs(x-1)>as&&this._append`L${t+x*d},${n+x*h}`,this._append`A${s},${s},0,0,${+(h*u>d*p)},${this._x1=t+T*l},${this._y1=n+T*c}`}}arc(t,n,i,r,s,o){if(t=+t,n=+n,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(r),l=i*Math.sin(r),c=t+a,d=n+l,h=1^o,f=o?r-s:s-r;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>as||Math.abs(this._y1-d)>as)&&this._append`L${c},${d}`,i&&(f<0&&(f=f%k0+k0),f>WB?this._append`A${i},${i},0,1,${h},${t-a},${n-l}A${i},${i},0,1,${h},${this._x1=c},${this._y1=d}`:f>as&&this._append`A${i},${i},0,${+(f>=M0)},${h},${this._x1=t+i*Math.cos(s)},${this._y1=n+i*Math.sin(s)}`)}rect(t,n,i,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}};function dS(){return new ls}dS.prototype=ls.prototype;function dh(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{let i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);t=i}return e},()=>new ls(t)}var dte=Array.prototype.slice;function hh(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hS(e){this._context=e}hS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function cs(e){return new hS(e)}function fh(e){return e[0]}function ph(e){return e[1]}function El(e,t){var n=St(!0),i=null,r=cs,s=null,o=dh(a);e=typeof e=="function"?e:e===void 0?fh:St(e),t=typeof t=="function"?t:t===void 0?ph:St(t);function a(l){var c,d=(l=hh(l)).length,h,f=!1,u;for(i==null&&(s=r(u=o())),c=0;c<=d;++c)!(c<d&&n(h=l[c],c,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+e(h,c,l),+t(h,c,l));if(u)return s=null,u+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:St(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:St(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:St(!!l),a):n},a.curve=function(l){return arguments.length?(r=l,i!=null&&(s=r(i)),a):r},a.context=function(l){return arguments.length?(l==null?i=s=null:s=r(i=l),a):i},a}function gh(e,t,n){var i=null,r=St(!0),s=null,o=cs,a=null,l=dh(c);e=typeof e=="function"?e:e===void 0?fh:St(+e),t=typeof t=="function"?t:t===void 0?St(0):St(+t),n=typeof n=="function"?n:n===void 0?ph:St(+n);function c(h){var f,u,p,g=(h=hh(h)).length,m,b=!1,w,C=new Array(g),x=new Array(g);for(s==null&&(a=o(w=l())),f=0;f<=g;++f){if(!(f<g&&r(m=h[f],f,h))===b)if(b=!b)u=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=f-1;p>=u;--p)a.point(C[p],x[p]);a.lineEnd(),a.areaEnd()}b&&(C[f]=+e(m,f,h),x[f]=+t(m,f,h),a.point(i?+i(m,f,h):C[f],n?+n(m,f,h):x[f]))}if(w)return a=null,w+""||null}function d(){return El().defined(r).curve(o).context(s)}return c.x=function(h){return arguments.length?(e=typeof h=="function"?h:St(+h),i=null,c):e},c.x0=function(h){return arguments.length?(e=typeof h=="function"?h:St(+h),c):e},c.x1=function(h){return arguments.length?(i=h==null?null:typeof h=="function"?h:St(+h),c):i},c.y=function(h){return arguments.length?(t=typeof h=="function"?h:St(+h),n=null,c):t},c.y0=function(h){return arguments.length?(t=typeof h=="function"?h:St(+h),c):t},c.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:St(+h),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(i).y(t)},c.defined=function(h){return arguments.length?(r=typeof h=="function"?h:St(!!h),c):r},c.curve=function(h){return arguments.length?(o=h,s!=null&&(a=o(s)),c):o},c.context=function(h){return arguments.length?(h==null?s=a=null:a=o(s=h),c):s},c}var DS=Bh(pS(),1);var e3=["caretElm"],t3=e=>({model:e});function n3(e,t){}function i3(e,t){if(e&1&&(ge(0,"span"),Ie(1,n3,0,0,"ng-template",5),pe()),e&2){let n=me();ae(),fe("ngTemplateOutlet",n.template)("ngTemplateOutletContext",eo(2,t3,n.context))}}function r3(e,t){if(e&1&&Re(0,"span",6),e&2){let n=me();fe("innerHTML",n.title,vb)}}function s3(e,t){if(e&1&&(ge(0,"header",4)(1,"span",5),tt(2),pe()()),e&2){let n=me();ae(2),Bn(n.title)}}function o3(e,t){if(e&1){let n=Kt();ge(0,"li",6)(1,"ngx-charts-legend-entry",7),it("select",function(r){ut(n);let s=me();return dt(s.labelClick.emit(r))})("activate",function(r){ut(n);let s=me();return dt(s.activate(r))})("deactivate",function(r){ut(n);let s=me();return dt(s.deactivate(r))}),pe()()}if(e&2){let n=t.$implicit,i=me();ae(),fe("label",n.label)("formattedLabel",n.formattedLabel)("color",n.color)("isActive",i.isActive(n))}}var ES=["*"];function a3(e,t){if(e&1&&Re(0,"ngx-charts-scale-legend",4),e&2){let n=me();fe("horizontal",n.legendOptions&&n.legendOptions.position===n.LegendPosition.Below)("valueRange",n.legendOptions.domain)("colors",n.legendOptions.colors)("height",n.view[1])("width",n.legendWidth)}}function l3(e,t){if(e&1){let n=Kt();ge(0,"ngx-charts-legend",5),it("labelClick",function(r){ut(n);let s=me();return dt(s.legendLabelClick.emit(r))})("labelActivate",function(r){ut(n);let s=me();return dt(s.legendLabelActivate.emit(r))})("labelDeactivate",function(r){ut(n);let s=me();return dt(s.legendLabelDeactivate.emit(r))}),pe()}if(e&2){let n=me();fe("horizontal",n.legendOptions&&n.legendOptions.position===n.LegendPosition.Below)("data",n.legendOptions.domain)("title",n.legendOptions.title)("colors",n.legendOptions.colors)("height",n.view[1])("width",n.legendWidth)("activeEntries",n.activeEntries)}}var c3=["ngx-charts-axis-label",""],AS=["ticksel"],u3=["ngx-charts-x-axis-ticks",""];function d3(e,t){e&1&&(xe(),Cu(0))}function h3(e,t){if(e&1&&(xe(),ge(0,"tspan",10),tt(1),pe()),e&2){let n=t.$implicit,i=t.index;Ne("y",i*12),ae(),kt(" ",n," ")}}function f3(e,t){if(e&1&&(xe(),wi(0),Ie(1,h3,2,2,"tspan",9),Ci()),e&2){let n=t.ngIf;ae(),fe("ngForOf",n)}}function p3(e,t){if(e&1&&Ie(0,f3,2,1,"ng-container",6),e&2){let n=me(2).$implicit,i=me();fe("ngIf",i.tickChunks(n))}}function g3(e,t){if(e&1&&tt(0),e&2){let n=me().ngIf,i=me(2);kt(" ",i.tickTrim(n)," ")}}function m3(e,t){if(e&1&&(xe(),wi(0),ge(1,"title"),tt(2),pe(),ge(3,"text",7),Ie(4,d3,1,0,"ng-container",8),pe(),Ie(5,p3,1,1,"ng-template",null,1,Rr)(7,g3,1,1,"ng-template",null,2,Rr),Ci()),e&2){let n=t.ngIf,i=Qi(6),r=Qi(8),s=me(2);ae(2),Bn(n),ae(),Ne("text-anchor",s.textAnchor)("transform",s.textTransform),ae(),fe("ngIf",s.isWrapTicksSupported)("ngIfThen",i)("ngIfElse",r)}}function _3(e,t){if(e&1&&(xe(),ge(0,"g",5),Ie(1,m3,9,6,"ng-container",6),pe()),e&2){let n=t.$implicit,i=me();Ne("transform",i.tickTransform(n)),ae(),fe("ngIf",i.tickFormat(n))}}function v3(e,t){if(e&1&&(xe(),ge(0,"g"),Re(1,"line",11),pe()),e&2){let n=me(2);Ne("transform",n.gridLineTransform()),ae(),Ne("y1",-n.gridLineHeight)}}function y3(e,t){if(e&1&&(xe(),ge(0,"g"),Ie(1,v3,2,2,"g",6),pe()),e&2){let n=t.$implicit,i=me();Ne("transform",i.tickTransform(n)),ae(),fe("ngIf",i.showGridLines)}}var b3=["ngx-charts-x-axis",""];function x3(e,t){if(e&1){let n=Kt();xe(),ge(0,"g",2),it("dimensionsChanged",function(r){ut(n);let s=me();return dt(s.emitTicksHeight(r))}),pe()}if(e&2){let n=me();fe("trimTicks",n.trimTicks)("rotateTicks",n.rotateTicks)("maxTickLength",n.maxTickLength)("tickFormatting",n.tickFormatting)("tickArguments",n.tickArguments)("tickStroke",n.tickStroke)("scale",n.xScale)("orient",n.xOrient)("showGridLines",n.showGridLines)("gridLineHeight",n.dims.height)("width",n.dims.width)("tickValues",n.ticks)("wrapTicks",n.wrapTicks)}}function w3(e,t){if(e&1&&(xe(),Re(0,"g",3)),e&2){let n=me();fe("label",n.labelText)("offset",n.labelOffset)("orient",n.orientation.Bottom)("height",n.dims.height)("width",n.dims.width)}}var C3=["ngx-charts-y-axis-ticks",""];function T3(e,t){e&1&&(xe(),Cu(0))}function S3(e,t){if(e&1&&(xe(),ge(0,"tspan",12),tt(1),pe()),e&2){let n=t.$implicit,i=t.index,r=me(6);Ne("y",i*(8+r.tickSpacing)),ae(),kt(" ",n," ")}}function D3(e,t){if(e&1&&(xe(),wi(0),Ie(1,S3,2,2,"tspan",11),Ci()),e&2){let n=me().ngIf;ae(),fe("ngForOf",n)}}function E3(e,t){if(e&1&&(xe(),wi(0),Ie(1,D3,2,1,"ng-container",10),Ci()),e&2){let n=t.ngIf;me(2);let i=Qi(8);ae(),fe("ngIf",n.length>1)("ngIfElse",i)}}function A3(e,t){if(e&1&&Ie(0,E3,2,2,"ng-container",7),e&2){let n=me(2).$implicit,i=me();fe("ngIf",i.tickChunks(n))}}function I3(e,t){if(e&1&&tt(0),e&2){let n=me().ngIf,i=me(2);kt(" ",i.tickTrim(n)," ")}}function M3(e,t){if(e&1&&(xe(),wi(0),ge(1,"title"),tt(2),pe(),ge(3,"text",8),Ie(4,T3,1,0,"ng-container",9),pe(),Ie(5,A3,1,1,"ng-template",null,1,Rr)(7,I3,1,1,"ng-template",null,2,Rr),Ci()),e&2){let n=t.ngIf,i=Qi(6),r=Qi(8),s=me(2);ae(2),Bn(n),ae(),Zt("font-size","12px"),Ne("dy",s.dy)("x",s.x1)("y",s.y1)("text-anchor",s.textAnchor),ae(),fe("ngIf",s.wrapTicks)("ngIfThen",i)("ngIfElse",r)}}function k3(e,t){if(e&1&&(xe(),ge(0,"g",6),Ie(1,M3,9,10,"ng-container",7),pe()),e&2){let n=t.$implicit,i=me();Ne("transform",i.transform(n)),ae(),fe("ngIf",i.tickFormat(n))}}function O3(e,t){if(e&1&&(xe(),Re(0,"path",13)),e&2){let n=me();Ne("d",n.referenceAreaPath)("transform",n.gridLineTransform())}}function N3(e,t){if(e&1&&(xe(),Re(0,"line",15)),e&2){let n=me(3);Ne("x2",n.gridLineWidth)}}function R3(e,t){if(e&1&&(xe(),Re(0,"line",15)),e&2){let n=me(3);Ne("x2",-n.gridLineWidth)}}function F3(e,t){if(e&1&&(xe(),ge(0,"g"),Ie(1,N3,1,1,"line",14)(2,R3,1,1,"line",14),pe()),e&2){let n=me(2);Ne("transform",n.gridLineTransform()),ae(),fe("ngIf",n.orient===n.Orientation.Left),ae(),fe("ngIf",n.orient===n.Orientation.Right)}}function L3(e,t){if(e&1&&(xe(),ge(0,"g"),Ie(1,F3,3,3,"g",7),pe()),e&2){let n=t.$implicit,i=me();Ne("transform",i.transform(n)),ae(),fe("ngIf",i.showGridLines)}}function P3(e,t){if(e&1&&(xe(),ge(0,"g")(1,"title"),tt(2),pe(),ge(3,"text",17),tt(4),pe()()),e&2){let n=me(2).$implicit,i=me();ae(2),Bn(i.tickTrim(i.tickFormat(n.value))),ae(),Ne("dy",i.dy)("y",-6)("x",i.gridLineWidth)("text-anchor",i.textAnchor),ae(),kt(" ",n.name," ")}}function V3(e,t){if(e&1&&(xe(),ge(0,"g"),Re(1,"line",16),Ie(2,P3,5,6,"g",7),pe()),e&2){let n=me().$implicit,i=me();Ne("transform",i.transform(n.value)),ae(),Ne("x2",i.gridLineWidth)("transform",i.gridLineTransform()),ae(),fe("ngIf",i.showRefLabels)}}function B3(e,t){if(e&1&&(xe(),ge(0,"g"),Ie(1,V3,3,4,"g",7),pe()),e&2){let n=me();ae(),fe("ngIf",n.showRefLines)}}var H3=["ngx-charts-y-axis",""];function U3(e,t){if(e&1){let n=Kt();xe(),ge(0,"g",2),it("dimensionsChanged",function(r){ut(n);let s=me();return dt(s.emitTicksWidth(r))}),pe()}if(e&2){let n=me();fe("trimTicks",n.trimTicks)("maxTickLength",n.maxTickLength)("tickFormatting",n.tickFormatting)("tickArguments",n.tickArguments)("tickValues",n.ticks)("tickStroke",n.tickStroke)("scale",n.yScale)("orient",n.yOrient)("showGridLines",n.showGridLines)("gridLineWidth",n.dims.width)("referenceLines",n.referenceLines)("showRefLines",n.showRefLines)("showRefLabels",n.showRefLabels)("height",n.dims.height)("wrapTicks",n.wrapTicks)}}function j3(e,t){if(e&1&&(xe(),Re(0,"g",3)),e&2){let n=me();fe("label",n.labelText)("offset",n.labelOffset)("orient",n.yOrient)("height",n.dims.height)("width",n.dims.width)}}var $3=["ngx-charts-svg-linear-gradient",""];function G3(e,t){if(e&1&&(xe(),Re(0,"stop")),e&2){let n=t.$implicit;Zt("stop-color",n.color)("stop-opacity",n.opacity),Ne("offset",n.offset+"%")}}var z3=["ngx-charts-circle",""],W3=["ngx-charts-circle-series",""],Y3=e=>({name:e});function q3(e,t){if(e&1&&(xe(),Re(0,"rect",4)),e&2){let n=me(2);fe("@animationState","active"),Ne("x",n.circle.cx-n.circle.radius)("y",n.circle.cy)("width",n.circle.radius*2)("height",n.circle.height)("fill",n.gradientFill)}}function X3(e,t){if(e&1&&(xe(),Re(0,"rect",4)),e&2){let n=me(2);Ne("x",n.circle.cx-n.circle.radius)("y",n.circle.cy)("width",n.circle.radius*2)("height",n.circle.height)("fill",n.gradientFill)}}function Q3(e,t){if(e&1){let n=Kt();xe(),ge(0,"g")(1,"defs"),Re(2,"g",1),pe(),Ie(3,q3,1,6,"rect",2)(4,X3,1,5,"rect",2),ge(5,"g",3),it("select",function(){ut(n);let r=me();return dt(r.onClick(r.circle.data))})("activate",function(){ut(n);let r=me();return dt(r.activateCircle())})("deactivate",function(){ut(n);let r=me();return dt(r.deactivateCircle())}),pe()()}if(e&2){let n=me();ae(2),fe("orientation",n.barOrientation.Vertical)("name",n.gradientId)("stops",n.circle.gradientStops),ae(),fe("ngIf",!n.isSSR&&n.barVisible&&n.type==="standard"),ae(),fe("ngIf",n.isSSR&&n.barVisible&&n.type==="standard"),ae(),fn("active",n.isActive(eo(20,Y3,n.circle.seriesName))),fe("cx",n.circle.cx)("cy",n.circle.cy)("r",n.circle.radius)("fill",n.circle.color)("pointerEvents",n.circle.value===0?"none":"all")("data",n.circle.value)("classNames",n.circle.classNames)("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement",n.placementTypes.Top)("tooltipType",n.styleTypes.tooltip)("tooltipTitle",n.tooltipTemplate?void 0:n.getTooltipText(n.circle))("tooltipTemplate",n.tooltipTemplate)("tooltipContext",n.circle.data)}}var Z3=["ngx-charts-area",""];function K3(e,t){if(e&1&&(xe(),ge(0,"defs"),Re(1,"g",2),pe()),e&2){let n=me();ae(),fe("orientation",n.barOrientation.Vertical)("name",n.gradientId)("stops",n.gradientStops)}}var J3=["tooltipAnchor"],eH=["ngx-charts-tooltip-area",""];function tH(e,t){if(e&1&&(ge(0,"div",6),Re(1,"span",7),tt(2),pe()),e&2){let n=t.$implicit,i=me(2);ae(),Zt("background-color",n.color),ae(),kt(" ",i.getToolTipText(n)," ")}}function nH(e,t){if(e&1&&(ge(0,"div",4),Ie(1,tH,3,3,"div",5),pe()),e&2){let n=t.model;ae(),fe("ngForOf",n)}}var iH=["ngx-charts-timeline",""];var rH=["tooltipTemplate"],sH=["seriesTooltipTemplate"],IS=(e,t)=>[e,t];var oH=`.ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .node,.ngx-charts .link,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .node.active,.ngx-charts .node:hover,.ngx-charts .link.active,.ngx-charts .link:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .node:focus,.ngx-charts .link:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .node.hidden,.ngx-charts .link.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}
`;var aH=["ngx-charts-line",""];function lH(e,t){if(e&1&&(xe(),ge(0,"g"),Re(1,"path",1),pe()),e&2){let n=me();ae(),fe("@animationState","active"),Ne("d",n.initialPath)("fill",n.fill)("stroke",n.stroke)}}function cH(e,t){if(e&1&&(xe(),ge(0,"g"),Re(1,"path",1),pe()),e&2){let n=me();ae(),Ne("d",n.initialPath)("fill",n.fill)("stroke",n.stroke)}}var uH=["ngx-charts-line-series",""];function dH(e,t){if(e&1&&(xe(),Re(0,"g",4)),e&2){let n=me();fe("orientation",n.barOrientation.Vertical)("name",n.gradientId)("stops",n.gradientStops)}}function hH(e,t){if(e&1&&(xe(),Re(0,"g",5)),e&2){let n=me();fn("active",n.isActive(n.data))("inactive",n.isInactive(n.data)),fe("data",n.data)("path",n.outerPath)("fill",n.hasGradient?n.gradientUrl:n.colors.getColor(n.data.name))("opacity",n.rangeFillOpacity)("animations",n.animations)}}function fH(e,t){if(e&1){let n=Kt();xe(),ge(0,"g",7),it("dimensionsChanged",function(r){ut(n);let s=me();return dt(s.updateXAxisHeight(r))}),pe()}if(e&2){let n=me();fe("xScale",n.xScale)("dims",n.dims)("showGridLines",n.showGridLines)("showLabel",n.showXAxisLabel)("labelText",n.xAxisLabel)("trimTicks",n.trimXAxisTicks)("rotateTicks",n.rotateXAxisTicks)("maxTickLength",n.maxXAxisTickLength)("tickFormatting",n.xAxisTickFormatting)("ticks",n.xAxisTicks)("wrapTicks",n.wrapTicks)}}function pH(e,t){if(e&1){let n=Kt();xe(),ge(0,"g",8),it("dimensionsChanged",function(r){ut(n);let s=me();return dt(s.updateYAxisWidth(r))}),pe()}if(e&2){let n=me();fe("yScale",n.yScale)("dims",n.dims)("showGridLines",n.showGridLines)("showLabel",n.showYAxisLabel)("labelText",n.yAxisLabel)("trimTicks",n.trimYAxisTicks)("maxTickLength",n.maxYAxisTickLength)("tickFormatting",n.yAxisTickFormatting)("ticks",n.yAxisTicks)("referenceLines",n.referenceLines)("showRefLines",n.showRefLines)("showRefLabels",n.showRefLabels)("wrapTicks",n.wrapTicks)}}function gH(e,t){if(e&1&&(xe(),ge(0,"g"),Re(1,"g",10),pe()),e&2){let n=t.$implicit,i=me(2);fe("@animationState","active"),ae(),fe("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",n)("activeEntries",i.activeEntries)("scaleType",i.scaleType)("curve",i.curve)("rangeFillOpacity",i.rangeFillOpacity)("hasRange",i.hasRange)("animations",i.animations)}}function mH(e,t){if(e&1&&(xe(),ge(0,"g"),Ie(1,gH,2,11,"g",9),pe()),e&2){let n=me();ae(),fe("ngForOf",n.results)("ngForTrackBy",n.trackBy)}}function _H(e,t){if(e&1&&(xe(),ge(0,"g"),Re(1,"g",10),pe()),e&2){let n=t.$implicit,i=me(2);ae(),fe("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",n)("activeEntries",i.activeEntries)("scaleType",i.scaleType)("curve",i.curve)("rangeFillOpacity",i.rangeFillOpacity)("hasRange",i.hasRange)("animations",i.animations)}}function vH(e,t){if(e&1&&(xe(),ge(0,"g"),Ie(1,_H,2,10,"g",9),pe()),e&2){let n=me();ae(),fe("ngForOf",n.results)("ngForTrackBy",n.trackBy)}}function yH(e,t){if(e&1){let n=Kt();xe(),ge(0,"g")(1,"g",14),it("select",function(r){ut(n);let s=me(2);return dt(s.onClick(r))})("activate",function(r){ut(n);let s=me(2);return dt(s.onActivate(r))})("deactivate",function(r){ut(n);let s=me(2);return dt(s.onDeactivate(r))}),pe()()}if(e&2){let n=t.$implicit,i=me(2);ae(),fe("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",n)("scaleType",i.scaleType)("visibleValue",i.hoveredVertical)("activeEntries",i.activeEntries)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)}}function bH(e,t){if(e&1){let n=Kt();xe(),ge(0,"g",11),it("mouseleave",function(){ut(n);let r=me();return dt(r.hideCircles())}),ge(1,"g",12),it("hover",function(r){ut(n);let s=me();return dt(s.updateHoveredVertical(r))}),pe(),Ie(2,yH,2,9,"g",13),pe()}if(e&2){let n=me();ae(),fe("dims",n.dims)("xSet",n.xSet)("xScale",n.xScale)("yScale",n.yScale)("results",n.results)("colors",n.colors)("tooltipDisabled",n.tooltipDisabled)("tooltipTemplate",n.seriesTooltipTemplate),ae(),fe("ngForOf",n.results)}}function xH(e,t){if(e&1&&(xe(),ge(0,"g"),Re(1,"g",16),pe()),e&2){let n=t.$implicit,i=me(2);ae(),fe("xScale",i.timelineXScale)("yScale",i.timelineYScale)("colors",i.colors)("data",n)("scaleType",i.scaleType)("curve",i.curve)("hasRange",i.hasRange)("animations",i.animations)}}function wH(e,t){if(e&1){let n=Kt();xe(),ge(0,"g",15),it("onDomainChange",function(r){ut(n);let s=me();return dt(s.updateDomain(r))}),Ie(1,xH,2,8,"g",9),pe()}if(e&2){let n=me();fe("results",n.results)("view",Du(10,IS,n.timelineWidth,n.height))("height",n.timelineHeight)("scheme",n.scheme)("customColors",n.customColors)("scaleType",n.scaleType)("legend",n.legend),Ne("transform",n.timelineTransform),ae(),fe("ngForOf",n.results)("ngForTrackBy",n.trackBy)}}function CH(e,t,n){n=n||{};let i,r,s,o=null,a=0;function l(){a=n.leading===!1?0:+new Date,o=null,s=e.apply(i,r)}return function(){let c=+new Date;!a&&n.leading===!1&&(a=c);let d=t-(c-a);return i=this,r=arguments,d<=0?(clearTimeout(o),o=null,a=c,s=e.apply(i,r)):!o&&n.trailing!==!1&&(o=setTimeout(l,d)),s}}function TH(e,t){return function(i,r,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,r,{configurable:!0,enumerable:s.enumerable,value:CH(s.value,e,t)}),this[r]}}}}var Ge=function(e){return e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e.Center="center",e}(Ge||{}),ur=7;function gS(e,t,n){if(n===Ge.Top)return e.top-ur;if(n===Ge.Bottom)return e.top+e.height-t.height+ur;if(n===Ge.Center)return e.top+e.height/2-t.height/2}function mS(e,t,n){if(n===Ge.Left)return e.left-ur;if(n===Ge.Right)return e.left+e.width-t.width+ur;if(n===Ge.Center)return e.left+e.width/2-t.width/2}var Il=class e{static calculateVerticalAlignment(t,n,i){let r=gS(t,n,i);return r+n.height>window.innerHeight&&(r=window.innerHeight-n.height),r}static calculateVerticalCaret(t,n,i,r){let s;r===Ge.Top&&(s=t.height/2-i.height/2+ur),r===Ge.Bottom&&(s=n.height-t.height/2-i.height/2-ur),r===Ge.Center&&(s=n.height/2-i.height/2);let o=gS(t,n,r);return o+n.height>window.innerHeight&&(s+=o+n.height-window.innerHeight),s}static calculateHorizontalAlignment(t,n,i){let r=mS(t,n,i);return r+n.width>window.innerWidth&&(r=window.innerWidth-n.width),r}static calculateHorizontalCaret(t,n,i,r){let s;r===Ge.Left&&(s=t.width/2-i.width/2+ur),r===Ge.Right&&(s=n.width-t.width/2-i.width/2-ur),r===Ge.Center&&(s=n.width/2-i.width/2);let o=mS(t,n,r);return o+n.width>window.innerWidth&&(s+=o+n.width-window.innerWidth),s}static shouldFlip(t,n,i,r){let s=!1;return i===Ge.Right&&t.left+t.width+n.width+r>window.innerWidth&&(s=!0),i===Ge.Left&&t.left-n.width-r<0&&(s=!0),i===Ge.Top&&t.top-n.height-r<0&&(s=!0),i===Ge.Bottom&&t.top+t.height+n.height+r>window.innerHeight&&(s=!0),s}static positionCaret(t,n,i,r,s){let o=0,a=0;return t===Ge.Right?(a=-7,o=e.calculateVerticalCaret(i,n,r,s)):t===Ge.Left?(a=n.width,o=e.calculateVerticalCaret(i,n,r,s)):t===Ge.Top?(o=n.height,a=e.calculateHorizontalCaret(i,n,r,s)):t===Ge.Bottom&&(o=-7,a=e.calculateHorizontalCaret(i,n,r,s)),{top:o,left:a}}static positionContent(t,n,i,r,s){let o=0,a=0;return t===Ge.Right?(a=i.left+i.width+r,o=e.calculateVerticalAlignment(i,n,s)):t===Ge.Left?(a=i.left-n.width-r,o=e.calculateVerticalAlignment(i,n,s)):t===Ge.Top?(o=i.top-n.height-r,a=e.calculateHorizontalAlignment(i,n,s)):t===Ge.Bottom&&(o=i.top+i.height+r,a=e.calculateHorizontalAlignment(i,n,s)),{top:o,left:a}}static determinePlacement(t,n,i,r){if(e.shouldFlip(i,n,t,r)){if(t===Ge.Right)return Ge.Left;if(t===Ge.Left)return Ge.Right;if(t===Ge.Top)return Ge.Bottom;if(t===Ge.Bottom)return Ge.Top}return t}},SH=(()=>{class e{constructor(n,i,r){this.element=n,this.renderer=i,this.platformId=r}get cssClasses(){let n="ngx-charts-tooltip-content";return n+=` position-${this.placement}`,n+=` type-${this.type}`,n+=` ${this.cssClass}`,n}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!ti(this.platformId))return;let n=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;let r=n.getBoundingClientRect();this.checkFlip(i,r),this.positionContent(n,i,r),this.showCaret&&this.positionCaret(i,r),setTimeout(()=>this.renderer.addClass(n,"animate"),1)}positionContent(n,i,r){let{top:s,left:o}=Il.positionContent(this.placement,r,i,this.spacing,this.alignment);this.renderer.setStyle(n,"top",`${s}px`),this.renderer.setStyle(n,"left",`${o}px`)}positionCaret(n,i){let r=this.caretElm.nativeElement,s=r.getBoundingClientRect(),{top:o,left:a}=Il.positionCaret(this.placement,i,n,s,this.alignment);this.renderer.setStyle(r,"top",`${o}px`),this.renderer.setStyle(r,"left",`${a}px`)}checkFlip(n,i){this.placement=Il.determinePlacement(this.placement,i,n,this.spacing)}onWindowResize(){this.position()}}return e.\u0275fac=function(n){return new(n||e)(Me(mt),Me(xi),Me(Lt))},e.\u0275cmp=nt({type:e,selectors:[["ngx-tooltip-content"]],viewQuery:function(n,i){if(n&1&&Ti(e3,5),n&2){let r;Dn(r=En())&&(i.caretElm=r.first)}},hostVars:2,hostBindings:function(n,i){n&1&&it("resize",function(){return i.onWindowResize()},!1,pu),n&2&&Ks(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[["caretElm",""],[3,"hidden"],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(n,i){n&1&&(ge(0,"div"),Re(1,"span",1,0),ge(3,"div",2),Ie(4,i3,2,4,"span",3)(5,r3,1,1,"span",4),pe()()),n&2&&(ae(),px("tooltip-caret position-",i.placement,""),fe("hidden",!i.showCaret),ae(3),fe("ngIf",!i.title),ae(),fe("ngIf",i.title))},dependencies:[mn,Ng],styles:[`.ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}
`],encapsulation:2}),U_([TH(100)],e.prototype,"onWindowResize",null),e})(),N0=class{constructor(t){this.injectionService=t,this.defaults={},this.components=new Map}getByType(t=this.type){return this.components.get(t)}create(t){return this.createByType(this.type,t)}createByType(t,n){n=this.assignDefaults(n);let i=this.injectComponent(t,n);return this.register(t,i),i}destroy(t){let n=this.components.get(t.componentType);if(n&&n.length){let i=n.indexOf(t);i>-1&&(n[i].destroy(),n.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(t){let n=this.components.get(t);if(n&&n.length){let i=n.length-1;for(;i>=0;)this.destroy(n[i--])}}injectComponent(t,n){return this.injectionService.appendComponent(t,n)}assignDefaults(t){let n=_e({},this.defaults.inputs),i=_e({},this.defaults.outputs);return!t.inputs&&!t.outputs&&(t={inputs:t}),n&&(t.inputs=_e(_e({},n),t.inputs)),i&&(t.outputs=_e(_e({},i),t.outputs)),t}register(t,n){this.components.has(t)||this.components.set(t,[]),this.components.get(t).push(n)}};function DH(e){return e.element}var MS=(()=>{class e{constructor(n,i,r){this.applicationRef=n,this.componentFactoryResolver=i,this.injector=r}static setGlobalRootViewContainer(n){e.globalRootViewContainer=n}getRootViewContainer(){if(this._container)return this._container;if(e.globalRootViewContainer)return e.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(n){this._container=n}getComponentRootNode(n){return DH(n)?n.element.nativeElement:n.hostView&&n.hostView.rootNodes.length>0?n.hostView.rootNodes[0]:n.location.nativeElement}getRootViewContainerNode(n){return this.getComponentRootNode(n)}projectComponentBindings(n,i){if(i){if(i.inputs!==void 0){let r=Object.getOwnPropertyNames(i.inputs);for(let s of r)n.instance[s]=i.inputs[s]}if(i.outputs!==void 0){let r=Object.getOwnPropertyNames(i.outputs);for(let s of r)n.instance[s]=i.outputs[s]}}return n}appendComponent(n,i={},r){r||(r=this.getRootViewContainer());let s=this.getComponentRootNode(r),o=new _d(s,this.componentFactoryResolver,this.applicationRef,this.injector),a=new za(n),l=o.attach(a);return this.projectComponentBindings(l,i),l}}return e.globalRootViewContainer=null,e.\u0275fac=function(n){return new(n||e)(be(ei),be(Zs),be(Mt))},e.\u0275prov=ve({token:e,factory:e.\u0275fac}),e})(),L0=(()=>{class e extends N0{constructor(n){super(n),this.type=SH}}return e.\u0275fac=function(n){return new(n||e)(be(MS))},e.\u0275prov=ve({token:e,factory:e.\u0275fac}),e})(),us=function(e){return e.Right="right",e.Below="below",e}(us||{}),Al=function(e){return e.ScaleLegend="scaleLegend",e.Legend="legend",e}(Al||{}),De=function(e){return e.Time="time",e.Linear="linear",e.Ordinal="ordinal",e.Quantile="quantile",e}(De||{}),EH=(()=>{class e{constructor(){this.horizontal=!1}ngOnChanges(n){let i=this.gradientString(this.colors.range(),this.colors.domain()),r=this.horizontal?"right":"bottom";this.gradient=`linear-gradient(to ${r}, ${i})`}gradientString(n,i){i.push(1);let r=[];return n.reverse().forEach((s,o)=>{r.push(`${s} ${Math.round(i[o]*100)}%`)}),r.join(", ")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=nt({type:e,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},features:[ht],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(n,i){n&1&&(ge(0,"div",0)(1,"div",1)(2,"span"),tt(3),pe()(),Re(4,"div",2),ge(5,"div",1)(6,"span"),tt(7),pe()()()),n&2&&(Zt("height",i.horizontal?void 0:i.height,"px")("width",i.width,"px"),fn("horizontal-legend",i.horizontal),ae(3),Bn(i.valueRange[1].toLocaleString()),ae(),Zt("background",i.gradient),ae(3),Bn(i.valueRange[0].toLocaleString()))},styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}
`],encapsulation:2,changeDetection:0}),e})();function kS(e){return e instanceof Date?e=e.toLocaleDateString():e=e.toLocaleString(),e}function _S(e){return e.toLocaleString().replace(/[&'`"<>]/g,t=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"})[t])}var AH=(()=>{class e{constructor(){this.isActive=!1,this.select=new ye,this.activate=new ye,this.deactivate=new ye,this.toggle=new ye}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=nt({type:e,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(n,i){n&1&&it("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"click","title"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(n,i){n&1&&(ge(0,"span",0),it("click",function(){return i.select.emit(i.formattedLabel)}),ge(1,"span",1),it("click",function(){return i.toggle.emit(i.formattedLabel)}),pe(),ge(2,"span",2),tt(3),pe()()),n&2&&(fn("active",i.isActive),fe("title",i.formattedLabel),ae(),Zt("background-color",i.color),ae(2),kt(" ",i.trimmedLabel," "))},encapsulation:2,changeDetection:0}),e})(),IH=(()=>{class e{constructor(n){this.cd=n,this.horizontal=!1,this.labelClick=new ye,this.labelActivate=new ye,this.labelDeactivate=new ye,this.legendEntries=[]}ngOnChanges(n){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){let n=[];for(let i of this.data){let r=kS(i);n.findIndex(o=>o.label===r)===-1&&n.push({label:i,formattedLabel:r,color:this.colors.getColor(i)})}return n}isActive(n){return this.activeEntries?this.activeEntries.find(r=>n.label===r.name)!==void 0:!1}activate(n){this.labelActivate.emit(n)}deactivate(n){this.labelDeactivate.emit(n)}trackBy(n,i){return i.label}}return e.\u0275fac=function(n){return new(n||e)(Me(An))},e.\u0275cmp=nt({type:e,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[ht],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"select","activate","deactivate","label","formattedLabel","color","isActive"]],template:function(n,i){n&1&&(ge(0,"div"),Ie(1,s3,3,1,"header",0),ge(2,"div",1)(3,"ul",2),Ie(4,o3,2,4,"li",3),pe()()()),n&2&&(Zt("width",i.width,"px"),ae(),fe("ngIf",(i.title==null?null:i.title.length)>0),ae(2),Zt("max-height",i.height-45,"px"),fn("horizontal-legend",i.horizontal),ae(),fe("ngForOf",i.legendEntries)("ngForTrackBy",i.trackBy))},dependencies:[AH,mn,Pr],styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
`],encapsulation:2,changeDetection:0}),e})(),MH=(()=>{class e{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new ye,this.legendLabelActivate=new ye,this.legendLabelDeactivate=new ye,this.LegendPosition=us,this.LegendType=Al}ngOnChanges(n){this.update()}update(){let n=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===us.Right)&&(this.legendType===Al.ScaleLegend?n=1:n=2));let i=12-n;this.chartWidth=Math.floor(this.view[0]*i/12),this.legendWidth=!this.legendOptions||this.legendOptions.position===us.Right?Math.floor(this.view[0]*n/12):this.chartWidth}getLegendType(){return this.legendOptions.scaleType===De.Linear?Al.ScaleLegend:Al.Legend}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=nt({type:e,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[Tu([L0]),ht],ngContentSelectors:ES,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"labelClick","labelActivate","labelDeactivate","horizontal","data","title","colors","height","width","activeEntries"]],template:function(n,i){n&1&&(fa(),ge(0,"div",0),xe(),ge(1,"svg",1),pa(2),pe(),Ie(3,a3,1,5,"ngx-charts-scale-legend",2)(4,l3,1,7,"ngx-charts-legend",3),pe()),n&2&&(Zt("width",i.view[0],"px")("height",i.view[1],"px"),ae(),Ne("width",i.chartWidth)("height",i.view[1]),ae(2),fe("ngIf",i.showLegend&&i.legendType===i.LegendType.ScaleLegend),ae(),fe("ngIf",i.showLegend&&i.legendType===i.LegendType.Legend))},dependencies:[EH,IH,mn],encapsulation:2,changeDetection:0}),e})(),kH=(()=>{class e{constructor(n,i){this.element=n,this.zone=i,this.visible=new ye,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){let n=()=>{if(!this.element)return;let{offsetHeight:i,offsetWidth:r}=this.element.nativeElement;i&&r?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>n(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>n())})}}return e.\u0275fac=function(n){return new(n||e)(Me(mt),Me(We))},e.\u0275dir=dn({type:e,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),e})();function vS(e){return toString.call(e)==="[object Date]"}var OH=(()=>{class e{constructor(n,i,r,s){this.chartElement=n,this.zone=i,this.cd=r,this.platformId=s,this.scheme="cool",this.schemeType=De.Ordinal,this.animations=!0,this.select=new ye}ngOnInit(){Ki(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new kH(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(n){this.update()}update(){if(this.results?this.results=this.cloneData(this.results):this.results=[],this.view)this.width=this.view[0],this.height=this.view[1];else{let n=this.getContainerDims();n&&(this.width=n.width,this.height=n.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let n,i,r=this.chartElement.nativeElement;if(ti(this.platformId)&&r.parentNode!==null){let s=r.parentNode.getBoundingClientRect();n=s.width,i=s.height}return n&&i?{width:n,height:i}:null}formatDates(){for(let n=0;n<this.results.length;n++){let i=this.results[n];if(i.label=i.name,vS(i.label)&&(i.label=i.label.toLocaleDateString()),i.series)for(let r=0;r<i.series.length;r++){let s=i.series[r];s.label=s.name,vS(s.label)&&(s.label=s.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!ti(this.platformId))return;let i=tn(window,"resize").pipe(of(200)).subscribe(r=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=i}cloneData(n){let i=[];for(let r of n){let s={};if(r.name!==void 0&&(s.name=r.name),r.value!==void 0&&(s.value=r.value),r.series!==void 0){s.series=[];for(let o of r.series){let a=Object.assign({},o);s.series.push(a)}}r.extra!==void 0&&(s.extra=JSON.parse(JSON.stringify(r.extra))),r.source!==void 0&&(s.source=r.source),r.target!==void 0&&(s.target=r.target),i.push(s)}return i}}return e.\u0275fac=function(n){return new(n||e)(Me(mt),Me(We),Me(An),Me(Lt))},e.\u0275cmp=nt({type:e,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},features:[ht],decls:1,vars:0,template:function(n,i){n&1&&Re(0,"div")},encapsulation:2}),e})(),Bt=function(e){return e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e}(Bt||{}),OS=(()=>{class e{constructor(n){this.textHeight=25,this.margin=5,this.element=n.nativeElement}ngOnChanges(n){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case Bt.Top:this.y=this.offset,this.x=this.width/2;break;case Bt.Bottom:this.y=this.offset,this.x=this.width/2;break;case Bt.Left:this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case Bt.Right:this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)";break;default:}}}return e.\u0275fac=function(n){return new(n||e)(Me(mt))},e.\u0275cmp=nt({type:e,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},features:[ht],attrs:c3,decls:2,vars:6,template:function(n,i){n&1&&(xe(),ge(0,"text"),tt(1),pe()),n&2&&(Ne("stroke-width",i.strokeWidth)("x",i.x)("y",i.y)("text-anchor",i.textAnchor)("transform",i.transform),ae(),kt(" ",i.label," "))},encapsulation:2,changeDetection:0}),e})();function NS(e,t=16){return typeof e!="string"?typeof e=="number"?e+"":"":(e=e.trim(),e.length<=t?e:`${e.slice(0,t)}...`)}function RS(e,t){if(e.length>t){let n=[],i=Math.floor(e.length/t);for(let r=0;r<e.length;r++)r%i===0&&n.push(e[r]);e=n}return e}function FS(e,t,n){let i=(e||"").toString(),r=[];if(/\s/.test(i))r=i.split(/\s+/).reduce((s,o)=>{let a=(s.pop()||"")+" ";return a.length+o.length>t?[...s,a.trim(),o.trim()]:[...s,a+o]},[]);else{let s=0;for(;s<i.length;)r.push(i.substring(s,s+t)),s+=t}return r.length>n&&(r=r.splice(0,n),r[r.length-1]+="..."),r}var Ri=function(e){return e.Start="start",e.Middle="middle",e.End="end",e}(Ri||{}),yS=(()=>{class e{constructor(n){this.platformId=n,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.wrapTicks=!1,this.dimensionsChanged=new ye,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor=Ri.Middle,this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0,this.approxHeight=10,this.maxPossibleLengthForTickIfWrapped=16}get isWrapTicksSupported(){return this.wrapTicks&&this.scale.step}ngOnChanges(n){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!ti(this.platformId)){this.dimensionsChanged.emit({height:this.approxHeight});return}let n=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);n!==this.height&&(this.height=n,this.dimensionsChanged.emit({height:this.height}),setTimeout(()=>this.updateDims()))}update(){let n=this.scale;this.ticks=this.getTicks(),this.tickFormatting?this.tickFormat=this.tickFormatting:n.tickFormat?this.tickFormat=n.tickFormat.apply(n,this.tickArguments):this.tickFormat=function(r){return r.constructor.name==="Date"?r.toLocaleDateString():r.toLocaleString()};let i=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(r){return this.scale(r)+this.scale.bandwidth()*.5}:this.scale,this.textTransform="",i&&i!==0?(this.textTransform=`rotate(${i})`,this.textAnchor=Ri.End,this.verticalSpacing=10):this.textAnchor=Ri.Middle,setTimeout(()=>this.updateDims())}getRotationAngle(n){let i=0;this.maxTicksLength=0;for(let h=0;h<n.length;h++){let f=this.tickFormat(n[h]).toString(),u=f.length;this.trimTicks&&(u=this.tickTrim(f).length),u>this.maxTicksLength&&(this.maxTicksLength=u)}let r=Math.min(this.maxTicksLength,this.maxAllowedLength),s=7,o=r*s,a=o,l=Math.floor(this.width/n.length);for(;a>l&&i>-90;)i-=30,a=Math.cos(i*(Math.PI/180))*o;let c=14;if(this.isWrapTicksSupported){let h=this.ticks.reduce((u,p)=>p.length>u.length?p:u,"");c=14*(this.tickChunks(h).length||1),this.maxPossibleLengthForTickIfWrapped=this.getMaxPossibleLengthForTick(h)}let d=i!==0?Math.max(Math.abs(Math.sin(i*Math.PI/180))*this.maxTickLength*s,10):c;return this.approxHeight=Math.min(d,200),i}getTicks(){let n,i=this.getMaxTicks(20),r=this.getMaxTicks(100);return this.tickValues?n=this.tickValues:this.scale.ticks?n=this.scale.ticks.apply(this.scale,[r]):(n=this.scale.domain(),n=RS(n,i)),n}getMaxTicks(n){return Math.floor(this.width/n)}tickTransform(n){return"translate("+this.adjustedScale(n)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(n){return this.trimTicks?NS(n,this.maxTickLength):n}getMaxPossibleLengthForTick(n){if(this.scale.bandwidth){let r=Math.floor(this.scale.bandwidth()/7),s=n.slice(0,r);return Math.max(s.length,this.maxTickLength)}return this.maxTickLength}tickChunks(n){if(n.toString().length>this.maxTickLength&&this.scale.bandwidth){let r=this.rotateTicks?Math.floor(this.scale.step()/14):5;if(r<=1)return[this.tickTrim(n)];let s=Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength);return ti(this.platformId)||(s=Math.floor(Math.min(this.approxHeight/5,Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength)))),r=Math.min(r,5),FS(n,s,r<1?1:r)}return[this.tickTrim(n)]}}return e.\u0275fac=function(n){return new(n||e)(Me(Lt))},e.\u0275cmp=nt({type:e,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(n,i){if(n&1&&Ti(AS,5),n&2){let r;Dn(r=En())&&(i.ticksElement=r.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineHeight:"gridLineHeight",width:"width",rotateTicks:"rotateTicks",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[ht],attrs:u3,decls:4,vars:2,consts:[["ticksel",""],["tmplMultilineTick",""],["tmplSinglelineTick",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01","font-size","12px"],[4,"ngIf","ngIfThen","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(n,i){n&1&&(xe(),ge(0,"g",null,0),Ie(2,_3,2,2,"g",3),pe(),Ie(3,y3,2,2,"g",4)),n&2&&(ae(2),fe("ngForOf",i.ticks),ae(),fe("ngForOf",i.ticks))},dependencies:[Pr,mn],encapsulation:2,changeDetection:0}),e})(),NH=(()=>{class e{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient=Bt.Bottom,this.xAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new ye,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5,this.orientation=Bt}ngOnChanges(n){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,typeof this.xAxisTickCount<"u"&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:n}){let i=n+25+5;i!==this.labelOffset&&(this.labelOffset=i,setTimeout(()=>{this.dimensionsChanged.emit({height:n})},0))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=nt({type:e,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(n,i){if(n&1&&Ti(yS,5),n&2){let r;Dn(r=En())&&(i.ticksComponent=r.first)}},inputs:{xScale:"xScale",dims:"dims",trimTicks:"trimTicks",rotateTicks:"rotateTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickCount:"xAxisTickCount",xOrient:"xOrient",xAxisOffset:"xAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[ht],attrs:b3,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"dimensionsChanged","trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(n,i){n&1&&(xe(),ge(0,"g"),Ie(1,x3,1,13,"g",0)(2,w3,1,5,"g",1),pe()),n&2&&(Ne("class",i.xAxisClassName)("transform",i.transform),ae(),fe("ngIf",i.xScale),ae(),fe("ngIf",i.showLabel))},dependencies:[yS,OS,mn],encapsulation:2,changeDetection:0}),e})();function RH(e,t,n,i,r,[s,o,a,l]){let c="";return n=Math.floor(n),i=Math.floor(i),n=n===0?1:n,i=i===0?1:i,c=`M${[e+r,t]}`,c+=`h${n-2*r}`,o?c+=`a${[r,r]} 0 0 1 ${[r,r]}`:c+=`h${r}v${r}`,c+=`v${i-2*r}`,l?c+=`a${[r,r]} 0 0 1 ${[-r,r]}`:c+=`v${r}h${-r}`,c+=`h${2*r-n}`,a?c+=`a${[r,r]} 0 0 1 ${[-r,-r]}`:c+=`h${-r}v${-r}`,c+=`v${2*r-i}`,s?c+=`a${[r,r]} 0 0 1 ${[r,-r]}`:c+=`v${-r}h${r}`,c+="z",c}var bS=(()=>{class e{constructor(n){this.platformId=n,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.wrapTicks=!1,this.dimensionsChanged=new ye,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor=Ri.Middle,this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0,this.Orientation=Bt}ngOnChanges(n){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!ti(this.platformId)){this.width=this.getApproximateAxisWidth(),this.dimensionsChanged.emit({width:this.width});return}let n=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);n!==this.width&&(this.width=n,this.dimensionsChanged.emit({width:n}),setTimeout(()=>this.updateDims()))}update(){let n=this.scale,i=this.orient===Bt.Top||this.orient===Bt.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,this.ticks=this.getTicks(),this.tickFormatting?this.tickFormat=this.tickFormatting:n.tickFormat?this.tickFormat=n.tickFormat.apply(n,this.tickArguments):this.tickFormat=function(r){return r.constructor.name==="Date"?r.toLocaleDateString():r.toLocaleString()},this.adjustedScale=n.bandwidth?r=>{let s=n(r)+n.bandwidth()*.5;if(this.wrapTicks&&r.toString().length>this.maxTickLength){let o=this.tickChunks(r).length;if(o===1)return s;let a=n.bandwidth(),l=o*8,c=a*.5-l*.5;return n(r)+c}return s}:n,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case Bt.Top:this.transform=function(r){return"translate("+this.adjustedScale(r)+",0)"},this.textAnchor=Ri.Middle,this.y2=this.innerTickSize*i,this.y1=this.tickSpacing*i,this.dy=i<0?"0em":".71em";break;case Bt.Bottom:this.transform=function(r){return"translate("+this.adjustedScale(r)+",0)"},this.textAnchor=Ri.Middle,this.y2=this.innerTickSize*i,this.y1=this.tickSpacing*i,this.dy=i<0?"0em":".71em";break;case Bt.Left:this.transform=function(r){return"translate(0,"+this.adjustedScale(r)+")"},this.textAnchor=Ri.End,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em";break;case Bt.Right:this.transform=function(r){return"translate(0,"+this.adjustedScale(r)+")"},this.textAnchor=Ri.Start,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em";break;default:}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(n=>n.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(n=>n.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=RH(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let n,i=this.getMaxTicks(20),r=this.getMaxTicks(50);return this.tickValues?n=this.tickValues:this.scale.ticks?n=this.scale.ticks.apply(this.scale,[r]):(n=this.scale.domain(),n=RS(n,i)),n}getMaxTicks(n){return Math.floor(this.height/n)}tickTransform(n){return`translate(${this.adjustedScale(n)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(n){return this.trimTicks?NS(n,this.maxTickLength):n}getApproximateAxisWidth(){return Math.max(...this.ticks.map(r=>this.tickTrim(this.tickFormat(r)).length))*7}tickChunks(n){if(n.toString().length>this.maxTickLength&&this.scale.bandwidth){let i=this.maxTickLength,r=Math.floor(this.scale.bandwidth()/15);return r<=1?[this.tickTrim(n)]:FS(n,i,Math.min(r,5))}return[this.tickFormat(n)]}}return e.\u0275fac=function(n){return new(n||e)(Me(Lt))},e.\u0275cmp=nt({type:e,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(n,i){if(n&1&&Ti(AS,5),n&2){let r;Dn(r=En())&&(i.ticksElement=r.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[ht],attrs:C3,decls:6,vars:4,consts:[["ticksel",""],["tmplMultilineTick",""],["tmplSinglelineTick",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01"],[4,"ngIf","ngIfThen","ngIfElse"],[4,"ngIf","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],[1,"reference-area"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(n,i){n&1&&(xe(),ge(0,"g",null,0),Ie(2,k3,2,2,"g",3),pe(),Ie(3,O3,1,2,"path",4)(4,L3,2,2,"g",5)(5,B3,2,1,"g",5)),n&2&&(ae(2),fe("ngForOf",i.ticks),ae(),fe("ngIf",i.referenceLineLength>1&&i.refMax&&i.refMin&&i.showRefLines),ae(),fe("ngForOf",i.ticks),ae(),fe("ngForOf",i.referenceLines))},dependencies:[Pr,mn],encapsulation:2,changeDetection:0}),e})(),FH=(()=>{class e{constructor(){this.showGridLines=!1,this.yOrient=Bt.Left,this.yAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new ye,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(n){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),this.yOrient===Bt.Right?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):this.transform=`translate(${this.offset} , 0)`,this.yAxisTickCount!==void 0&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:n}){n!==this.labelOffset&&this.yOrient===Bt.Right?(this.labelOffset=n+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:n})},0)):n!==this.labelOffset&&(this.labelOffset=n,setTimeout(()=>{this.dimensionsChanged.emit({width:n})},0))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=nt({type:e,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(n,i){if(n&1&&Ti(bS,5),n&2){let r;Dn(r=En())&&(i.ticksComponent=r.first)}},inputs:{yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",yAxisTickCount:"yAxisTickCount",yOrient:"yOrient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",yAxisOffset:"yAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[ht],attrs:H3,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"dimensionsChanged","trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(n,i){n&1&&(xe(),ge(0,"g"),Ie(1,U3,1,15,"g",0)(2,j3,1,5,"g",1),pe()),n&2&&(Ne("class",i.yAxisClassName)("transform",i.transform),ae(),fe("ngIf",i.yScale),ae(),fe("ngIf",i.showLabel))},dependencies:[bS,OS,mn],encapsulation:2,changeDetection:0}),e})(),xS=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Ce({imports:[[Vr]]}),e})(),_h=function(e){return e.popover="popover",e.tooltip="tooltip",e}(_h||{}),Lo=function(e){return e[e.all="all"]="all",e[e.focus="focus"]="focus",e[e.mouseover="mouseover"]="mouseover",e}(Lo||{}),LS=(()=>{class e{constructor(n,i,r){this.tooltipService=n,this.viewContainerRef=i,this.renderer=r,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=Ge.Top,this.tooltipAlignment=Ge.Center,this.tooltipType=_h.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=Lo.all,this.tooltipImmediateExit=!1,this.show=new ye,this.hide=new ye}get listensForFocus(){return this.tooltipShowEvent===Lo.all||this.tooltipShowEvent===Lo.focus}get listensForHover(){return this.tooltipShowEvent===Lo.all||this.tooltipShowEvent===Lo.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(n){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(n))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(n){if(this.component||this.tooltipDisabled)return;let i=n?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?400:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();let r=this.createBoundOptions();this.component=this.tooltipService.create(r),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},i)}addHideListeners(n){this.mouseEnterContentEvent=this.renderer.listen(n,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(n,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",i=>{n.contains(i.target)||this.hideTooltip()}))}hideTooltip(n=!1){if(!this.component)return;let i=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),n?i():this.timeout=setTimeout(i,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}}return e.\u0275fac=function(n){return new(n||e)(Me(L0),Me(Tn),Me(xi))},e.\u0275dir=dn({type:e,selectors:[["","ngx-tooltip",""]],hostBindings:function(n,i){n&1&&it("focusin",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(s){return i.onMouseLeave(s.target)})("click",function(){return i.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"}}),e})(),wS=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Ce({providers:[MS,L0],imports:[[Vr]]}),e})(),CS={};function Po(){let e=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return e=`a${e}`,CS[e]?Po():(CS[e]=!0,e)}var ds=function(e){return e.Vertical="vertical",e.Horizontal="horizontal",e}(ds||{}),P0=(()=>{class e{constructor(){this.orientation=ds.Vertical}ngOnChanges(n){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%",this.orientation===ds.Horizontal?this.x2="100%":this.orientation===ds.Vertical&&(this.y1="100%")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=nt({type:e,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},features:[ht],attrs:$3,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(n,i){n&1&&(xe(),ge(0,"linearGradient",0),Ie(1,G3,1,5,"stop",1),pe()),n&2&&(fe("id",i.name),Ne("x1",i.x1)("y1",i.y1)("x2",i.x2)("y2",i.y2),ae(),fe("ngForOf",i.stops))},dependencies:[Pr],encapsulation:2,changeDetection:0}),e})(),LH=(()=>{class e{constructor(){this.select=new ye,this.activate=new ye,this.deactivate=new ye}onClick(){this.select.emit(this.data)}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}ngOnChanges(n){this.classNames=Array.isArray(this.classNames)?this.classNames.join(" "):"",this.classNames+="circle"}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=nt({type:e,selectors:[["g","ngx-charts-circle",""]],hostBindings:function(n,i){n&1&&it("click",function(){return i.onClick()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{cx:"cx",cy:"cy",r:"r",fill:"fill",stroke:"stroke",data:"data",classNames:"classNames",circleOpacity:"circleOpacity",pointerEvents:"pointerEvents"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[ht],attrs:z3,decls:1,vars:8,template:function(n,i){n&1&&(xe(),Re(0,"circle")),n&2&&Ne("cx",i.cx)("cy",i.cy)("r",i.r)("fill",i.fill)("stroke",i.stroke)("opacity",i.circleOpacity)("class",i.classNames)("pointer-events",i.pointerEvents)},encapsulation:2,changeDetection:0}),e})(),mh=function(e){return e.Standard="standard",e.Stacked="stacked",e}(mh||{}),PH=(()=>{class e{constructor(n){this.platformId=n,this.type=mh.Standard,this.tooltipDisabled=!1,this.select=new ye,this.activate=new ye,this.deactivate=new ye,this.barVisible=!1,this.barOrientation=ds,this.placementTypes=Ge,this.styleTypes=_h,this.isSSR=!1}ngOnInit(){this.gradientId="grad"+Po().toString(),this.gradientFill=`url(#${this.gradientId})`,Ki(this.platformId)&&(this.isSSR=!0)}ngOnChanges(){this.update()}update(){this.circle=this.getActiveCircle()}getActiveCircle(){let n=this.data.series.findIndex(i=>{let r=i.name;return r&&this.visibleValue&&r.toString()===this.visibleValue.toString()&&i.value!==void 0});if(n!==-1)return this.mapDataPointToCircle(this.data.series[n],n)}mapDataPointToCircle(n,i){let r=this.data.name,s=n.value,o=n.name,a=kS(o),l;this.scaleType===De.Time?l=this.xScale(o):this.scaleType===De.Linear?l=this.xScale(Number(o)):l=this.xScale(o);let c=this.yScale(this.type===mh.Standard?s:n.d1),d=5,h=this.yScale.range()[0]-c,f=1,u;this.colors.scaleType===De.Linear?this.type===mh.Standard?u=this.colors.getColor(s):u=this.colors.getColor(n.d1):u=this.colors.getColor(r);let p=Object.assign({},n,{series:r,value:s,name:o});return{classNames:[`circle-data-${i}`],value:s,label:o,data:p,cx:l,cy:c,radius:d,height:h,tooltipLabel:a,color:u,opacity:f,seriesName:r,gradientStops:this.getGradientStops(u),min:n.min,max:n.max}}getTooltipText({tooltipLabel:n,value:i,seriesName:r,min:s,max:o}){return`
      <span class="tooltip-label">${_S(r)} \u2022 ${_S(n)}</span>
      <span class="tooltip-val">${i.toLocaleString()}${this.getTooltipMinMaxText(s,o)}</span>
    `}getTooltipMinMaxText(n,i){if(n!==void 0||i!==void 0){let r=" (";return n!==void 0?(i===void 0&&(r+="\u2265"),r+=n.toLocaleString(),i!==void 0&&(r+=" - ")):i!==void 0&&(r+="\u2264"),i!==void 0&&(r+=i.toLocaleString()),r+=")",r}else return""}getGradientStops(n){return[{offset:0,color:n,opacity:.2},{offset:100,color:n,opacity:1}]}onClick(n){this.select.emit(n)}isActive(n){return this.activeEntries?this.activeEntries.find(r=>n.name===r.name)!==void 0:!1}activateCircle(){this.barVisible=!0,this.activate.emit({name:this.data.name})}deactivateCircle(){this.barVisible=!1,this.circle.opacity=0,this.deactivate.emit({name:this.data.name})}}return e.\u0275fac=function(n){return new(n||e)(Me(Lt))},e.\u0275cmp=nt({type:e,selectors:[["g","ngx-charts-circle-series",""]],inputs:{data:"data",type:"type",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",visibleValue:"visibleValue",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[ht],attrs:W3,decls:1,vars:1,consts:[[4,"ngIf"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"],["class","tooltip-bar",4,"ngIf"],["ngx-charts-circle","","ngx-tooltip","",1,"circle",3,"select","activate","deactivate","cx","cy","r","fill","pointerEvents","data","classNames","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext"],[1,"tooltip-bar"]],template:function(n,i){n&1&&Ie(0,Q3,6,22,"g",0),n&2&&fe("ngIf",i.circle)},dependencies:[P0,LH,mn,LS],encapsulation:2,data:{animation:[Ya("animationState",[go(":enter",[cn({opacity:0}),po(250,cn({opacity:1}))])])]},changeDetection:0}),e})();var VH=(()=>{class e{constructor(n){this.opacity=1,this.startOpacity=.5,this.endOpacity=1,this.gradient=!1,this.animations=!0,this.select=new ye,this.animationsLoaded=!1,this.hasGradient=!1,this.barOrientation=ds,this.element=n.nativeElement}ngOnChanges(){this.update(),this.animationsLoaded||(this.loadAnimation(),this.animationsLoaded=!0)}update(){this.gradientId="grad"+Po().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl()}loadAnimation(){this.areaPath=this.startingPath,setTimeout(this.updatePathEl.bind(this),100)}updatePathEl(){let n=$t(this.element).select(".area");this.animations?n.transition().duration(750).attr("d",this.path):n.attr("d",this.path)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.startOpacity},{offset:100,color:this.fill,opacity:this.endOpacity}]}}return e.\u0275fac=function(n){return new(n||e)(Me(mt))},e.\u0275cmp=nt({type:e,selectors:[["g","ngx-charts-area",""]],inputs:{data:"data",path:"path",startingPath:"startingPath",fill:"fill",opacity:"opacity",startOpacity:"startOpacity",endOpacity:"endOpacity",gradient:"gradient",stops:"stops",animations:"animations"},outputs:{select:"select"},features:[ht],attrs:Z3,decls:2,vars:5,consts:[[4,"ngIf"],[1,"area"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(n,i){n&1&&(Ie(0,K3,2,3,"defs",0),xe(),Re(1,"path",1)),n&2&&(fe("ngIf",i.gradient),ae(),Zt("opacity",i.opacity),Ne("d",i.areaPath)("fill",i.gradient?i.gradientFill:i.fill))},dependencies:[P0,mn],encapsulation:2,changeDetection:0}),e})();var R0;typeof window<"u"?R0=window:typeof global<"u"&&(R0=global);var TS=R0.MouseEvent;function O0(e,t=!1,n=!0){if(typeof TS=="function")return new TS(e,{bubbles:t,cancelable:n});{let i=document.createEvent("MouseEvent");return i.initEvent(e,t,n),i}}var BH=(()=>{class e{constructor(n){this.platformId=n,this.anchorOpacity=0,this.anchorPos=-1,this.anchorValues=[],this.placementTypes=Ge,this.styleTypes=_h,this.showPercentage=!1,this.tooltipDisabled=!1,this.hover=new ye}getValues(n){let i=[];for(let r of this.results){let s=r.series.find(a=>a.name.toString()===n.toString()),o=r.name;if(o instanceof Date&&(o=o.toLocaleDateString()),s){let a=s.name,l=s.value;this.showPercentage&&(l=(s.d1-s.d0).toFixed(2)+"%");let c;if(this.colors.scaleType===De.Linear){let h=l;s.d1&&(h=s.d1),c=this.colors.getColor(h)}else c=this.colors.getColor(r.name);let d=Object.assign({},s,{value:l,name:a,series:o,min:s.min,max:s.max,color:c});i.push(d)}}return i}mouseMove(n){if(!ti(this.platformId))return;let i=n.pageX-n.target.getBoundingClientRect().left,r=this.findClosestPointIndex(i),s=this.xSet[r];if(this.anchorPos=this.xScale(s),this.anchorPos=Math.max(0,this.anchorPos),this.anchorPos=Math.min(this.dims.width,this.anchorPos),this.anchorValues=this.getValues(s),this.anchorPos!==this.lastAnchorPos){let o=O0("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(o),this.anchorOpacity=.7,this.hover.emit({value:s}),this.showTooltip(),this.lastAnchorPos=this.anchorPos}}findClosestPointIndex(n){let i=0,r=this.xSet.length-1,s=Number.MAX_VALUE,o=0;for(;i<=r;){let a=(i+r)/2|0,l=this.xScale(this.xSet[a]),c=Math.abs(l-n);if(c<s&&(s=c,o=a),l<n)i=a+1;else if(l>n)r=a-1;else{s=0,o=a;break}}return o}showTooltip(){let n=O0("mouseenter");this.tooltipAnchor.nativeElement.dispatchEvent(n)}hideTooltip(){let n=O0("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(n),this.anchorOpacity=0,this.lastAnchorPos=-1}getToolTipText(n){let i="";return n.series!==void 0?i+=n.series:i+="???",i+=": ",n.value!==void 0&&(i+=n.value.toLocaleString()),(n.min!==void 0||n.max!==void 0)&&(i+=" (",n.min!==void 0?(n.max===void 0&&(i+="\u2265"),i+=n.min.toLocaleString(),n.max!==void 0&&(i+=" - ")):n.max!==void 0&&(i+="\u2264"),n.max!==void 0&&(i+=n.max.toLocaleString()),i+=")"),i}}return e.\u0275fac=function(n){return new(n||e)(Me(Lt))},e.\u0275cmp=nt({type:e,selectors:[["g","ngx-charts-tooltip-area",""]],viewQuery:function(n,i){if(n&1&&Ti(J3,5),n&2){let r;Dn(r=En())&&(i.tooltipAnchor=r.first)}},inputs:{dims:"dims",xSet:"xSet",xScale:"xScale",yScale:"yScale",results:"results",colors:"colors",showPercentage:"showPercentage",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate"},outputs:{hover:"hover"},attrs:eH,decls:6,vars:18,consts:[["defaultTooltipTemplate",""],["tooltipAnchor",""],["y","0",1,"tooltip-area",2,"opacity","0","cursor","'auto'",3,"mousemove","mouseleave"],["y","0","ngx-tooltip","",1,"tooltip-anchor",3,"tooltipDisabled","tooltipPlacement","tooltipType","tooltipSpacing","tooltipTemplate","tooltipContext","tooltipImmediateExit"],[1,"area-tooltip-container"],["class","tooltip-item",4,"ngFor","ngForOf"],[1,"tooltip-item"],[1,"tooltip-item-color"]],template:function(n,i){if(n&1){let r=Kt();xe(),ge(0,"g")(1,"rect",2),it("mousemove",function(o){return ut(r),dt(i.mouseMove(o))})("mouseleave",function(){return ut(r),dt(i.hideTooltip())}),pe(),Ie(2,nH,2,1,"ng-template",null,0,Rr),Re(4,"rect",3,1),pe()}if(n&2){let r=Qi(3);ae(),Ne("x",0)("width",i.dims.width)("height",i.dims.height),ae(3),Zt("opacity",i.anchorOpacity)("pointer-events","none"),fe("@animationState",i.anchorOpacity!==0?"active":"inactive")("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.placementTypes.Right)("tooltipType",i.styleTypes.tooltip)("tooltipSpacing",15)("tooltipTemplate",i.tooltipTemplate?i.tooltipTemplate:r)("tooltipContext",i.anchorValues)("tooltipImmediateExit",!0),Ne("x",i.anchorPos)("width",1)("height",i.dims.height)}},dependencies:[Pr,LS],encapsulation:2,data:{animation:[Ya("animationState",[go("inactive => active",[cn({opacity:0}),po(250,cn({opacity:.7}))]),go("active => inactive",[cn({opacity:.7}),po(250,cn({opacity:0}))])])]},changeDetection:0}),e})(),HH=(()=>{class e{constructor(n,i){this.cd=i,this.height=50,this.select=new ye,this.onDomainChange=new ye,this.initialized=!1,this.element=n.nativeElement}ngOnChanges(n){this.update(),this.initialized||(this.addBrush(),this.initialized=!0)}update(){this.dims=this.getDims(),this.height=this.dims.height;let n=this.view[1]-this.height;this.xDomain=this.getXDomain(),this.xScale=this.getXScale(),this.brush&&this.updateBrush(),this.transform=`translate(0 , ${n})`,this.filterId="filter"+Po().toString(),this.filter=`url(#${this.filterId})`,this.cd.markForCheck()}getXDomain(){let n=[];for(let r of this.results)for(let s of r.series)n.includes(s.name)||n.push(s.name);let i=[];if(this.scaleType===De.Time){let r=Math.min(...n),s=Math.max(...n);i=[r,s]}else if(this.scaleType===De.Linear){n=n.map(o=>Number(o));let r=Math.min(...n),s=Math.max(...n);i=[r,s]}else i=n;return i}getXScale(){let n;return this.scaleType===De.Time?n=Dl().range([0,this.dims.width]).domain(this.xDomain):this.scaleType===De.Linear?n=ci().range([0,this.dims.width]).domain(this.xDomain):this.scaleType===De.Ordinal&&(n=Kd().range([0,this.dims.width]).padding(.1).domain(this.xDomain)),n}addBrush(){if(this.brush)return;let n=this.height,i=this.view[0];this.brush=t0().extent([[0,0],[i,n]]).on("brush end",({selection:r})=>{let o=(r||this.xScale.range()).map(this.xScale.invert);this.onDomainChange.emit(o),this.cd.markForCheck()}),$t(this.element).select(".brush").call(this.brush)}updateBrush(){if(!this.brush)return;let n=this.height,i=this.view[0];this.brush.extent([[0,0],[i,n]]),$t(this.element).select(".brush").call(this.brush),$t(this.element).select(".selection").attr("fill",void 0).attr("stroke",void 0).attr("fill-opacity",void 0),this.cd.markForCheck()}getDims(){return{width:this.view[0],height:this.height}}}return e.\u0275fac=function(n){return new(n||e)(Me(mt),Me(An))},e.\u0275cmp=nt({type:e,selectors:[["g","ngx-charts-timeline",""]],inputs:{view:"view",results:"results",scheme:"scheme",customColors:"customColors",legend:"legend",autoScale:"autoScale",scaleType:"scaleType",height:"height"},outputs:{select:"select",onDomainChange:"onDomainChange"},features:[ht],attrs:iH,ngContentSelectors:ES,decls:7,vars:4,consts:[[1,"timeline"],["in","SourceGraphic","type","matrix","values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"],[1,"embedded-chart"],["x","0","y","0",1,"brush-background"],[1,"brush"]],template:function(n,i){n&1&&(fa(),xe(),ge(0,"g",0)(1,"filter"),Re(2,"feColorMatrix",1),pe(),ge(3,"g",2),pa(4),pe(),Re(5,"rect",3)(6,"g",4),pe()),n&2&&(Ne("transform",i.transform),ae(),Ne("id",i.filterId),ae(4),Ne("width",i.view[0])("height",i.height))},styles:[`.timeline .brush-background{fill:#0000000d}.timeline .brush .selection{fill:#0000001a;stroke-width:1px;stroke:#888}.timeline .brush .handle{fill-opacity:0}.timeline .embedded-chart{opacity:.6}
`],encapsulation:2,changeDetection:0}),e})();var yn=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Ce({imports:[[Vr,xS,wS],Vr,xS,wS]}),e})();function UH({width:e,height:t,margins:n,showXAxis:i=!1,showYAxis:r=!1,xAxisHeight:s=0,yAxisWidth:o=0,showXLabel:a=!1,showYLabel:l=!1,showLegend:c=!1,legendType:d=De.Ordinal,legendPosition:h=us.Right,columns:f=12}){let u=n[3],p=e,g=t-n[0]-n[2];return c&&h===us.Right&&(d===De.Ordinal?f-=2:f-=1),p=p*f/12,p=p-n[1]-n[3],i&&(g-=5,g-=s,a&&(g-=30)),r&&(p-=5,p-=o,u+=o,u+=10,l&&(p-=30,u+=30)),p=Math.max(0,p),g=Math.max(0,g),{width:Math.floor(p),height:Math.floor(g),xOffset:Math.floor(u)}}var SS=[{name:"vivid",selectable:!0,group:De.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:De.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:De.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:De.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:De.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:De.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:De.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:De.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:De.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:De.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:De.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:De.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:De.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:De.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:De.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}],F0=class{constructor(t,n,i,r){typeof t=="string"&&(t=SS.find(s=>s.name===t)),this.colorDomain=t.domain,this.scaleType=n,this.domain=i,this.customColors=r,this.scale=this.generateColorScheme(t,n,this.domain)}generateColorScheme(t,n,i){typeof t=="string"&&(t=SS.find(s=>s.name===t));let r;switch(n){case De.Quantile:r=ml().range(t.domain).domain(i);break;case De.Ordinal:r=Xr().range(t.domain).domain(i);break;case De.Linear:{let s=[...t.domain];s.length===1&&(s.push(s[0]),this.colorDomain=s);let o=So(0,1,1/s.length);r=ci().range(s).domain(o)}break;default:break}return r}getColor(t){if(t==null)throw new Error("Value can not be null");if(this.scaleType===De.Linear){let n=ci().domain(this.domain).range([0,1]);return this.scale(n(t))}else{if(typeof this.customColors=="function")return this.customColors(t);let n=t.toString(),i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(r=>r.name.toLowerCase()===n.toLowerCase())),i?i.value:this.scale(t)}}getLinearGradientStops(t,n){n===void 0&&(n=this.domain[0]);let i=ci().domain(this.domain).range([0,1]),r=Do().domain(this.colorDomain).range([0,1]),s=this.getColor(t),o=i(n),a=this.getColor(n),l=i(t),c=1,d=o,h=[];for(h.push({color:a,offset:o,originalOffset:o,opacity:1});d<l&&c<this.colorDomain.length;){let f=this.colorDomain[c],u=r(f);if(u<=o){c++;continue}if(u.toFixed(4)>=(l-r.bandwidth()).toFixed(4))break;h.push({color:f,offset:u,opacity:1}),d=u,c++}if(h[h.length-1].offset<100&&h.push({color:s,offset:l,opacity:1}),l===o)h[0].offset=0,h[1].offset=100;else if(h[h.length-1].offset!==100)for(let f of h)f.offset=(f.offset-o)/(l-o)*100;return h}};function jH(e){let t=new Set;for(let n of e)for(let i of n.series)t.add(i.name);return Array.from(t)}function $H(e,t=!0){return t&&e.every(r=>r instanceof Date)?De.Time:e.every(i=>typeof i=="number")?De.Linear:De.Ordinal}function GH(e,t,n="asc"){return e.sort((i,r)=>n==="asc"?i[t]-r[t]:r[t]-i[t])}function zH(e,t,n="asc",i){return e.sort((r,s)=>{let o=r[t],a=s[t],l=i.indexOf(o),c=i.indexOf(a);return n==="asc"?l-c:c-l})}function WH(e,t,n="asc"){return e.sort((i,r)=>{let s=i[t].getTime(),o=r[t].getTime();return n==="asc"?s>o?1:o>s?-1:0:s>o?-1:o>s?1:0})}var YH=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Ce({imports:[[yn]]}),e})();var PS=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Ce({imports:[[yn]]}),e})(),Dne=(0,DS.default)();var qH=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Ce({imports:[[yn]]}),e})();var XH=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Ce({imports:[[yn]]}),e})();var QH=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Ce({imports:[[yn]]}),e})(),ZH=(()=>{class e{constructor(n,i){this.element=n,this.platformId=i,this.fill="none",this.animations=!0,this.initialized=!1,this.isSSR=!1}ngOnInit(){Ki(this.platformId)&&(this.isSSR=!0)}ngOnChanges(n){this.initialized?this.updatePathEl():(this.initialized=!0,this.initialPath=this.path)}updatePathEl(){let n=$t(this.element.nativeElement).select(".line");this.animations?n.transition().duration(750).attr("d",this.path):n.attr("d",this.path)}}return e.\u0275fac=function(n){return new(n||e)(Me(mt),Me(Lt))},e.\u0275cmp=nt({type:e,selectors:[["g","ngx-charts-line",""]],inputs:{path:"path",stroke:"stroke",data:"data",fill:"fill",animations:"animations"},features:[ht],attrs:aH,decls:2,vars:2,consts:[[4,"ngIf"],["stroke-width","1.5px",1,"line"]],template:function(n,i){n&1&&Ie(0,lH,2,4,"g",0)(1,cH,2,3,"g",0),n&2&&(fe("ngIf",!i.isSSR),ae(),fe("ngIf",i.isSSR))},dependencies:[mn],encapsulation:2,data:{animation:[Ya("animationState",[go(":enter",[cn({strokeDasharray:2e3,strokeDashoffset:2e3}),po(1e3,cn({strokeDashoffset:0}))])])]},changeDetection:0}),e})(),KH=(()=>{class e{constructor(){this.animations=!0,this.barOrientation=ds}ngOnChanges(n){this.update()}update(){this.updateGradients();let n=this.sortData(this.data.series),i=this.getLineGenerator();this.path=i(n)||"";let r=this.getAreaGenerator();if(this.areaPath=r(n)||"",this.hasRange){let s=this.getRangeGenerator();this.outerPath=s(n)||""}if(this.hasGradient){this.stroke=this.gradientUrl;let s=this.data.series.map(l=>l.value),o=Math.max(...s),a=Math.min(...s);o===a&&(this.stroke=this.colors.getColor(o))}else this.stroke=this.colors.getColor(this.data.name)}getLineGenerator(){return El().x(n=>{let i=n.name,r;return this.scaleType===De.Time?r=this.xScale(i):this.scaleType===De.Linear?r=this.xScale(Number(i)):r=this.xScale(i),r}).y(n=>this.yScale(n.value)).curve(this.curve)}getRangeGenerator(){return gh().x(n=>{let i=n.name,r;return this.scaleType===De.Time?r=this.xScale(i):this.scaleType===De.Linear?r=this.xScale(Number(i)):r=this.xScale(i),r}).y0(n=>this.yScale(typeof n.min=="number"?n.min:n.value)).y1(n=>this.yScale(typeof n.max=="number"?n.max:n.value)).curve(this.curve)}getAreaGenerator(){let n=i=>{let r=i.name;return this.xScale(r)};return gh().x(n).y0(()=>this.yScale.range()[0]).y1(i=>this.yScale(i.value)).curve(this.curve)}sortData(n){return this.scaleType===De.Linear?n=GH(n,"name"):this.scaleType===De.Time?n=WH(n,"name"):n=zH(n,"name","asc",this.xScale.domain()),n}updateGradients(){if(this.colors.scaleType===De.Linear){this.hasGradient=!0,this.gradientId="grad"+Po().toString(),this.gradientUrl=`url(#${this.gradientId})`;let n=this.data.series.map(s=>s.value),i=Math.max(...n),r=Math.min(...n);this.gradientStops=this.colors.getLinearGradientStops(i,r),this.areaGradientStops=this.colors.getLinearGradientStops(i)}else this.hasGradient=!1,this.gradientStops=void 0,this.areaGradientStops=void 0}isActive(n){return this.activeEntries?this.activeEntries.find(r=>n.name===r.name)!==void 0:!1}isInactive(n){return!this.activeEntries||this.activeEntries.length===0?!1:this.activeEntries.find(r=>n.name===r.name)===void 0}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=nt({type:e,selectors:[["g","ngx-charts-line-series",""]],inputs:{data:"data",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",curve:"curve",activeEntries:"activeEntries",rangeFillOpacity:"rangeFillOpacity",hasRange:"hasRange",animations:"animations"},features:[ht],attrs:uH,decls:6,vars:22,consts:[["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops",4,"ngIf"],["ngx-charts-area","",1,"line-highlight",3,"data","path","fill","opacity","startOpacity","gradient","stops","animations"],["ngx-charts-line","",1,"line-series",3,"data","path","stroke","animations"],["ngx-charts-area","","class","line-series-range",3,"data","path","fill","active","inactive","opacity","animations",4,"ngIf"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"],["ngx-charts-area","",1,"line-series-range",3,"data","path","fill","opacity","animations"]],template:function(n,i){n&1&&(xe(),ge(0,"g")(1,"defs"),Ie(2,dH,1,3,"g",0),pe(),Re(3,"g",1)(4,"g",2),Ie(5,hH,1,9,"g",3),pe()),n&2&&(ae(2),fe("ngIf",i.hasGradient),ae(),fn("active",i.isActive(i.data))("inactive",i.isInactive(i.data)),fe("data",i.data)("path",i.areaPath)("fill",i.hasGradient?i.gradientUrl:i.colors.getColor(i.data.name))("opacity",.25)("startOpacity",0)("gradient",!0)("stops",i.areaGradientStops)("animations",i.animations),ae(),fn("active",i.isActive(i.data))("inactive",i.isInactive(i.data)),fe("data",i.data)("path",i.path)("stroke",i.stroke)("animations",i.animations),ae(),fe("ngIf",i.hasRange))},dependencies:[P0,VH,ZH,mn],encapsulation:2,changeDetection:0}),e})(),VS=(()=>{class e extends OH{constructor(){super(...arguments),this.legendTitle="Legend",this.legendPosition=us.Right,this.showGridLines=!0,this.curve=cs,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.roundDomains=!1,this.tooltipDisabled=!1,this.showRefLines=!1,this.showRefLabels=!0,this.wrapTicks=!1,this.activate=new ye,this.deactivate=new ye,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.timelineHeight=50,this.timelinePadding=10,this.isSSR=!1}ngOnInit(){Ki(this.platformId)&&(this.isSSR=!0)}update(){super.update(),this.dims=UH({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.timeline&&(this.dims.height-=this.timelineHeight+this.margin[2]+this.timelinePadding),this.xDomain=this.getXDomain(),this.filteredDomain&&(this.xDomain=this.filteredDomain),this.yDomain=this.getYDomain(),this.seriesDomain=this.getSeriesDomain(),this.xScale=this.getXScale(this.xDomain,this.dims.width),this.yScale=this.getYScale(this.yDomain,this.dims.height),this.updateTimeline(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`,this.clipPathId="clip"+Po().toString(),this.clipPath=`url(#${this.clipPathId})`}updateTimeline(){this.timeline&&(this.timelineWidth=this.dims.width,this.timelineXDomain=this.getXDomain(),this.timelineXScale=this.getXScale(this.timelineXDomain,this.timelineWidth),this.timelineYScale=this.getYScale(this.yDomain,this.timelineHeight),this.timelineTransform=`translate(${this.dims.xOffset}, ${-this.margin[2]})`)}getXDomain(){let n=jH(this.results);this.scaleType=$H(n);let i=[];this.scaleType===De.Linear&&(n=n.map(o=>Number(o)));let r,s;return(this.scaleType===De.Time||this.scaleType===De.Linear)&&(r=this.xScaleMin?this.xScaleMin:Math.min(...n),s=this.xScaleMax?this.xScaleMax:Math.max(...n)),this.scaleType===De.Time?(i=[new Date(r),new Date(s)],this.xSet=[...n].sort((o,a)=>{let l=o.getTime(),c=a.getTime();return l>c?1:c>l?-1:0})):this.scaleType===De.Linear?(i=[r,s],this.xSet=[...n].sort((o,a)=>o-a)):(i=n,this.xSet=n),i}getYDomain(){let n=[];for(let o of this.results)for(let a of o.series)n.indexOf(a.value)<0&&n.push(a.value),a.min!==void 0&&(this.hasRange=!0,n.indexOf(a.min)<0&&n.push(a.min)),a.max!==void 0&&(this.hasRange=!0,n.indexOf(a.max)<0&&n.push(a.max));let i=[...n];this.autoScale||i.push(0);let r=this.yScaleMin?this.yScaleMin:Math.min(...i),s=this.yScaleMax?this.yScaleMax:Math.max(...i);return[r,s]}getSeriesDomain(){return this.results.map(n=>n.name)}getXScale(n,i){let r;return this.scaleType===De.Time?r=Dl().range([0,i]).domain(n):this.scaleType===De.Linear?(r=ci().range([0,i]).domain(n),this.roundDomains&&(r=r.nice())):this.scaleType===De.Ordinal&&(r=Kd().range([0,i]).padding(.1).domain(n)),r}getYScale(n,i){let r=ci().range([i,0]).domain(n);return this.roundDomains?r.nice():r}updateDomain(n){this.filteredDomain=n,this.xDomain=this.filteredDomain,this.xScale=this.getXScale(this.xDomain,this.dims.width)}updateHoveredVertical(n){this.hoveredVertical=n.value,this.deactivateAll()}hideCircles(){this.hoveredVertical=null,this.deactivateAll()}onClick(n){this.select.emit(n)}trackBy(n,i){return`${i.name}`}setColors(){let n;this.schemeType===De.Ordinal?n=this.seriesDomain:n=this.yDomain,this.colors=new F0(this.scheme,this.schemeType,n,this.customColors)}getLegendOptions(){let n={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return n.scaleType===De.Ordinal?(n.domain=this.seriesDomain,n.colors=this.colors,n.title=this.legendTitle):(n.domain=this.yDomain,n.colors=this.colors.scale),n}updateYAxisWidth({width:n}){this.yAxisWidth=n,this.update()}updateXAxisHeight({height:n}){this.xAxisHeight=n,this.update()}onActivate(n){this.deactivateAll(),!(this.activeEntries.findIndex(r=>r.name===n.name&&r.value===n.value)>-1)&&(this.activeEntries=[n],this.activate.emit({value:n,entries:this.activeEntries}))}onDeactivate(n){let i=this.activeEntries.findIndex(r=>r.name===n.name&&r.value===n.value);this.activeEntries.splice(i,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:n,entries:this.activeEntries})}deactivateAll(){this.activeEntries=[...this.activeEntries];for(let n of this.activeEntries)this.deactivate.emit({value:n,entries:[]});this.activeEntries=[]}}return e.\u0275fac=(()=>{let t;return function(i){return(t||(t=Nr(e)))(i||e)}})(),e.\u0275cmp=nt({type:e,selectors:[["ngx-charts-line-chart"]],contentQueries:function(n,i,r){if(n&1&&(ga(r,rH,5),ga(r,sH,5)),n&2){let s;Dn(s=En())&&(i.tooltipTemplate=s.first),Dn(s=En())&&(i.seriesTooltipTemplate=s.first)}},hostBindings:function(n,i){n&1&&it("mouseleave",function(){return i.hideCircles()})},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",autoScale:"autoScale",timeline:"timeline",gradient:"gradient",showGridLines:"showGridLines",curve:"curve",activeEntries:"activeEntries",schemeType:"schemeType",rangeFillOpacity:"rangeFillOpacity",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",roundDomains:"roundDomains",tooltipDisabled:"tooltipDisabled",showRefLines:"showRefLines",referenceLines:"referenceLines",showRefLabels:"showRefLabels",xScaleMin:"xScaleMin",xScaleMax:"xScaleMax",yScaleMin:"yScaleMin",yScaleMax:"yScaleMax",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[ha],decls:12,vars:20,consts:[[3,"legendLabelClick","legendLabelActivate","legendLabelDeactivate","view","showLegend","legendOptions","activeEntries","animations"],[1,"line-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks","dimensionsChanged",4,"ngIf"],[4,"ngIf"],[3,"mouseleave",4,"ngIf"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","scaleType","legend","onDomainChange",4,"ngIf"],["ngx-charts-x-axis","",3,"dimensionsChanged","xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks"],["ngx-charts-y-axis","",3,"dimensionsChanged","yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks"],[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","activeEntries","scaleType","curve","rangeFillOpacity","hasRange","animations"],[3,"mouseleave"],["ngx-charts-tooltip-area","",3,"hover","dims","xSet","xScale","yScale","results","colors","tooltipDisabled","tooltipTemplate"],[4,"ngFor","ngForOf"],["ngx-charts-circle-series","",3,"select","activate","deactivate","xScale","yScale","colors","data","scaleType","visibleValue","activeEntries","tooltipDisabled","tooltipTemplate"],["ngx-charts-timeline","",3,"onDomainChange","results","view","height","scheme","customColors","scaleType","legend"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","scaleType","curve","hasRange","animations"]],template:function(n,i){n&1&&(ge(0,"ngx-charts-chart",0),it("legendLabelClick",function(s){return i.onClick(s)})("legendLabelActivate",function(s){return i.onActivate(s)})("legendLabelDeactivate",function(s){return i.onDeactivate(s)}),xe(),ge(1,"defs")(2,"clipPath"),Re(3,"rect"),pe()(),ge(4,"g",1),Ie(5,fH,1,11,"g",2)(6,pH,1,13,"g",3),ge(7,"g"),Ie(8,mH,2,2,"g",4)(9,vH,2,2,"g",4)(10,bH,3,9,"g",5),pe()(),Ie(11,wH,2,13,"g",6),pe()),n&2&&(fe("view",Du(17,IS,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),ae(2),Ne("id",i.clipPathId),ae(),Ne("width",i.dims.width+10)("height",i.dims.height+10)("transform","translate(-5, -5)"),ae(),Ne("transform",i.transform),ae(),fe("ngIf",i.xAxis),ae(),fe("ngIf",i.yAxis),ae(),Ne("clip-path",i.clipPath),ae(),fe("ngIf",!i.isSSR),ae(),fe("ngIf",i.isSSR),ae(),fe("ngIf",!i.tooltipDisabled),ae(),fe("ngIf",i.timeline&&i.scaleType!="ordinal"))},dependencies:[MH,NH,FH,KH,BH,PH,HH,mn,Pr],styles:[oH],encapsulation:2,data:{animation:[Ya("animationState",[go(":leave",[cn({opacity:1}),po(500,cn({opacity:0}))])])]},changeDetection:0}),e})(),BS=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Ce({imports:[[yn]]}),e})();var Ene=2*Math.PI;var V0=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Ce({imports:[[yn]]}),e})(),JH=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Ce({imports:[[yn,V0,BS]]}),e})();var eU=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Ce({imports:[[yn]]}),e})();var tU=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Ce({imports:[[yn]]}),e})();var nU=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Ce({imports:[[yn,V0,PS]]}),e})();function iU(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}var rU=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Ce({imports:[[yn]]}),e})(),HS=(()=>{class e{constructor(){iU()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Ce({imports:[yn,YH,PS,qH,XH,QH,rU,BS,JH,eU,V0,tU,nU]}),e})();var oU=()=>({color:"green"}),aU=()=>({color:"red"}),lU=(e,t,n)=>({"bi-thermometer-high":e,"bi-thermometer-low":t,"bi-thermometer-half":n}),cU=e=>[e,300];function uU(e,t){e&1&&(ge(0,"div",10)(1,"span",21),tt(2,"Loading..."),pe()())}function dU(e,t){if(e&1&&(ge(0,"h1",22),tt(1),pe()),e&2){let n=me();ae(),kt("",n.lastUpdate.temp,"\xB0")}}function hU(e,t){e&1&&(ge(0,"div",13)(1,"span",21),tt(2,"Loading..."),pe()())}function fU(e,t){if(e&1&&(ge(0,"h1",22),tt(1),pe()),e&2){let n=me();ae(),kt("",n.lastUpdate.humi," lux")}}function pU(e,t){e&1&&(ge(0,"div",18)(1,"span",21),tt(2,"Loading..."),pe()())}function gU(e,t){if(e&1&&(ge(0,"h1",22),tt(1),pe()),e&2){let n=me();ae(),kt("",n.lastUpdate.lum,"%")}}function mU(e,t){if(e&1){let n=Kt();ge(0,"div",20)(1,"button",23),it("click",function(){ut(n);let r=me();return dt(r.test())}),tt(2,"Enable temperature alerts"),pe()()}}var US=(()=>{let t=class t{constructor(i,r){this.MQTT=i,this.notif=r,this.on=!1,this.current=new Date,this.granted=!1,this.data=[],this.lastUpdate={temp:0,humi:0,lum:null},this.setting="",this.legend=!1,this.showLabels=!1,this.animations=!1,this.xAxis=!0,this.yAxis=!0,this.timeline=!0,this.innerWidth=window.innerWidth-20,Object.assign(this,{ESPData:jr,SeriesData:$a})}ngOnInit(){setInterval(()=>this.current=new Date,1e3),this.setDataStructure(),this.MQTT.state.subscribe(i=>this.on=i===ir.CONNECTED),this.MQTT.observe("arduino/network").subscribe(i=>{let r=JSON.parse(i.payload.toString());this.addMesures(r),this.lastUpdate.temp=r.temp,this.lastUpdate.humi=Math.floor(r.humi),this.lastUpdate.lum=r.lux,this.updateSetting(r.lux),this.data=[...this.data],r.temp>45&&this.notif.sendNotification(r.temp)})}onResize(i){this.innerWidth=i.target.innerWidth}setDataStructure(){this.data=[],this.data.push(new jr("Temperature")),this.data.push(new jr("Humidity")),this.data.push(new jr("Luminosity"))}addMesures(i){this.data.forEach((r,s)=>{r.series.push(new $a(i,s)),r.series.length>=15&&r.series.shift()})}test(){this.granted=this.notif.requestPermission()}updateSetting(i){i<20?this.setting="Dark room":i<=100?this.setting="Residential Area or Corridor":i<=300?this.setting="General Office Work":i<=500?this.setting="Detailed Workspace":this.setting="Technical Facility or Laboratory"}ngOnDestroy(){this.MQTT.disconnect()}};t.\u0275fac=function(r){return new(r||t)(Me(i1),Me(r1))},t.\u0275cmp=nt({type:t,selectors:[["app-root"]],hostBindings:function(r,s){r&1&&it("resize",function(a){return s.onResize(a)},!1,pu)},decls:34,vars:32,consts:[[1,"containerw-100","p-3"],[1,"hstack","gap-2"],[1,"mb-0"],[1,"ms-auto"],[3,"ngStyle"],[1,"mt-0"],[1,"d-flex","justify-content-between","h-25","align-content-center"],[1,"card","m-1","rounded-3","w-50"],[1,"d-flex","justify-content-center","align-items-center","bg-danger",2,"height","100px"],[1,"bi","text-white",3,"ngClass"],["role","status",1,"spinner-border","text-danger","mx-auto","my-3"],[1,"d-flex","justify-content-center","align-items-center","bg-primary",2,"height","100px"],[1,"bi","bi-moisture","text-white"],["role","status",1,"spinner-border","text-primary","mx-auto","my-3"],[1,"card","m-1"],[1,"d-flex","flex-column","justify-content-center","align-items-center","bg-success",2,"height","150px"],[1,"bi","bi-brightness-high-fill"],[1,"text-white"],["role","status",1,"spinner-border","text-success","mx-auto","my-3"],[3,"view","legend","showXAxisLabel","showYAxisLabel","xAxis","yAxis","timeline","results"],[1,"w-100","text-center"],[1,"visually-hidden"],[1,"text-center","my-auto"],["type","button",1,"btn","mx-auto","btn-secondary",3,"click"]],template:function(r,s){r&1&&(ge(0,"div",0)(1,"div",1)(2,"h2",2),tt(3,"ESP32 Status"),pe(),ge(4,"span",3),tt(5),Au(6,"date"),Re(7,"br"),tt(8),Au(9,"date"),pe()(),ge(10,"span",4),tt(11),pe(),Re(12,"hr",5),ge(13,"div",6)(14,"div",7)(15,"div",8),Re(16,"i",9),pe(),Ie(17,uU,3,0,"div",10)(18,dU,2,1),pe(),ge(19,"div",7)(20,"div",11),Re(21,"i",12),pe(),Ie(22,hU,3,0,"div",13)(23,fU,2,1),pe()(),ge(24,"div",14)(25,"div",15),Re(26,"i",16),ge(27,"h5",17),tt(28),pe()(),Ie(29,pU,3,0,"div",18)(30,gU,2,1),pe(),Re(31,"br")(32,"ngx-charts-line-chart",19),Ie(33,mU,3,0,"div",20),pe()),r&2&&(ae(5),kt("",pg(6,18,s.current,"HH:mm:ss")," "),ae(3),kt(" ",pg(9,21,s.current,"dd-MM-yyyy"),""),ae(2),fe("ngStyle",s.on?Su(24,oU):Su(25,aU)),ae(),kt(" ",s.on?"ONLINE":"OFFLINE"," "),ae(5),fe("ngClass",Eu(26,lU,s.lastUpdate.temp>=30,s.lastUpdate.temp<=18,s.lastUpdate.temp>18)),ae(),Js(17,s.lastUpdate.temp==0?17:18),ae(5),Js(22,s.lastUpdate.humi==0?22:23),ae(6),Bn(s.setting),ae(),Js(29,s.lastUpdate.lum==null?29:30),ae(3),fe("view",eo(30,cU,s.innerWidth))("legend",s.legend)("showXAxisLabel",!1)("showYAxisLabel",!1)("xAxis",s.xAxis)("yAxis",s.yAxis)("timeline",s.timeline)("results",s.data),ae(),Js(33,s.granted?-1:33))},dependencies:[Xx,Qx,VS,Zx],styles:[".card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.7rem}i[_ngcontent-%COMP%]{font-size:3rem!important}button[_ngcontent-%COMP%]{border-radius:0}"]});let e=t;return e})();var _U={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Gne=et(_e({},_U),{"[class.ng-submitted]":"isSubmitted"});var vU=new Se("CallSetDisabledState",{providedIn:"root",factory:()=>jS}),jS="always";var yU=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({});let e=t;return e})();var $S=(()=>{let t=class t{static withConfig(i){return{ngModule:t,providers:[{provide:vU,useValue:i.callSetDisabledState??jS}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({imports:[yU]});let e=t;return e})();var bU=["*"];var xU=["dialog"];var GS={animation:!0,transitionTimerDelayMs:5},wU=(()=>{let t=class t{constructor(){this.animation=GS.animation}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function CU(e){let{transitionDelay:t,transitionDuration:n}=window.getComputedStyle(e),i=parseFloat(t),r=parseFloat(n);return(i+r)*1e3}function zS(e){return typeof e=="string"}function B0(e){return e!=null}function TU(e){return e&&e.then}function WS(e){return(e||document.body).getBoundingClientRect()}function SU(e){return t=>new Oe(n=>{let i=o=>e.run(()=>n.next(o)),r=o=>e.run(()=>n.error(o)),s=()=>e.run(()=>n.complete());return t.subscribe({next:i,error:r,complete:s})})}var DU=()=>{},{transitionTimerDelayMs:EU}=GS,vh=new Map,hs=(e,t,n,i)=>{let r=i.context||{},s=vh.get(t);if(s)switch(i.runningTransition){case"continue":return vt;case"stop":e.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),vh.delete(t)}let o=n(t,i.animation,r)||DU;if(!i.animation||window.getComputedStyle(t).transitionProperty==="none")return e.run(()=>o()),Ae(void 0).pipe(SU(e));let a=new Ye,l=new Ye,c=a.pipe(lf(!0));vh.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let d=CU(t);return e.runOutsideAngular(()=>{let h=tn(t,"transitionend").pipe(Ht(c),Et(({target:u})=>u===t)),f=nf(d+EU).pipe(Ht(c));rf(f,h,l).pipe(Ht(c)).subscribe(()=>{vh.delete(t),e.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};var YS=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({});let e=t;return e})();var qS=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({});let e=t;return e})();var XS=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({});let e=t;return e})(),QS=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({});let e=t;return e})();var j0=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}(j0||{});var Die=(()=>{let e=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,t=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(e()||t()):!1})();var AU=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function ZS(e){let t=Array.from(e.querySelectorAll(AU)).filter(n=>n.tabIndex!==-1);return[t[0],t[t.length-1]]}var IU=(e,t,n,i=!1)=>{e.runOutsideAngular(()=>{let r=tn(t,"focusin").pipe(Ht(n),$e(s=>s.target));tn(t,"keydown").pipe(Ht(n),Et(s=>s.which===j0.Tab),fc(r)).subscribe(([s,o])=>{let[a,l]=ZS(t);(o===a||o===t)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&tn(t,"click").pipe(Ht(n),fc(r),$e(s=>s[1])).subscribe(s=>s.focus())})};var Eie=new Date(1882,10,12),Aie=new Date(2174,10,25);var Iie=1e3*60*60*24;var $0=1080,MU=24*$0,kU=12*$0+793,Mie=29*MU+kU,kie=11*$0+204;var KS=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({});let e=t;return e})();var JS=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({});let e=t;return e})(),OU=(()=>{let t=class t{constructor(){this._ngbConfig=de(wU),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Vo=class{constructor(t,n,i){this.nodes=t,this.viewRef=n,this.componentRef=i}};var NU=(()=>{let t=class t{constructor(){this._document=de(Tt)}hide(){let i=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,s=r.style,{overflow:o,paddingRight:a}=s;if(i>0){let l=parseFloat(window.getComputedStyle(r).paddingRight);s.paddingRight=`${l+i}px`}return s.overflow="hidden",()=>{i>0&&(s.paddingRight=a),s.overflow=o}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),RU=(()=>{let t=class t{constructor(){this._nativeElement=de(mt).nativeElement,this._zone=de(We)}ngOnInit(){this._zone.onStable.asObservable().pipe(nn(1)).subscribe(()=>{hs(this._zone,this._nativeElement,(i,r)=>{r&&WS(i),i.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return hs(this._zone,this._nativeElement,({classList:i})=>i.remove("show"),{animation:this.animation,runningTransition:"stop"})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=nt({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,s){r&2&&(Ks("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),fn("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[ma],decls:0,vars:0,template:function(r,s){},encapsulation:2});let e=t;return e})(),yh=class{update(t){}close(t){}dismiss(t){}},FU=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],LU=["animation","backdropClass"],H0=class{_applyWindowOptions(t,n){FU.forEach(i=>{B0(n[i])&&(t[i]=n[i])})}_applyBackdropOptions(t,n){LU.forEach(i=>{B0(n[i])&&(t[i]=n[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Ht(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Ht(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,n,i,r){this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Ye,this._dismissed=new Ye,this._hidden=new Ye,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(t);else{let n=this._beforeDismiss();TU(n)?n.then(i=>{i!==!1&&this._dismiss(t)},()=>{}):n!==!1&&this._dismiss(t)}}_removeModalElements(){let t=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Ae(void 0);t.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),zo(t,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},U0=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(U0||{}),PU=(()=>{let t=class t{constructor(){this._document=de(Tt),this._elRef=de(mt),this._zone=de(We),this._closed$=new Ye,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ye,this.shown=new Ye,this.hidden=new Ye}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":zS(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(i){this.dismissEvent.emit(i)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(nn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:i}=this._elRef,r={animation:this.animation,runningTransition:"stop"},s=hs(this._zone,i,()=>i.classList.remove("show"),r),o=hs(this._zone,this._dialogEl.nativeElement,()=>{},r),a=zo(s,o);return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){let i={animation:this.animation,runningTransition:"continue"},r=hs(this._zone,this._elRef.nativeElement,(o,a)=>{a&&WS(o),o.classList.add("show")},i),s=hs(this._zone,this._dialogEl.nativeElement,()=>{},i);zo(r,s).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:i}=this._elRef;this._zone.runOutsideAngular(()=>{tn(i,"keydown").pipe(Ht(this._closed$),Et(s=>s.which===j0.Escape)).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(U0.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let r=!1;tn(this._dialogEl.nativeElement,"mousedown").pipe(Ht(this._closed$),At(()=>r=!1),rn(()=>tn(i,"mouseup").pipe(Ht(this._closed$),nn(1))),Et(({target:s})=>i===s)).subscribe(()=>{r=!0}),tn(i,"click").pipe(Ht(this._closed$)).subscribe(({target:s})=>{i===s&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!r&&this._zone.run(()=>this.dismiss(U0.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:i}=this._elRef;if(!i.contains(document.activeElement)){let r=i.querySelector("[ngbAutofocus]"),s=ZS(i)[0];(r||s||i).focus()}}_restoreFocus(){let i=this._document.body,r=this._elWithFocus,s;r&&r.focus&&i.contains(r)?s=r:s=i,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&hs(this._zone,this._elRef.nativeElement,({classList:i})=>(i.add("modal-static"),()=>i.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=nt({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(r,s){if(r&1&&Ti(xU,7),r&2){let o;Dn(o=En())&&(s._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,s){r&2&&(Ne("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),Ks("modal d-block"+(s.windowClass?" "+s.windowClass:"")),fn("fade",s.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[ma],ngContentSelectors:bU,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(r,s){r&1&&(fa(),ge(0,"div",1,0)(2,"div",2),pa(3),pe()()),r&2&&Ks("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+s.fullscreenClass+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let e=t;return e})(),VU=(()=>{let t=class t{constructor(){this._applicationRef=de(ei),this._injector=de(Mt),this._environmentInjector=de(Ut),this._document=de(Tt),this._scrollBar=de(NU),this._activeWindowCmptHasChanged=new Ye,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new ye;let i=de(We);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let r=this._windowCmpts[this._windowCmpts.length-1];IU(i,r.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(r.location.nativeElement)}})}_restoreScrollBar(){let i=this._scrollBarRestoreFn;i&&(this._scrollBarRestoreFn=null,i())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(i,r,s){let o=s.container instanceof HTMLElement?s.container:B0(s.container)?this._document.querySelector(s.container):this._document.body;if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let a=new yh;i=s.injector||i;let l=i.get(Ut,null)||this._environmentInjector,c=this._getContentRef(i,l,r,a,s),d=s.backdrop!==!1?this._attachBackdrop(o):void 0,h=this._attachWindowComponent(o,c.nodes),f=new H0(h,c,d,s.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(h),f.hidden.pipe(nn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=u=>{f.close(u)},a.dismiss=u=>{f.dismiss(u)},a.update=u=>{f.update(u)},f.update(s),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),d&&d.instance&&d.changeDetectorRef.detectChanges(),h.changeDetectorRef.detectChanges(),f}get activeInstances(){return this._activeInstances}dismissAll(i){this._modalRefs.forEach(r=>r.dismiss(i))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(i){let r=Ru(RU,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),i.appendChild(r.location.nativeElement),r}_attachWindowComponent(i,r){let s=Ru(PU,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_getContentRef(i,r,s,o,a){return s?s instanceof mi?this._createFromTemplateRef(s,o):zS(s)?this._createFromString(s):this._createFromComponent(i,r,s,o,a):new Vo([])}_createFromTemplateRef(i,r){let s={$implicit:r,close(a){r.close(a)},dismiss(a){r.dismiss(a)}},o=i.createEmbeddedView(s);return this._applicationRef.attachView(o),new Vo([o.rootNodes],o)}_createFromString(i){let r=this._document.createTextNode(`${i}`);return new Vo([[r]])}_createFromComponent(i,r,s,o,a){let l=Mt.create({providers:[{provide:yh,useValue:o}],parent:i}),c=Ru(s,{environmentInjector:r,elementInjector:l}),d=c.location.nativeElement;return a.scrollable&&d.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new Vo([[d]],c.hostView,c)}_setAriaHidden(i){let r=i.parentElement;r&&i!==this._document.body&&(Array.from(r.children).forEach(s=>{s!==i&&s.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((i,r)=>{i?r.setAttribute("aria-hidden",i):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(i){let r=()=>{let s=this._modalRefs.indexOf(i);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(i),this._activeInstances.emit(this._modalRefs),i.result.then(r,r)}_registerWindowCmpt(i){this._windowCmpts.push(i),this._activeWindowCmptHasChanged.next(),i.onDestroy(()=>{let r=this._windowCmpts.indexOf(i);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),BU=(()=>{let t=class t{constructor(){this._injector=de(Mt),this._modalStack=de(VU),this._config=de(OU)}open(i,r={}){let s=_e(et(_e({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._injector,i,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(i){this._modalStack.dismissAll(i)}hasOpenModals(){return this._modalStack.hasOpenModals()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),eD=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({providers:[BU]});let e=t;return e})();var tD=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({});let e=t;return e})();var nD=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({});let e=t;return e})();var iD=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({});let e=t;return e})();var rD=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({});let e=t;return e})();var sD=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({});let e=t;return e})();var oD=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({});let e=t;return e})();var aD=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({});let e=t;return e})();var lD=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({});let e=t;return e})();var cD=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({});let e=t;return e})();var Oie=new Se("live announcer delay",{providedIn:"root",factory:()=>100});var uD=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({});let e=t;return e})();var dD=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({});let e=t;return e})(),HU=[YS,qS,XS,QS,KS,JS,eD,tD,dD,nD,iD,rD,sD,oD,aD,lD,cD,uD],hD=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({imports:[HU,YS,qS,XS,QS,KS,JS,eD,tD,dD,nD,iD,rD,sD,oD,aD,lD,cD,uD]});let e=t;return e})();function fD(e){return new he(3e3,!1)}function UU(){return new he(3100,!1)}function jU(){return new he(3101,!1)}function $U(e){return new he(3001,!1)}function GU(e){return new he(3003,!1)}function zU(e){return new he(3004,!1)}function WU(e,t){return new he(3005,!1)}function YU(){return new he(3006,!1)}function qU(){return new he(3007,!1)}function XU(e,t){return new he(3008,!1)}function QU(e){return new he(3002,!1)}function ZU(e,t,n,i,r){return new he(3010,!1)}function KU(){return new he(3011,!1)}function JU(){return new he(3012,!1)}function ej(){return new he(3200,!1)}function tj(){return new he(3202,!1)}function nj(){return new he(3013,!1)}function ij(e){return new he(3014,!1)}function rj(e){return new he(3015,!1)}function sj(e){return new he(3016,!1)}function oj(e,t){return new he(3404,!1)}function aj(e){return new he(3502,!1)}function lj(e){return new he(3503,!1)}function cj(){return new he(3300,!1)}function uj(e){return new he(3504,!1)}function dj(e){return new he(3301,!1)}function hj(e,t){return new he(3302,!1)}function fj(e){return new he(3303,!1)}function pj(e,t){return new he(3400,!1)}function gj(e){return new he(3401,!1)}function mj(e){return new he(3402,!1)}function _j(e,t){return new he(3505,!1)}function dr(e){switch(e.length){case 0:return new rr;case 1:return e[0];default:return new Wa(e)}}function ED(e,t,n=new Map,i=new Map){let r=[],s=[],o=-1,a=null;if(t.forEach(l=>{let c=l.get("offset"),d=c==o,h=d&&a||new Map;l.forEach((f,u)=>{let p=u,g=f;if(u!=="offset")switch(p=e.normalizePropertyName(p,r),g){case vd:g=n.get(u);break;case ri:g=i.get(u);break;default:g=e.normalizeStyleValue(u,p,g,r);break}h.set(p,g)}),d||s.push(h),a=h,o=c}),r.length)throw aj(r);return s}function h_(e,t,n,i){switch(t){case"start":e.onStart(()=>i(n&&G0(n,"start",e)));break;case"done":e.onDone(()=>i(n&&G0(n,"done",e)));break;case"destroy":e.onDestroy(()=>i(n&&G0(n,"destroy",e)));break}}function G0(e,t,n){let i=n.totalTime,r=!!n.disabled,s=f_(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,i??e.totalTime,r),o=e._data;return o!=null&&(s._data=o),s}function f_(e,t,n,i,r="",s=0,o){return{element:e,triggerName:t,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function xn(e,t,n){let i=e.get(t);return i||e.set(t,i=n),i}function pD(e){let t=e.indexOf(":"),n=e.substring(1,t),i=e.slice(t+1);return[n,i]}var vj=typeof document>"u"?null:document.documentElement;function p_(e){let t=e.parentNode||e.host||null;return t===vj?null:t}function yj(e){return e.substring(1,6)=="ebkit"}var fs=null,gD=!1;function bj(e){fs||(fs=xj()||{},gD=fs.style?"WebkitAppearance"in fs.style:!1);let t=!0;return fs.style&&!yj(e)&&(t=e in fs.style,!t&&gD&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in fs.style)),t}function xj(){return typeof document<"u"?document.body:null}function AD(e,t){for(;t;){if(t===e)return!0;t=p_(t)}return!1}function ID(e,t,n){if(n)return Array.from(e.querySelectorAll(t));let i=e.querySelector(t);return i?[i]:[]}var g_=(()=>{let t=class t{validateStyleProperty(i){return bj(i)}matchesElement(i,r){return!1}containsElement(i,r){return AD(i,r)}getParentElement(i){return p_(i)}query(i,r,s){return ID(i,r,s)}computeStyle(i,r,s){return s||""}animate(i,r,s,o,a,l=[],c){return new rr(s,o)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})(),y_=class y_{};y_.NOOP=new g_;var ms=y_,_s=class{};var wj=1e3,MD="{{",Cj="}}",kD="ng-enter",Q0="ng-leave",bh="ng-trigger",Sh=".ng-trigger",mD="ng-animating",Z0=".ng-animating";function Fi(e){if(typeof e=="number")return e;let t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:K0(parseFloat(t[1]),t[2])}function K0(e,t){switch(t){case"s":return e*wj;default:return e}}function Dh(e,t,n){return e.hasOwnProperty("duration")?e:Tj(e,t,n)}function Tj(e,t,n){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof e=="string"){let a=e.match(i);if(a===null)return t.push(fD(e)),{duration:0,delay:0,easing:""};r=K0(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=K0(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else r=e;if(!n){let a=!1,l=t.length;r<0&&(t.push(UU()),a=!0),s<0&&(t.push(jU()),a=!0),a&&t.splice(l,0,fD(e))}return{duration:r,delay:s,easing:o}}function Sj(e){return e.length?e[0]instanceof Map?e:e.map(t=>new Map(Object.entries(t))):[]}function hi(e,t,n){t.forEach((i,r)=>{let s=m_(r);n&&!n.has(r)&&n.set(r,e.style[s]),e.style[s]=i})}function gs(e,t){t.forEach((n,i)=>{let r=m_(i);e.style[r]=""})}function Ml(e){return Array.isArray(e)?e.length==1?e[0]:s1(e):e}function Dj(e,t,n){let i=t.params||{},r=OD(e);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||n.push($U(s))})}var J0=new RegExp(`${MD}\\s*(.+?)\\s*${Cj}`,"g");function OD(e){let t=[];if(typeof e=="string"){let n;for(;n=J0.exec(e);)t.push(n[1]);J0.lastIndex=0}return t}function Ol(e,t,n){let i=`${e}`,r=i.replace(J0,(s,o)=>{let a=t[o];return a==null&&(n.push(GU(o)),a=""),a.toString()});return r==i?e:r}var Ej=/-+([a-z0-9])/g;function m_(e){return e.replace(Ej,(...t)=>t[1].toUpperCase())}function Aj(e,t){return e===0||t===0}function Ij(e,t,n){if(n.size&&t.length){let i=t[0],r=[];if(n.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,__(e,a)))}}return t}function bn(e,t,n){switch(t.type){case Ve.Trigger:return e.visitTrigger(t,n);case Ve.State:return e.visitState(t,n);case Ve.Transition:return e.visitTransition(t,n);case Ve.Sequence:return e.visitSequence(t,n);case Ve.Group:return e.visitGroup(t,n);case Ve.Animate:return e.visitAnimate(t,n);case Ve.Keyframes:return e.visitKeyframes(t,n);case Ve.Style:return e.visitStyle(t,n);case Ve.Reference:return e.visitReference(t,n);case Ve.AnimateChild:return e.visitAnimateChild(t,n);case Ve.AnimateRef:return e.visitAnimateRef(t,n);case Ve.Query:return e.visitQuery(t,n);case Ve.Stagger:return e.visitStagger(t,n);default:throw zU(t.type)}}function __(e,t){return window.getComputedStyle(e)[t]}var Mj=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Eh=class extends _s{normalizePropertyName(t,n){return m_(t)}normalizeStyleValue(t,n,i,r){let s="",o=i.toString().trim();if(Mj.has(n)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(WU(t,i))}return o+s}};var Ah="*";function kj(e,t){let n=[];return typeof e=="string"?e.split(/\s*,\s*/).forEach(i=>Oj(i,n,t)):n.push(e),n}function Oj(e,t,n){if(e[0]==":"){let l=Nj(e,n);if(typeof l=="function"){t.push(l);return}e=l}let i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return n.push(rj(e)),t;let r=i[1],s=i[2],o=i[3];t.push(_D(r,o));let a=r==Ah&&o==Ah;s[0]=="<"&&!a&&t.push(_D(o,r))}function Nj(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return t.push(sj(e)),"* => *"}}var xh=new Set(["true","1"]),wh=new Set(["false","0"]);function _D(e,t){let n=xh.has(e)||wh.has(e),i=xh.has(t)||wh.has(t);return(r,s)=>{let o=e==Ah||e==r,a=t==Ah||t==s;return!o&&n&&typeof r=="boolean"&&(o=r?xh.has(e):wh.has(e)),!a&&i&&typeof s=="boolean"&&(a=s?xh.has(t):wh.has(t)),o&&a}}var ND=":self",Rj=new RegExp(`s*${ND}s*,?`,"g");function RD(e,t,n,i){return new e_(e).build(t,n,i)}var vD="",e_=class{constructor(t){this._driver=t}build(t,n,i){let r=new t_(n);return this._resetContextStyleTimingState(r),bn(this,Ml(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=vD,t.collectedStyles=new Map,t.collectedStyles.set(vD,new Map),t.currentTime=0}visitTrigger(t,n){let i=n.queryCount=0,r=n.depCount=0,s=[],o=[];return t.name.charAt(0)=="@"&&n.errors.push(YU()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==Ve.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,s.push(this.visitState(l,n))}),l.name=c}else if(a.type==Ve.Transition){let l=this.visitTransition(a,n);i+=l.queryCount,r+=l.depCount,o.push(l)}else n.errors.push(qU())}),{type:Ve.Trigger,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,n){let i=this.visitStyle(t.styles,n),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){let s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{OD(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&n.errors.push(XU(t.name,[...s.values()]))}return{type:Ve.State,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,n){n.queryCount=0,n.depCount=0;let i=bn(this,Ml(t.animation),n),r=kj(t.expr,n.errors);return{type:Ve.Transition,matchers:r,animation:i,queryCount:n.queryCount,depCount:n.depCount,options:ps(t.options)}}visitSequence(t,n){return{type:Ve.Sequence,steps:t.steps.map(i=>bn(this,i,n)),options:ps(t.options)}}visitGroup(t,n){let i=n.currentTime,r=0,s=t.steps.map(o=>{n.currentTime=i;let a=bn(this,o,n);return r=Math.max(r,n.currentTime),a});return n.currentTime=r,{type:Ve.Group,steps:s,options:ps(t.options)}}visitAnimate(t,n){let i=Vj(t.timings,n.errors);n.currentAnimateTimings=i;let r,s=t.styles?t.styles:cn({});if(s.type==Ve.Keyframes)r=this.visitKeyframes(s,n);else{let o=t.styles,a=!1;if(!o){a=!0;let c={};i.easing&&(c.easing=i.easing),o=cn(c)}n.currentTime+=i.duration+i.delay;let l=this.visitStyle(o,n);l.isEmptyStep=a,r=l}return n.currentAnimateTimings=null,{type:Ve.Animate,timings:i,style:r,options:null}}visitStyle(t,n){let i=this._makeStyleAst(t,n);return this._validateStyleAst(i,n),i}_makeStyleAst(t,n){let i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)typeof a=="string"?a===ri?i.push(a):n.errors.push(QU(a)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(MD)>=0){s=!0;break}}}),{type:Ve.Style,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,n){let i=n.currentAnimateTimings,r=n.currentTime,s=n.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=n.collectedStyles.get(n.currentQuerySelector),d=c.get(l),h=!0;d&&(s!=r&&s>=d.startTime&&r<=d.endTime&&(n.errors.push(ZU(l,d.startTime,d.endTime,s,r)),h=!1),s=d.startTime),h&&c.set(l,{startTime:s,endTime:r}),n.options&&Dj(a,n.options,n.errors)})})}visitKeyframes(t,n){let i={type:Ve.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(KU()),i;let r=1,s=0,o=[],a=!1,l=!1,c=0,d=t.steps.map(b=>{let w=this._makeStyleAst(b,n),C=w.offset!=null?w.offset:Pj(w.styles),x=0;return C!=null&&(s++,x=w.offset=C),l=l||x<0||x>1,a=a||x<c,c=x,o.push(x),w});l&&n.errors.push(JU()),a&&n.errors.push(ej());let h=t.steps.length,f=0;s>0&&s<h?n.errors.push(tj()):s==0&&(f=r/(h-1));let u=h-1,p=n.currentTime,g=n.currentAnimateTimings,m=g.duration;return d.forEach((b,w)=>{let C=f>0?w==u?1:f*w:o[w],x=C*m;n.currentTime=p+g.delay+x,g.duration=x,this._validateStyleAst(b,n),b.offset=C,i.styles.push(b)}),i}visitReference(t,n){return{type:Ve.Reference,animation:bn(this,Ml(t.animation),n),options:ps(t.options)}}visitAnimateChild(t,n){return n.depCount++,{type:Ve.AnimateChild,options:ps(t.options)}}visitAnimateRef(t,n){return{type:Ve.AnimateRef,animation:this.visitReference(t.animation,n),options:ps(t.options)}}visitQuery(t,n){let i=n.currentQuerySelector,r=t.options||{};n.queryCount++,n.currentQuery=t;let[s,o]=Fj(t.selector);n.currentQuerySelector=i.length?i+" "+s:s,xn(n.collectedStyles,n.currentQuerySelector,new Map);let a=bn(this,Ml(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:Ve.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:ps(t.options)}}visitStagger(t,n){n.currentQuery||n.errors.push(nj());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Dh(t.timings,n.errors,!0);return{type:Ve.Stagger,animation:bn(this,Ml(t.animation),n),timings:i,options:null}}};function Fj(e){let t=!!e.split(/\s*,\s*/).find(n=>n==ND);return t&&(e=e.replace(Rj,"")),e=e.replace(/@\*/g,Sh).replace(/@\w+/g,n=>Sh+"-"+n.slice(1)).replace(/:animating/g,Z0),[e,t]}function Lj(e){return e?_e({},e):null}var t_=class{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function Pj(e){if(typeof e=="string")return null;let t=null;if(Array.isArray(e))e.forEach(n=>{if(n instanceof Map&&n.has("offset")){let i=n;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(e instanceof Map&&e.has("offset")){let n=e;t=parseFloat(n.get("offset")),n.delete("offset")}return t}function Vj(e,t){if(e.hasOwnProperty("duration"))return e;if(typeof e=="number"){let s=Dh(e,t).duration;return z0(s,0,"")}let n=e;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=z0(0,0,"");return s.dynamic=!0,s.strValue=n,s}let r=Dh(n,t);return z0(r.duration,r.delay,r.easing)}function ps(e){return e?(e=_e({},e),e.params&&(e.params=Lj(e.params))):e={},e}function z0(e,t,n){return{duration:e,delay:t,easing:n}}function v_(e,t,n,i,r,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var Nl=class{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,n){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...n)}has(t){return this._map.has(t)}clear(){this._map.clear()}},Bj=1,Hj=":enter",Uj=new RegExp(Hj,"g"),jj=":leave",$j=new RegExp(jj,"g");function FD(e,t,n,i,r,s=new Map,o=new Map,a,l,c=[]){return new n_().buildKeyframes(e,t,n,i,r,s,o,a,l,c)}var n_=class{buildKeyframes(t,n,i,r,s,o,a,l,c,d=[]){c=c||new Nl;let h=new i_(t,n,c,r,s,d,[]);h.options=l;let f=l.delay?Fi(l.delay):0;h.currentTimeline.delayNextStep(f),h.currentTimeline.setStyles([o],null,h.errors,l),bn(this,i,h);let u=h.timelines.filter(p=>p.containsAnimation());if(u.length&&a.size){let p;for(let g=u.length-1;g>=0;g--){let m=u[g];if(m.element===n){p=m;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,h.errors,l)}return u.length?u.map(p=>p.buildKeyframes()):[v_(n,[],[],[],0,f,"",!1)]}visitTrigger(t,n){}visitState(t,n){}visitTransition(t,n){}visitAnimateChild(t,n){let i=n.subInstructions.get(n.element);if(i){let r=n.createSubContext(t.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=t}visitAnimateRef(t,n){let i=n.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],n,i),this.visitReference(t.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=t}_applyAnimationRefDelays(t,n,i){for(let r of t){let s=r?.delay;if(s){let o=typeof s=="number"?s:Fi(Ol(s,r?.params??{},n.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,n,i){let s=n.currentTimeline.currentTime,o=i.duration!=null?Fi(i.duration):null,a=i.delay!=null?Fi(i.delay):null;return o!==0&&t.forEach(l=>{let c=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,n){n.updateOptions(t.options,!0),bn(this,t.animation,n),n.previousNode=t}visitSequence(t,n){let i=n.subContextCount,r=n,s=t.options;if(s&&(s.params||s.delay)&&(r=n.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==Ve.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ih);let o=Fi(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>bn(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=t}visitGroup(t,n){let i=[],r=n.currentTimeline.currentTime,s=t.options&&t.options.delay?Fi(t.options.delay):0;t.steps.forEach(o=>{let a=n.createSubContext(t.options);s&&a.delayNextStep(s),bn(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(r),n.previousNode=t}_visitTiming(t,n){if(t.dynamic){let i=t.strValue,r=n.params?Ol(i,n.params,n.errors):i;return Dh(r,n.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,n){let i=n.currentAnimateTimings=this._visitTiming(t.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());let s=t.style;s.type==Ve.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(i.duration),this.visitStyle(s,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=t}visitStyle(t,n){let i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,n.errors,n.options),n.previousNode=t}visitKeyframes(t,n){let i=n.currentAnimateTimings,r=n.currentTimeline.duration,s=i.duration,a=n.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(r+s),n.previousNode=t}visitQuery(t,n){let i=n.currentTimeline.currentTime,r=t.options||{},s=r.delay?Fi(r.delay):0;s&&(n.previousNode.type===Ve.Style||i==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Ih);let o=i,a=n.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{n.currentQueryIndex=d;let h=n.createSubContext(t.options,c);s&&h.delayNextStep(s),c===n.element&&(l=h.currentTimeline),bn(this,t.animation,h),h.currentTimeline.applyStylesToKeyframe();let f=h.currentTimeline.currentTime;o=Math.max(o,f)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=t}visitStagger(t,n){let i=n.parentContext,r=n.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let d=n.currentTimeline;l&&d.delayNextStep(l);let h=d.currentTime;bn(this,t.animation,n),n.previousNode=t,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}},Ih={},i_=class e{constructor(t,n,i,r,s,o,a,l){this._driver=t,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ih,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Mh(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,n){if(!t)return;let i=t,r=this.options;i.duration!=null&&(r.duration=Fi(i.duration)),i.delay!=null&&(r.delay=Fi(i.delay));let s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=Ol(s[a],o,this.errors))})}}_copyOptions(){let t={};if(this.options){let n=this.options.params;if(n){let i=t.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return t}createSubContext(t=null,n,i){let r=n||this.element,s=new e(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Ih,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,n,i){let r={duration:n??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new r_(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,n,i,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=t.replace(Uj,"."+this._enterClassName),t=t.replace($j,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,t,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&a.length==0&&o.push(ij(n)),a}},Mh=class e{constructor(t,n,i,r){this._driver=t,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+t),n&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Bj,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,n){this._localTimelineStyles.set(t,n),this._globalTimelineStyles.set(t,n),this._styleSummary.set(t,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||ri),this._currentKeyframe.set(n,ri);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,n,i,r){n&&this._previousKeyframe.set("easing",n);let s=r&&r.params||{},o=Gj(t,this._globalTimelineStyles);for(let[a,l]of o){let c=Ol(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ri),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,n)=>{this._currentKeyframe.set(n,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,t)}))}snapshotCurrentStyles(){for(let[t,n]of this._localTimelineStyles)this._pendingStyles.set(t,n),this._updateStyle(t,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let n in this._currentKeyframe)t.push(n);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((n,i)=>{let r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,n=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((d,h)=>{d===vd?t.add(h):d===ri&&n.add(h)}),i||c.set("offset",l/this.duration),r.push(c)});let s=[...t.values()],o=[...n.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return v_(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},r_=class extends Mh{constructor(t,n,i,r,s,o,a=!1){super(t,n,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=i+n,a=n/o,l=new Map(t[0]);l.set("offset",0),s.push(l);let c=new Map(t[0]);c.set("offset",yD(a)),s.push(c);let d=t.length-1;for(let h=1;h<=d;h++){let f=new Map(t[h]),u=f.get("offset"),p=n+u*i;f.set("offset",yD(p/o)),s.push(f)}i=o,n=0,r="",t=s}return v_(this.element,t,this.preStyleProps,this.postStyleProps,i,n,r,!0)}};function yD(e,t=3){let n=Math.pow(10,t-1);return Math.round(e*n)/n}function Gj(e,t){let n=new Map,i;return e.forEach(r=>{if(r==="*"){i??=t.keys();for(let s of i)n.set(s,ri)}else for(let[s,o]of r)n.set(s,o)}),n}function bD(e,t,n,i,r,s,o,a,l,c,d,h,f){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:h,errors:f}}var W0={},kh=class{constructor(t,n,i){this._triggerName=t,this.ast=n,this._stateStyles=i}match(t,n,i,r){return zj(this.ast.matchers,t,n,i,r)}buildStyles(t,n,i){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(n,i):new Map}build(t,n,i,r,s,o,a,l,c,d){let h=[],f=this.ast.options&&this.ast.options.params||W0,u=a&&a.params||W0,p=this.buildStyles(i,u,h),g=l&&l.params||W0,m=this.buildStyles(r,g,h),b=new Set,w=new Map,C=new Map,x=r==="void",T={params:LD(g,f),delay:this.ast.options?.delay},A=d?[]:FD(t,n,this.ast.animation,s,o,p,m,T,c,h),O=0;return A.forEach(B=>{O=Math.max(B.duration+B.delay,O)}),h.length?bD(n,this._triggerName,i,r,x,p,m,[],[],w,C,O,h):(A.forEach(B=>{let $=B.element,k=xn(w,$,new Set);B.preStyleProps.forEach(M=>k.add(M));let N=xn(C,$,new Set);B.postStyleProps.forEach(M=>N.add(M)),$!==n&&b.add($)}),bD(n,this._triggerName,i,r,x,p,m,A,[...b.values()],w,C,O))}};function zj(e,t,n,i,r){return e.some(s=>s(t,n,i,r))}function LD(e,t){let n=_e({},t);return Object.entries(e).forEach(([i,r])=>{r!=null&&(n[i]=r)}),n}var s_=class{constructor(t,n,i){this.styles=t,this.defaultParams=n,this.normalizer=i}buildStyles(t,n){let i=new Map,r=LD(t,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Ol(o,r,n));let l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),i.set(a,o)})}),i}};function Wj(e,t,n){return new o_(e,t,n)}var o_=class{constructor(t,n,i){this.name=t,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new s_(r.style,s,i))}),xD(this.states,"true","1"),xD(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new kh(t,r,this.states))}),this.fallbackTransition=Yj(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,n,i,r){return this.transitionFactories.find(o=>o.match(t,n,i,r))||null}matchStyles(t,n,i){return this.fallbackTransition.buildStyles(t,n,i)}};function Yj(e,t,n){let i=[(o,a)=>!0],r={type:Ve.Sequence,steps:[],options:null},s={type:Ve.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new kh(e,s,t)}function xD(e,t,n){e.has(t)?e.has(n)||e.set(n,e.get(t)):e.has(n)&&e.set(t,e.get(n))}var qj=new Nl,a_=class{constructor(t,n,i){this.bodyNode=t,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,n){let i=[],r=[],s=RD(this._driver,n,i,r);if(i.length)throw lj(i);r.length&&void 0,this._animations.set(t,s)}_buildPlayer(t,n,i){let r=t.element,s=ED(this._normalizer,t.keyframes,n,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,n,i={}){let r=[],s=this._animations.get(t),o,a=new Map;if(s?(o=FD(this._driver,n,s,kD,Q0,new Map,new Map,i,qj,r),o.forEach(d=>{let h=xn(a,d.element,new Map);d.postStyleProps.forEach(f=>h.set(f,null))})):(r.push(cj()),o=[]),r.length)throw uj(r);a.forEach((d,h)=>{d.forEach((f,u)=>{d.set(u,this._driver.computeStyle(h,u,ri))})});let l=o.map(d=>{let h=a.get(d.element);return this._buildPlayer(d,new Map,h)}),c=dr(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let n=this._getPlayer(t);n.destroy(),this._playersById.delete(t);let i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(t){let n=this._playersById.get(t);if(!n)throw dj(t);return n}listen(t,n,i,r){let s=f_(n,"","","");return h_(this._getPlayer(t),i,s,r),()=>{}}command(t,n,i,r){if(i=="register"){this.register(t,r[0]);return}if(i=="create"){let o=r[0]||{};this.create(t,n,o);return}let s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},wD="ng-animate-queued",Xj=".ng-animate-queued",Y0="ng-animate-disabled",Qj=".ng-animate-disabled",Zj="ng-star-inserted",Kj=".ng-star-inserted",Jj=[],PD={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},e$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},$n="__ng_removed",Rl=class{get params(){return this.options.params}constructor(t,n=""){this.namespaceId=n;let i=t&&t.hasOwnProperty("value"),r=i?t.value:t;if(this.value=n$(r),i){let s=t,{value:o}=s,a=w_(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let n=t.params;if(n){let i=this.options.params;Object.keys(n).forEach(r=>{i[r]==null&&(i[r]=n[r])})}}},kl="void",q0=new Rl(kl),l_=class{constructor(t,n,i){this.id=t,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,kn(n,this._hostClassName)}listen(t,n,i,r){if(!this._triggers.has(n))throw hj(i,n);if(i==null||i.length==0)throw fj(n);if(!i$(i))throw pj(i,n);let s=xn(this._elementListeners,t,[]),o={name:n,phase:i,callback:r};s.push(o);let a=xn(this._engine.statesByElement,t,new Map);return a.has(n)||(kn(t,bh),kn(t,bh+"-"+n),a.set(n,q0)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(t,n){return this._triggers.has(t)?!1:(this._triggers.set(t,n),!0)}_getTrigger(t){let n=this._triggers.get(t);if(!n)throw gj(t);return n}trigger(t,n,i,r=!0){let s=this._getTrigger(n),o=new Fl(this.id,n,t),a=this._engine.statesByElement.get(t);a||(kn(t,bh),kn(t,bh+"-"+n),this._engine.statesByElement.set(t,a=new Map));let l=a.get(n),c=new Rl(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=q0),!(c.value===kl)&&l.value===c.value){if(!o$(l.params,c.params)){let g=[],m=s.matchStyles(l.value,l.params,g),b=s.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{gs(t,m),hi(t,b)})}return}let f=xn(this._engine.playersByElement,t,[]);f.forEach(g=>{g.namespaceId==this.id&&g.triggerName==n&&g.queued&&g.destroy()});let u=s.matchTransition(l.value,c.value,t,c.params),p=!1;if(!u){if(!r)return;u=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:n,transition:u,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(kn(t,wD),o.onStart(()=>{Bo(t,wD)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);let m=this._engine.playersByElement.get(t);if(m){let b=m.indexOf(o);b>=0&&m.splice(b,1)}}),this.players.push(o),f.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(n=>n.delete(t)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let n=this._engine.playersByElement.get(t);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,n){let i=this._engine.driver.query(t,Sh,!0);i.forEach(r=>{if(r[$n])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,n,i,r){let s=this._engine.statesByElement.get(t),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let d=this.trigger(t,c,kl,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,n,o),i&&dr(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let n=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(n&&i){let r=new Set;n.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,c=i.get(o)||q0,d=new Rl(kl),h=new Fl(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:d,player:h,isFallbackTransition:!0})})}}removeNode(t,n){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,n),this.triggerLeaveAnimation(t,n,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,n);else{let s=t[$n];(!s||s===PD)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,n))}}insertNode(t,n){kn(t,this._hostClassName)}drainQueuedTransitions(t){let n=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){let l=f_(s,i.triggerName,i.fromState.value,i.toState.value);l._data=t,h_(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{let s=i.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},c_=class{_onRemovalComplete(t,n){this.onRemovalComplete(t,n)}constructor(t,n,i,r){this.bodyNode=t,this.driver=n,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){let t=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,n){let i=new l_(t,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,n){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let l=r.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(t)}else i.push(t);return r.set(n,t),t}register(t,n){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,n)),i}registerTrigger(t,n,i){let r=this._namespaceLookup[t];r&&r.register(n,i)&&this.totalAnimations++}destroy(t,n){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let n=new Set,i=this.statesByElement.get(t);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&n.add(s)}}return n}trigger(t,n,i,r){if(Ch(n)){let s=this._fetchNamespace(t);if(s)return s.trigger(n,i,r),!0}return!1}insertNode(t,n,i,r){if(!Ch(n))return;let s=n[$n];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){let o=this._fetchNamespace(t);o&&o.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,n){n?this.disabledNodes.has(t)||(this.disabledNodes.add(t),kn(t,Y0)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Bo(t,Y0))}removeNode(t,n,i){if(Ch(n)){this.scheduler?.notify();let r=t?this._fetchNamespace(t):null;r?r.removeNode(n,i):this.markElementAsRemoved(t,n,!1,i);let s=this.namespacesByHostElement.get(n);s&&s.id!==t&&s.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(t,n,i,r,s){this.collectedLeaveElements.push(n),n[$n]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,n,i,r,s){return Ch(n)?this._fetchNamespace(t).listen(n,i,r,s):()=>{}}_buildInstruction(t,n,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,n,s)}destroyInnerAnimations(t){let n=this.driver.query(t,Sh,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(t,Z0,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let n=this.playersByElement.get(t);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let n=this.playersByQueriedElement.get(t);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return dr(this.players).onDone(()=>t());t()})}processLeaveNode(t){let n=t[$n];if(n&&n.setForRemoval){if(t[$n]=PD,n.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}t.classList?.contains(Y0)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Qj,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];kn(r,Zj)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{n=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],n.length?dr(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw mj(t)}_flushAnimations(t,n){let i=new Nl,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(X=>{d.add(X);let Q=this.driver.query(X,Xj,!0);for(let W=0;W<Q.length;W++)d.add(Q[W])});let h=this.bodyNode,f=Array.from(this.statesByElement.keys()),u=SD(f,this.collectedEnterElements),p=new Map,g=0;u.forEach((X,Q)=>{let W=kD+g++;p.set(Q,W),X.forEach(S=>kn(S,W))});let m=[],b=new Set,w=new Set;for(let X=0;X<this.collectedLeaveElements.length;X++){let Q=this.collectedLeaveElements[X],W=Q[$n];W&&W.setForRemoval&&(m.push(Q),b.add(Q),W.hasAnimation?this.driver.query(Q,Kj,!0).forEach(S=>b.add(S)):w.add(Q))}let C=new Map,x=SD(f,Array.from(b));x.forEach((X,Q)=>{let W=Q0+g++;C.set(Q,W),X.forEach(S=>kn(S,W))}),t.push(()=>{u.forEach((X,Q)=>{let W=p.get(Q);X.forEach(S=>Bo(S,W))}),x.forEach((X,Q)=>{let W=C.get(Q);X.forEach(S=>Bo(S,W))}),m.forEach(X=>{this.processLeaveNode(X)})});let T=[],A=[];for(let X=this._namespaceList.length-1;X>=0;X--)this._namespaceList[X].drainQueuedTransitions(n).forEach(W=>{let S=W.player,R=W.element;if(T.push(S),this.collectedEnterElements.length){let te=R[$n];if(te&&te.setForMove){if(te.previousTriggersValues&&te.previousTriggersValues.has(W.triggerName)){let ie=te.previousTriggersValues.get(W.triggerName),ee=this.statesByElement.get(W.element);if(ee&&ee.has(W.triggerName)){let J=ee.get(W.triggerName);J.value=ie,ee.set(W.triggerName,J)}}S.destroy();return}}let U=!h||!this.driver.containsElement(h,R),z=C.get(R),ce=p.get(R),re=this._buildInstruction(W,i,ce,z,U);if(re.errors&&re.errors.length){A.push(re);return}if(U){S.onStart(()=>gs(R,re.fromStyles)),S.onDestroy(()=>hi(R,re.toStyles)),r.push(S);return}if(W.isFallbackTransition){S.onStart(()=>gs(R,re.fromStyles)),S.onDestroy(()=>hi(R,re.toStyles)),r.push(S);return}let q=[];re.timelines.forEach(te=>{te.stretchStartingKeyframe=!0,this.disabledNodes.has(te.element)||q.push(te)}),re.timelines=q,i.append(R,re.timelines);let Y={instruction:re,player:S,element:R};o.push(Y),re.queriedElements.forEach(te=>xn(a,te,[]).push(S)),re.preStyleProps.forEach((te,ie)=>{if(te.size){let ee=l.get(ie);ee||l.set(ie,ee=new Set),te.forEach((J,H)=>ee.add(H))}}),re.postStyleProps.forEach((te,ie)=>{let ee=c.get(ie);ee||c.set(ie,ee=new Set),te.forEach((J,H)=>ee.add(H))})});if(A.length){let X=[];A.forEach(Q=>{X.push(_j(Q.triggerName,Q.errors))}),T.forEach(Q=>Q.destroy()),this.reportError(X)}let O=new Map,B=new Map;o.forEach(X=>{let Q=X.element;i.has(Q)&&(B.set(Q,Q),this._beforeAnimationBuild(X.player.namespaceId,X.instruction,O))}),r.forEach(X=>{let Q=X.element;this._getPreviousPlayers(Q,!1,X.namespaceId,X.triggerName,null).forEach(S=>{xn(O,Q,[]).push(S),S.destroy()})});let $=m.filter(X=>DD(X,l,c)),k=new Map;TD(k,this.driver,w,c,ri).forEach(X=>{DD(X,l,c)&&$.push(X)});let M=new Map;u.forEach((X,Q)=>{TD(M,this.driver,new Set(X),l,vd)}),$.forEach(X=>{let Q=k.get(X),W=M.get(X);k.set(X,new Map([...Q?.entries()??[],...W?.entries()??[]]))});let G=[],P=[],ue={};o.forEach(X=>{let{element:Q,player:W,instruction:S}=X;if(i.has(Q)){if(d.has(Q)){W.onDestroy(()=>hi(Q,S.toStyles)),W.disabled=!0,W.overrideTotalTime(S.totalTime),r.push(W);return}let R=ue;if(B.size>1){let z=Q,ce=[];for(;z=z.parentNode;){let re=B.get(z);if(re){R=re;break}ce.push(z)}ce.forEach(re=>B.set(re,R))}let U=this._buildAnimation(W.namespaceId,S,O,s,M,k);if(W.setRealPlayer(U),R===ue)G.push(W);else{let z=this.playersByElement.get(R);z&&z.length&&(W.parentPlayer=dr(z)),r.push(W)}}else gs(Q,S.fromStyles),W.onDestroy(()=>hi(Q,S.toStyles)),P.push(W),d.has(Q)&&r.push(W)}),P.forEach(X=>{let Q=s.get(X.element);if(Q&&Q.length){let W=dr(Q);X.setRealPlayer(W)}}),r.forEach(X=>{X.parentPlayer?X.syncPlayerEvents(X.parentPlayer):X.destroy()});for(let X=0;X<m.length;X++){let Q=m[X],W=Q[$n];if(Bo(Q,Q0),W&&W.hasAnimation)continue;let S=[];if(a.size){let U=a.get(Q);U&&U.length&&S.push(...U);let z=this.driver.query(Q,Z0,!0);for(let ce=0;ce<z.length;ce++){let re=a.get(z[ce]);re&&re.length&&S.push(...re)}}let R=S.filter(U=>!U.destroyed);R.length?r$(this,Q,R):this.processLeaveNode(Q)}return m.length=0,G.forEach(X=>{this.players.push(X),X.onDone(()=>{X.destroy();let Q=this.players.indexOf(X);this.players.splice(Q,1)}),X.play()}),G}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,n,i,r,s){let o=[];if(n){let a=this.playersByQueriedElement.get(t);a&&(o=a)}else{let a=this.playersByElement.get(t);if(a){let l=!s||s==kl;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,n,i){let r=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:t,a=n.isRemovalTransition?void 0:r;for(let l of n.timelines){let c=l.element,d=c!==s,h=xn(i,c,[]);this._getPreviousPlayers(c,d,o,a,n.toState).forEach(u=>{let p=u.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),u.destroy(),h.push(u)})}gs(s,n.fromStyles)}_buildAnimation(t,n,i,r,s,o){let a=n.triggerName,l=n.element,c=[],d=new Set,h=new Set,f=n.timelines.map(p=>{let g=p.element;d.add(g);let m=g[$n];if(m&&m.removedBeforeQueried)return new rr(p.duration,p.delay);let b=g!==l,w=s$((i.get(g)||Jj).map(O=>O.getRealPlayer())).filter(O=>{let B=O;return B.element?B.element===g:!1}),C=s.get(g),x=o.get(g),T=ED(this._normalizer,p.keyframes,C,x),A=this._buildPlayer(p,T,w);if(p.subTimeline&&r&&h.add(g),b){let O=new Fl(t,a,g);O.setRealPlayer(A),c.push(O)}return A});c.forEach(p=>{xn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>t$(this.playersByQueriedElement,p.element,p))}),d.forEach(p=>kn(p,mD));let u=dr(f);return u.onDestroy(()=>{d.forEach(p=>Bo(p,mD)),hi(l,n.toStyles)}),h.forEach(p=>{xn(r,p,[]).push(u)}),u}_buildPlayer(t,n,i){return n.length>0?this.driver.animate(t.element,n,t.duration,t.delay,t.easing,i):new rr(t.duration,t.delay)}},Fl=class{constructor(t,n,i){this.namespaceId=t,this.triggerName=n,this.element=i,this._player=new rr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>h_(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let n=this._player;n.triggerCallback&&t.onStart(()=>n.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,n){xn(this._queuedCallbacks,t,[]).push(n)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let n=this._player;n.triggerCallback&&n.triggerCallback(t)}};function t$(e,t,n){let i=e.get(t);if(i){if(i.length){let r=i.indexOf(n);i.splice(r,1)}i.length==0&&e.delete(t)}return i}function n$(e){return e??null}function Ch(e){return e&&e.nodeType===1}function i$(e){return e=="start"||e=="done"}function CD(e,t){let n=e.style.display;return e.style.display=t??"none",n}function TD(e,t,n,i,r){let s=[];n.forEach(l=>s.push(CD(l)));let o=[];i.forEach((l,c)=>{let d=new Map;l.forEach(h=>{let f=t.computeStyle(c,h,r);d.set(h,f),(!f||f.length==0)&&(c[$n]=e$,o.push(c))}),e.set(c,d)});let a=0;return n.forEach(l=>CD(l,s[a++])),o}function SD(e,t){let n=new Map;if(e.forEach(a=>n.set(a,[])),t.length==0)return n;let i=1,r=new Set(t),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;let c=a.parentNode;return n.has(c)?l=c:r.has(c)?l=i:l=o(c),s.set(a,l),l}return t.forEach(a=>{let l=o(a);l!==i&&n.get(l).push(a)}),n}function kn(e,t){e.classList?.add(t)}function Bo(e,t){e.classList?.remove(t)}function r$(e,t,n){dr(n).onDone(()=>e.processLeaveNode(t))}function s$(e){let t=[];return VD(e,t),t}function VD(e,t){for(let n=0;n<e.length;n++){let i=e[n];i instanceof Wa?VD(i.players,t):t.push(i)}}function o$(e,t){let n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){let s=n[r];if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1}return!0}function DD(e,t,n){let i=n.get(e);if(!i)return!1;let r=t.get(e);return r?i.forEach(s=>r.add(s)):t.set(e,i),n.delete(e),!0}var Uo=class{constructor(t,n,i,r){this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new c_(t.body,n,i,r),this._timelineEngine=new a_(t.body,n,i),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(t,n,i,r,s){let o=t+"-"+r,a=this._triggerCache[o];if(!a){let l=[],c=[],d=RD(this._driver,s,l,c);if(l.length)throw oj(r,l);c.length&&void 0,a=Wj(r,d,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,r,a)}register(t,n){this._transitionEngine.register(t,n)}destroy(t,n){this._transitionEngine.destroy(t,n)}onInsert(t,n,i,r){this._transitionEngine.insertNode(t,n,i,r)}onRemove(t,n,i){this._transitionEngine.removeNode(t,n,i)}disableAnimations(t,n){this._transitionEngine.markElementAsDisabled(t,n)}process(t,n,i,r){if(i.charAt(0)=="@"){let[s,o]=pD(i),a=r;this._timelineEngine.command(s,n,o,a)}else this._transitionEngine.trigger(t,n,i,r)}listen(t,n,i,r,s){if(i.charAt(0)=="@"){let[o,a]=pD(i);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(t,n,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function a$(e,t){let n=null,i=null;return Array.isArray(t)&&t.length?(n=X0(t[0]),t.length>1&&(i=X0(t[t.length-1]))):t instanceof Map&&(n=X0(t)),n||i?new u_(e,n,i):null}var Ho=class Ho{constructor(t,n,i){this._element=t,this._startStyles=n,this._endStyles=i,this._state=0;let r=Ho.initialStylesByElement.get(t);r||Ho.initialStylesByElement.set(t,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&hi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(hi(this._element,this._initialStyles),this._endStyles&&(hi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ho.initialStylesByElement.delete(this._element),this._startStyles&&(gs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gs(this._element,this._endStyles),this._endStyles=null),hi(this._element,this._initialStyles),this._state=3)}};Ho.initialStylesByElement=new WeakMap;var u_=Ho;function X0(e){let t=null;return e.forEach((n,i)=>{l$(i)&&(t=t||new Map,t.set(i,n))}),t}function l$(e){return e==="display"||e==="position"}var Oh=class{constructor(t,n,i,r){this.element=t,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let n=[];return t.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(t,n,i){return t.animate(this._convertKeyframesToObject(n),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&t.set(r,this._finished?i:__(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let n=t==="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},Nh=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,n){return!1}containsElement(t,n){return AD(t,n)}getParentElement(t){return p_(t)}query(t,n,i){return ID(t,n,i)}computeStyle(t,n,i){return __(t,n)}animate(t,n,i,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};s&&(l.easing=s);let c=new Map,d=o.filter(u=>u instanceof Oh);Aj(i,r)&&d.forEach(u=>{u.currentSnapshot.forEach((p,g)=>c.set(g,p))});let h=Sj(n).map(u=>new Map(u));h=Ij(t,h,c);let f=a$(t,h);return new Oh(t,h,l,f)}};var Th="@",BD="@.disabled",Rh=class{constructor(t,n,i,r){this.namespaceId=t,this.delegate=n,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,n){this.delegate.appendChild(t,n),this.engine.onInsert(this.namespaceId,n,t,!1)}insertBefore(t,n,i,r=!0){this.delegate.insertBefore(t,n,i),this.engine.onInsert(this.namespaceId,n,t,r)}removeChild(t,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,i,r){this.delegate.setAttribute(t,n,i,r)}removeAttribute(t,n,i){this.delegate.removeAttribute(t,n,i)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,i,r){this.delegate.setStyle(t,n,i,r)}removeStyle(t,n,i){this.delegate.removeStyle(t,n,i)}setProperty(t,n,i){n.charAt(0)==Th&&n==BD?this.disableAnimations(t,!!i):this.delegate.setProperty(t,n,i)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,i){return this.delegate.listen(t,n,i)}disableAnimations(t,n){this.engine.disableAnimations(t,n)}},d_=class extends Rh{constructor(t,n,i,r,s){super(n,i,r,s),this.factory=t,this.namespaceId=n}setProperty(t,n,i){n.charAt(0)==Th?n.charAt(1)=="."&&n==BD?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,n.slice(1),i):this.delegate.setProperty(t,n,i)}listen(t,n,i){if(n.charAt(0)==Th){let r=c$(t),s=n.slice(1),o="";return s.charAt(0)!=Th&&([s,o]=u$(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(t,n,i)}};function c$(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}function u$(e){let t=e.indexOf("."),n=e.substring(0,t),i=e.slice(t+1);return[n,i]}var Fh=class{constructor(t,n,i){this.delegate=t,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(r,s)=>{let o=s?.parentNode(r);o&&s.removeChild(o,r)}}createRenderer(t,n){let i="",r=this.delegate.createRenderer(t,n);if(!t||!n?.data?.animation){let c=this._rendererCache,d=c.get(r);if(!d){let h=()=>c.delete(r);d=new Rh(i,r,this.engine,h),c.set(r,d)}return d}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,t,c.name,c)};return n.data.animation.forEach(a),new d_(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,n,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>n(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([n,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var h$=(()=>{let t=class t extends Uo{constructor(i,r,s){super(i,r,s,de(Ws,{optional:!0}))}ngOnDestroy(){this.flush()}};t.\u0275fac=function(r){return new(r||t)(be(Tt),be(ms),be(_s))},t.\u0275prov=ve({token:t,factory:t.\u0275fac});let e=t;return e})();function f$(){return new Eh}function p$(e,t,n){return new Fh(e,t,n)}var UD=[{provide:_s,useFactory:f$},{provide:Uo,useClass:h$},{provide:Ar,useFactory:p$,deps:[qu,Uo,We]}],HD=[{provide:ms,useFactory:()=>new Nh},{provide:Wp,useValue:"BrowserAnimations"},...UD],g$=[{provide:ms,useClass:g_},{provide:Wp,useValue:"NoopAnimations"},...UD],jD=(()=>{let t=class t{static withConfig(i){return{ngModule:t,providers:i.disableAnimations?g$:HD}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ce({providers:HD,imports:[Qu]});let e=t;return e})();var m$=new Date().getTime(),_$=Math.floor(Math.random()*1e3),v$={hostname:"yassine.onthewifi.com",port:9001,clean:!0,protocol:"wss",clientId:`web_${m$}_${_$}`,username:"ev3",password:"omelette"},$D=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Te({type:t,bootstrap:[US]}),t.\u0275inj=Ce({imports:[Qu,jD,Zw,hD,n1.forRoot(v$),HS,$S]});let e=t;return e})();ow().bootstrapModule($D).catch(e=>console.error(e));
